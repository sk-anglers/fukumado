var of=Object.defineProperty;var af=(e,t,n)=>t in e?of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Nt=(e,t,n)=>af(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Lc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bc={exports:{}},ps={},Bc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),cf=Symbol.for("react.portal"),uf=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),mf=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),gf=Symbol.for("react.suspense"),yf=Symbol.for("react.memo"),vf=Symbol.for("react.lazy"),la=Symbol.iterator;function wf(e){return e===null||typeof e!="object"?null:(e=la&&e[la]||e["@@iterator"],typeof e=="function"?e:null)}var Pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ac=Object.assign,Rc={};function fr(e,t,n){this.props=e,this.context=t,this.refs=Rc,this.updater=n||Pc}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $c(){}$c.prototype=fr.prototype;function oi(e,t,n){this.props=e,this.context=t,this.refs=Rc,this.updater=n||Pc}var ii=oi.prototype=new $c;ii.constructor=oi;Ac(ii,fr.prototype);ii.isPureReactComponent=!0;var sa=Array.isArray,Dc=Object.prototype.hasOwnProperty,ai={current:null},Oc={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Dc.call(t,r)&&!Oc.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:sl,type:e,key:s,ref:i,props:l,_owner:ai.current}}function _f(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ci(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function xf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oa=/\/+/g;function Ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xf(""+e.key):t.toString(36)}function Il(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case sl:case cf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+Ps(i,0):r,sa(l)?(n="",e!=null&&(n=e.replace(oa,"$&/")+"/"),Il(l,t,n,"",function(d){return d})):l!=null&&(ci(l)&&(l=_f(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(oa,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",sa(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+Ps(s,a);i+=Il(s,t,n,c,l)}else if(c=wf(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+Ps(s,a++),i+=Il(s,t,n,c,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ul(e,t,n){if(e==null)return e;var r=[],l=0;return Il(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Sf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Ll={transition:null},jf={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Ll,ReactCurrentOwner:ai};function zc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ul,forEach:function(e,t,n){ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ul(e,function(){t++}),t},toArray:function(e){return ul(e,function(t){return t})||[]},only:function(e){if(!ci(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=fr;H.Fragment=uf;H.Profiler=ff;H.PureComponent=oi;H.StrictMode=df;H.Suspense=gf;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jf;H.act=zc;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ac({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ai.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Dc.call(t,c)&&!Oc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:sl,type:e.type,key:l,ref:s,props:r,_owner:i}};H.createContext=function(e){return e={$$typeof:mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hf,_context:e},e.Consumer=e};H.createElement=Fc;H.createFactory=function(e){var t=Fc.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:pf,render:e}};H.isValidElement=ci;H.lazy=function(e){return{$$typeof:vf,_payload:{_status:-1,_result:e},_init:Sf}};H.memo=function(e,t){return{$$typeof:yf,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ll.transition;Ll.transition={};try{e()}finally{Ll.transition=t}};H.unstable_act=zc;H.useCallback=function(e,t){return Qe.current.useCallback(e,t)};H.useContext=function(e){return Qe.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};H.useEffect=function(e,t){return Qe.current.useEffect(e,t)};H.useId=function(){return Qe.current.useId()};H.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Qe.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};H.useRef=function(e){return Qe.current.useRef(e)};H.useState=function(e){return Qe.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Qe.current.useTransition()};H.version="18.3.1";Bc.exports=H;var m=Bc.exports;const ui=Lc(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=m,Cf=Symbol.for("react.element"),Nf=Symbol.for("react.fragment"),Ef=Object.prototype.hasOwnProperty,Mf=kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tf={key:!0,ref:!0,__self:!0,__source:!0};function Uc(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Ef.call(t,r)&&!Tf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Cf,type:e,key:s,ref:i,props:l,_owner:Mf.current}}ps.Fragment=Nf;ps.jsx=Uc;ps.jsxs=Uc;bc.exports=ps;var o=bc.exports,co={},Hc={exports:{}},at={},Wc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,O){var z=B.length;B.push(O);e:for(;0<z;){var q=z-1>>>1,re=B[q];if(0<l(re,O))B[q]=O,B[z]=re,z=q;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var O=B[0],z=B.pop();if(z!==O){B[0]=z;e:for(var q=0,re=B.length,qe=re>>>1;q<qe;){var Ee=2*(q+1)-1,tt=B[Ee],Ae=Ee+1,ze=B[Ae];if(0>l(tt,z))Ae<re&&0>l(ze,tt)?(B[q]=ze,B[Ae]=z,q=Ae):(B[q]=tt,B[Ee]=z,q=Ee);else if(Ae<re&&0>l(ze,z))B[q]=ze,B[Ae]=z,q=Ae;else break e}}return O}function l(B,O){var z=B.sortIndex-O.sortIndex;return z!==0?z:B.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],d=[],p=1,g=null,v=3,x=!1,j=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(B){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=B)r(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(d)}}function _(B){if(w=!1,f(B),!j)if(n(c)!==null)j=!0,yt(N);else{var O=n(d);O!==null&&ut(_,O.startTime-B)}}function N(B,O){j=!1,w&&(w=!1,h(L),L=-1),x=!0;var z=v;try{for(f(O),g=n(c);g!==null&&(!(g.expirationTime>O)||B&&!ne());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var re=q(g.expirationTime<=O);O=e.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),f(O)}else r(c);g=n(c)}if(g!==null)var qe=!0;else{var Ee=n(d);Ee!==null&&ut(_,Ee.startTime-O),qe=!1}return qe}finally{g=null,v=z,x=!1}}var k=!1,E=null,L=-1,R=5,D=-1;function ne(){return!(e.unstable_now()-D<R)}function te(){if(E!==null){var B=e.unstable_now();D=B;var O=!0;try{O=E(!0,B)}finally{O?I():(k=!1,E=null)}}else k=!1}var I;if(typeof u=="function")I=function(){u(te)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=te,I=function(){se.postMessage(null)}}else I=function(){C(te,0)};function yt(B){E=B,k||(k=!0,I())}function ut(B,O){L=C(function(){B(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,yt(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var z=v;v=O;try{return B()}finally{v=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,O){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var z=v;v=B;try{return O()}finally{v=z}},e.unstable_scheduleCallback=function(B,O,z){var q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,B){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=z+re,B={id:p++,callback:O,priorityLevel:B,startTime:z,expirationTime:re,sortIndex:-1},z>q?(B.sortIndex=z,t(d,B),n(c)===null&&B===n(d)&&(w?(h(L),L=-1):w=!0,ut(_,z-q))):(B.sortIndex=re,t(c,B),j||x||(j=!0,yt(N))),B},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(B){var O=v;return function(){var z=v;v=O;try{return B.apply(this,arguments)}finally{v=z}}}})(Vc);Wc.exports=Vc;var If=Wc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=m,it=If;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qc=new Set,Fr={};function Pn(e,t){lr(e,t),lr(e+"Capture",t)}function lr(e,t){for(Fr[e]=t,e=0;e<t.length;e++)Qc.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia={},aa={};function Bf(e){return uo.call(aa,e)?!0:uo.call(ia,e)?!1:bf.test(e)?aa[e]=!0:(ia[e]=!0,!1)}function Pf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Af(e,t,n,r){if(t===null||typeof t>"u"||Pf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var di=/[\-:]([a-z])/g;function fi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(di,fi);Pe[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(di,fi);Pe[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(di,fi);Pe[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function hi(e,t,n,r){var l=Pe.hasOwnProperty(t)?Pe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Af(t,n,l,r)&&(n=null),r||l===null?Bf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),On=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),mi=Symbol.for("react.strict_mode"),fo=Symbol.for("react.profiler"),Yc=Symbol.for("react.provider"),qc=Symbol.for("react.context"),pi=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),mo=Symbol.for("react.suspense_list"),gi=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),Gc=Symbol.for("react.offscreen"),ca=Symbol.iterator;function yr(e){return e===null||typeof e!="object"?null:(e=ca&&e[ca]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,As;function Er(e){if(As===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);As=t&&t[1]||""}return`
`+As+e}var Rs=!1;function $s(e,t){if(!e||Rs)return"";Rs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,a=s.length-1;1<=i&&0<=a&&l[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==s[a]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Rs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Er(e):""}function Rf(e){switch(e.tag){case 5:return Er(e.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return e=$s(e.type,!1),e;case 11:return e=$s(e.type.render,!1),e;case 1:return e=$s(e.type,!0),e;default:return""}}function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case On:return"Portal";case fo:return"Profiler";case mi:return"StrictMode";case ho:return"Suspense";case mo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qc:return(e.displayName||"Context")+".Consumer";case Yc:return(e._context.displayName||"Context")+".Provider";case pi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gi:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}function $f(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(t);case 8:return t===mi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Df(e){var t=Kc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fl(e){e._valueTracker||(e._valueTracker=Df(e))}function Xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function go(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ua(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zc(e,t){t=t.checked,t!=null&&hi(e,"checked",t,!1)}function yo(e,t){Zc(e,t);var n=fn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vo(e,t.type,n):t.hasOwnProperty("defaultValue")&&vo(e,t.type,fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function da(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vo(e,t,n){(t!=="number"||Vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mr=Array.isArray;function Zn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function wo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Mr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fn(n)}}function Jc(e,t){var n=fn(t.value),r=fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ha(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hl,tu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Of=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(e){Of.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lr[t]=Lr[e]})});function nu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lr.hasOwnProperty(e)&&Lr[e]?(""+t).trim():t+"px"}function ru(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=nu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Ff=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(e,t){if(t){if(Ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function So(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ko=null,Jn=null,er=null;function ma(e){if(e=al(e)){if(typeof ko!="function")throw Error(M(280));var t=e.stateNode;t&&(t=_s(t),ko(e.stateNode,e.type,t))}}function lu(e){Jn?er?er.push(e):er=[e]:Jn=e}function su(){if(Jn){var e=Jn,t=er;if(er=Jn=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function ou(e,t){return e(t)}function iu(){}var Ds=!1;function au(e,t,n){if(Ds)return e(t,n);Ds=!0;try{return ou(e,t,n)}finally{Ds=!1,(Jn!==null||er!==null)&&(iu(),su())}}function Ur(e,t){var n=e.stateNode;if(n===null)return null;var r=_s(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Co=!1;if(Ut)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Co=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Co=!1}function zf(e,t,n,r,l,s,i,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var br=!1,Ql=null,Yl=!1,No=null,Uf={onError:function(e){br=!0,Ql=e}};function Hf(e,t,n,r,l,s,i,a,c){br=!1,Ql=null,zf.apply(Uf,arguments)}function Wf(e,t,n,r,l,s,i,a,c){if(Hf.apply(this,arguments),br){if(br){var d=Ql;br=!1,Ql=null}else throw Error(M(198));Yl||(Yl=!0,No=d)}}function An(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pa(e){if(An(e)!==e)throw Error(M(188))}function Vf(e){var t=e.alternate;if(!t){if(t=An(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return pa(l),e;if(s===r)return pa(l),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function uu(e){return e=Vf(e),e!==null?du(e):null}function du(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=du(e);if(t!==null)return t;e=e.sibling}return null}var fu=it.unstable_scheduleCallback,ga=it.unstable_cancelCallback,Qf=it.unstable_shouldYield,Yf=it.unstable_requestPaint,we=it.unstable_now,qf=it.unstable_getCurrentPriorityLevel,vi=it.unstable_ImmediatePriority,hu=it.unstable_UserBlockingPriority,ql=it.unstable_NormalPriority,Gf=it.unstable_LowPriority,mu=it.unstable_IdlePriority,gs=null,Bt=null;function Kf(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(gs,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Jf,Xf=Math.log,Zf=Math.LN2;function Jf(e){return e>>>=0,e===0?32:31-(Xf(e)/Zf|0)|0}var ml=64,pl=4194304;function Tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=Tr(a):(s&=i,s!==0&&(r=Tr(s)))}else i=n&~l,i!==0?r=Tr(i):s!==0&&(r=Tr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),l=1<<n,r|=e[n],t&=~l;return r}function eh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-jt(s),a=1<<i,c=l[i];c===-1?(!(a&n)||a&r)&&(l[i]=eh(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function Eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pu(){var e=ml;return ml<<=1,!(ml&4194240)&&(ml=64),e}function Os(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ol(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function nh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-jt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function wi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ee=0;function gu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yu,_i,vu,wu,_u,Mo=!1,gl=[],rn=null,ln=null,sn=null,Hr=new Map,Wr=new Map,Jt=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ya(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function wr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=al(t),t!==null&&_i(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function lh(e,t,n,r,l){switch(t){case"focusin":return rn=wr(rn,e,t,n,r,l),!0;case"dragenter":return ln=wr(ln,e,t,n,r,l),!0;case"mouseover":return sn=wr(sn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return Hr.set(s,wr(Hr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Wr.set(s,wr(Wr.get(s)||null,e,t,n,r,l)),!0}return!1}function xu(e){var t=Sn(e.target);if(t!==null){var n=An(t);if(n!==null){if(t=n.tag,t===13){if(t=cu(n),t!==null){e.blockedOn=t,_u(e.priority,function(){vu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=To(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jo=r,n.target.dispatchEvent(r),jo=null}else return t=al(n),t!==null&&_i(t),e.blockedOn=n,!1;t.shift()}return!0}function va(e,t,n){bl(e)&&n.delete(t)}function sh(){Mo=!1,rn!==null&&bl(rn)&&(rn=null),ln!==null&&bl(ln)&&(ln=null),sn!==null&&bl(sn)&&(sn=null),Hr.forEach(va),Wr.forEach(va)}function _r(e,t){e.blockedOn===t&&(e.blockedOn=null,Mo||(Mo=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,sh)))}function Vr(e){function t(l){return _r(l,e)}if(0<gl.length){_r(gl[0],e);for(var n=1;n<gl.length;n++){var r=gl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&_r(rn,e),ln!==null&&_r(ln,e),sn!==null&&_r(sn,e),Hr.forEach(t),Wr.forEach(t),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)xu(n),n.blockedOn===null&&Jt.shift()}var tr=Qt.ReactCurrentBatchConfig,Kl=!0;function oh(e,t,n,r){var l=ee,s=tr.transition;tr.transition=null;try{ee=1,xi(e,t,n,r)}finally{ee=l,tr.transition=s}}function ih(e,t,n,r){var l=ee,s=tr.transition;tr.transition=null;try{ee=4,xi(e,t,n,r)}finally{ee=l,tr.transition=s}}function xi(e,t,n,r){if(Kl){var l=To(e,t,n,r);if(l===null)Gs(e,t,r,Xl,n),ya(e,r);else if(lh(l,e,t,n,r))r.stopPropagation();else if(ya(e,r),t&4&&-1<rh.indexOf(e)){for(;l!==null;){var s=al(l);if(s!==null&&yu(s),s=To(e,t,n,r),s===null&&Gs(e,t,r,Xl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Gs(e,t,r,null,n)}}var Xl=null;function To(e,t,n,r){if(Xl=null,e=yi(r),e=Sn(e),e!==null)if(t=An(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xl=e,null}function Su(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qf()){case vi:return 1;case hu:return 4;case ql:case Gf:return 16;case mu:return 536870912;default:return 16}default:return 16}}var tn=null,Si=null,Bl=null;function ju(){if(Bl)return Bl;var e,t=Si,n=t.length,r,l="value"in tn?tn.value:tn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return Bl=l.slice(e,1<r?1-r:void 0)}function Pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function wa(){return!1}function ct(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yl:wa,this.isPropagationStopped=wa,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=ct(hr),il=ge({},hr,{view:0,detail:0}),ah=ct(il),Fs,zs,xr,ys=ge({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Fs=e.screenX-xr.screenX,zs=e.screenY-xr.screenY):zs=Fs=0,xr=e),Fs)},movementY:function(e){return"movementY"in e?e.movementY:zs}}),_a=ct(ys),ch=ge({},ys,{dataTransfer:0}),uh=ct(ch),dh=ge({},il,{relatedTarget:0}),Us=ct(dh),fh=ge({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=ct(fh),mh=ge({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ph=ct(mh),gh=ge({},hr,{data:0}),xa=ct(gh),yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wh[e])?!!t[e]:!1}function ki(){return _h}var xh=ge({},il,{key:function(e){if(e.key){var t=yh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sh=ct(xh),jh=ge({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=ct(jh),kh=ge({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),Ch=ct(kh),Nh=ge({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=ct(Nh),Mh=ge({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Th=ct(Mh),Ih=[9,13,27,32],Ci=Ut&&"CompositionEvent"in window,Br=null;Ut&&"documentMode"in document&&(Br=document.documentMode);var Lh=Ut&&"TextEvent"in window&&!Br,ku=Ut&&(!Ci||Br&&8<Br&&11>=Br),ja=" ",ka=!1;function Cu(e,t){switch(e){case"keyup":return Ih.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function bh(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(ka=!0,ja);case"textInput":return e=t.data,e===ja&&ka?null:e;default:return null}}function Bh(e,t){if(zn)return e==="compositionend"||!Ci&&Cu(e,t)?(e=ju(),Bl=Si=tn=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ku&&t.locale!=="ko"?null:t.data;default:return null}}var Ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ph[e.type]:t==="textarea"}function Eu(e,t,n,r){lu(r),t=Zl(t,"onChange"),0<t.length&&(n=new ji("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Qr=null;function Ah(e){Du(e,0)}function vs(e){var t=Wn(e);if(Xc(t))return e}function Rh(e,t){if(e==="change")return t}var Mu=!1;if(Ut){var Hs;if(Ut){var Ws="oninput"in document;if(!Ws){var Na=document.createElement("div");Na.setAttribute("oninput","return;"),Ws=typeof Na.oninput=="function"}Hs=Ws}else Hs=!1;Mu=Hs&&(!document.documentMode||9<document.documentMode)}function Ea(){Pr&&(Pr.detachEvent("onpropertychange",Tu),Qr=Pr=null)}function Tu(e){if(e.propertyName==="value"&&vs(Qr)){var t=[];Eu(t,Qr,e,yi(e)),au(Ah,t)}}function $h(e,t,n){e==="focusin"?(Ea(),Pr=t,Qr=n,Pr.attachEvent("onpropertychange",Tu)):e==="focusout"&&Ea()}function Dh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(Qr)}function Oh(e,t){if(e==="click")return vs(t)}function Fh(e,t){if(e==="input"||e==="change")return vs(t)}function zh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:zh;function Yr(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!uo.call(t,l)||!Ct(e[l],t[l]))return!1}return!0}function Ma(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ta(e,t){var n=Ma(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ma(n)}}function Iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lu(){for(var e=window,t=Vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function Ni(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uh(e){var t=Lu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Iu(n.ownerDocument.documentElement,n)){if(r!==null&&Ni(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Ta(n,s);var i=Ta(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hh=Ut&&"documentMode"in document&&11>=document.documentMode,Un=null,Io=null,Ar=null,Lo=!1;function Ia(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lo||Un==null||Un!==Vl(r)||(r=Un,"selectionStart"in r&&Ni(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ar&&Yr(Ar,r)||(Ar=r,r=Zl(Io,"onSelect"),0<r.length&&(t=new ji("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Un)))}function vl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},Vs={},bu={};Ut&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function ws(e){if(Vs[e])return Vs[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bu)return Vs[e]=t[n];return e}var Bu=ws("animationend"),Pu=ws("animationiteration"),Au=ws("animationstart"),Ru=ws("transitionend"),$u=new Map,La="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(e,t){$u.set(e,t),Pn(t,[e])}for(var Qs=0;Qs<La.length;Qs++){var Ys=La[Qs],Wh=Ys.toLowerCase(),Vh=Ys[0].toUpperCase()+Ys.slice(1);mn(Wh,"on"+Vh)}mn(Bu,"onAnimationEnd");mn(Pu,"onAnimationIteration");mn(Au,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(Ru,"onTransitionEnd");lr("onMouseEnter",["mouseout","mouseover"]);lr("onMouseLeave",["mouseout","mouseover"]);lr("onPointerEnter",["pointerout","pointerover"]);lr("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function ba(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wf(r,t,void 0,e),e.currentTarget=null}function Du(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&l.isPropagationStopped())break e;ba(l,a,d),s=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&l.isPropagationStopped())break e;ba(l,a,d),s=c}}}if(Yl)throw e=No,Yl=!1,No=null,e}function ae(e,t){var n=t[Ro];n===void 0&&(n=t[Ro]=new Set);var r=e+"__bubble";n.has(r)||(Ou(t,e,2,!1),n.add(r))}function qs(e,t,n){var r=0;t&&(r|=4),Ou(n,e,r,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[wl]){e[wl]=!0,Qc.forEach(function(n){n!=="selectionchange"&&(Qh.has(n)||qs(n,!1,e),qs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,qs("selectionchange",!1,t))}}function Ou(e,t,n,r){switch(Su(t)){case 1:var l=oh;break;case 4:l=ih;break;default:l=xi}n=l.bind(null,t,n,e),l=void 0,!Co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Gs(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;a!==null;){if(i=Sn(a),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}a=a.parentNode}}r=r.return}au(function(){var d=s,p=yi(n),g=[];e:{var v=$u.get(e);if(v!==void 0){var x=ji,j=e;switch(e){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":x=Sh;break;case"focusin":j="focus",x=Us;break;case"focusout":j="blur",x=Us;break;case"beforeblur":case"afterblur":x=Us;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=_a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ch;break;case Bu:case Pu:case Au:x=hh;break;case Ru:x=Eh;break;case"scroll":x=ah;break;case"wheel":x=Th;break;case"copy":case"cut":case"paste":x=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Sa}var w=(t&4)!==0,C=!w&&e==="scroll",h=w?v!==null?v+"Capture":null:v;w=[];for(var u=d,f;u!==null;){f=u;var _=f.stateNode;if(f.tag===5&&_!==null&&(f=_,h!==null&&(_=Ur(u,h),_!=null&&w.push(Gr(u,_,f)))),C)break;u=u.return}0<w.length&&(v=new x(v,j,null,n,p),g.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==jo&&(j=n.relatedTarget||n.fromElement)&&(Sn(j)||j[Ht]))break e;if((x||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=d,j=j?Sn(j):null,j!==null&&(C=An(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=d),x!==j)){if(w=_a,_="onMouseLeave",h="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(w=Sa,_="onPointerLeave",h="onPointerEnter",u="pointer"),C=x==null?v:Wn(x),f=j==null?v:Wn(j),v=new w(_,u+"leave",x,n,p),v.target=C,v.relatedTarget=f,_=null,Sn(p)===d&&(w=new w(h,u+"enter",j,n,p),w.target=f,w.relatedTarget=C,_=w),C=_,x&&j)t:{for(w=x,h=j,u=0,f=w;f;f=Rn(f))u++;for(f=0,_=h;_;_=Rn(_))f++;for(;0<u-f;)w=Rn(w),u--;for(;0<f-u;)h=Rn(h),f--;for(;u--;){if(w===h||h!==null&&w===h.alternate)break t;w=Rn(w),h=Rn(h)}w=null}else w=null;x!==null&&Ba(g,v,x,w,!1),j!==null&&C!==null&&Ba(g,C,j,w,!0)}}e:{if(v=d?Wn(d):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var N=Rh;else if(Ca(v))if(Mu)N=Fh;else{N=Dh;var k=$h}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=Oh);if(N&&(N=N(e,d))){Eu(g,N,n,p);break e}k&&k(e,v,d),e==="focusout"&&(k=v._wrapperState)&&k.controlled&&v.type==="number"&&vo(v,"number",v.value)}switch(k=d?Wn(d):window,e){case"focusin":(Ca(k)||k.contentEditable==="true")&&(Un=k,Io=d,Ar=null);break;case"focusout":Ar=Io=Un=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,Ia(g,n,p);break;case"selectionchange":if(Hh)break;case"keydown":case"keyup":Ia(g,n,p)}var E;if(Ci)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else zn?Cu(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(ku&&n.locale!=="ko"&&(zn||L!=="onCompositionStart"?L==="onCompositionEnd"&&zn&&(E=ju()):(tn=p,Si="value"in tn?tn.value:tn.textContent,zn=!0)),k=Zl(d,L),0<k.length&&(L=new xa(L,e,null,n,p),g.push({event:L,listeners:k}),E?L.data=E:(E=Nu(n),E!==null&&(L.data=E)))),(E=Lh?bh(e,n):Bh(e,n))&&(d=Zl(d,"onBeforeInput"),0<d.length&&(p=new xa("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=E))}Du(g,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Ur(e,n),s!=null&&r.unshift(Gr(e,s,l)),s=Ur(e,t),s!=null&&r.push(Gr(e,s,l))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ba(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,l?(c=Ur(n,s),c!=null&&i.unshift(Gr(n,c,a))):l||(c=Ur(n,s),c!=null&&i.push(Gr(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Yh=/\r\n?/g,qh=/\u0000|\uFFFD/g;function Pa(e){return(typeof e=="string"?e:""+e).replace(Yh,`
`).replace(qh,"")}function _l(e,t,n){if(t=Pa(t),Pa(e)!==t&&n)throw Error(M(425))}function Jl(){}var bo=null,Bo=null;function Po(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,Aa=typeof Promise=="function"?Promise:void 0,Kh=typeof queueMicrotask=="function"?queueMicrotask:typeof Aa<"u"?function(e){return Aa.resolve(null).then(e).catch(Xh)}:Ao;function Xh(e){setTimeout(function(){throw e})}function Ks(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Vr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Vr(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ra(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+mr,Kr="__reactProps$"+mr,Ht="__reactContainer$"+mr,Ro="__reactEvents$"+mr,Zh="__reactListeners$"+mr,Jh="__reactHandles$"+mr;function Sn(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ht]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ra(e);e!==null;){if(n=e[Lt])return n;e=Ra(e)}return t}e=n,n=e.parentNode}return null}function al(e){return e=e[Lt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function _s(e){return e[Kr]||null}var $o=[],Vn=-1;function pn(e){return{current:e}}function ce(e){0>Vn||(e.current=$o[Vn],$o[Vn]=null,Vn--)}function ie(e,t){Vn++,$o[Vn]=e.current,e.current=t}var hn={},Fe=pn(hn),Ze=pn(!1),Mn=hn;function sr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Je(e){return e=e.childContextTypes,e!=null}function es(){ce(Ze),ce(Fe)}function $a(e,t,n){if(Fe.current!==hn)throw Error(M(168));ie(Fe,t),ie(Ze,n)}function Fu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(M(108,$f(e)||"Unknown",l));return ge({},n,r)}function ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Mn=Fe.current,ie(Fe,e),ie(Ze,Ze.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Fu(e,t,Mn),r.__reactInternalMemoizedMergedChildContext=e,ce(Ze),ce(Fe),ie(Fe,e)):ce(Ze),ie(Ze,n)}var Dt=null,xs=!1,Xs=!1;function zu(e){Dt===null?Dt=[e]:Dt.push(e)}function em(e){xs=!0,zu(e)}function gn(){if(!Xs&&Dt!==null){Xs=!0;var e=0,t=ee;try{var n=Dt;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,xs=!1}catch(l){throw Dt!==null&&(Dt=Dt.slice(e+1)),fu(vi,gn),l}finally{ee=t,Xs=!1}}return null}var Qn=[],Yn=0,ns=null,rs=0,dt=[],ft=0,Tn=null,Ot=1,Ft="";function _n(e,t){Qn[Yn++]=rs,Qn[Yn++]=ns,ns=e,rs=t}function Uu(e,t,n){dt[ft++]=Ot,dt[ft++]=Ft,dt[ft++]=Tn,Tn=e;var r=Ot;e=Ft;var l=32-jt(r)-1;r&=~(1<<l),n+=1;var s=32-jt(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Ot=1<<32-jt(t)+l|n<<l|r,Ft=s+e}else Ot=1<<s|n<<l|r,Ft=e}function Ei(e){e.return!==null&&(_n(e,1),Uu(e,1,0))}function Mi(e){for(;e===ns;)ns=Qn[--Yn],Qn[Yn]=null,rs=Qn[--Yn],Qn[Yn]=null;for(;e===Tn;)Tn=dt[--ft],dt[ft]=null,Ft=dt[--ft],dt[ft]=null,Ot=dt[--ft],dt[ft]=null}var ot=null,st=null,ue=!1,St=null;function Hu(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,st=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tn!==null?{id:Ot,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,st=null,!0):!1;default:return!1}}function Do(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oo(e){if(ue){var t=st;if(t){var n=t;if(!Oa(e,t)){if(Do(e))throw Error(M(418));t=on(n.nextSibling);var r=ot;t&&Oa(e,t)?Hu(r,n):(e.flags=e.flags&-4097|2,ue=!1,ot=e)}}else{if(Do(e))throw Error(M(418));e.flags=e.flags&-4097|2,ue=!1,ot=e}}}function Fa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function xl(e){if(e!==ot)return!1;if(!ue)return Fa(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Po(e.type,e.memoizedProps)),t&&(t=st)){if(Do(e))throw Wu(),Error(M(418));for(;t;)Hu(e,t),t=on(t.nextSibling)}if(Fa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=ot?on(e.stateNode.nextSibling):null;return!0}function Wu(){for(var e=st;e;)e=on(e.nextSibling)}function or(){st=ot=null,ue=!1}function Ti(e){St===null?St=[e]:St.push(e)}var tm=Qt.ReactCurrentBatchConfig;function Sr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=l.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Sl(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){var t=e._init;return t(e._payload)}function Vu(e){function t(h,u){if(e){var f=h.deletions;f===null?(h.deletions=[u],h.flags|=16):f.push(u)}}function n(h,u){if(!e)return null;for(;u!==null;)t(h,u),u=u.sibling;return null}function r(h,u){for(h=new Map;u!==null;)u.key!==null?h.set(u.key,u):h.set(u.index,u),u=u.sibling;return h}function l(h,u){return h=dn(h,u),h.index=0,h.sibling=null,h}function s(h,u,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<u?(h.flags|=2,u):f):(h.flags|=2,u)):(h.flags|=1048576,u)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,u,f,_){return u===null||u.tag!==6?(u=lo(f,h.mode,_),u.return=h,u):(u=l(u,f),u.return=h,u)}function c(h,u,f,_){var N=f.type;return N===Fn?p(h,u,f.props.children,_,f.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&za(N)===u.type)?(_=l(u,f.props),_.ref=Sr(h,u,f),_.return=h,_):(_=zl(f.type,f.key,f.props,null,h.mode,_),_.ref=Sr(h,u,f),_.return=h,_)}function d(h,u,f,_){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=so(f,h.mode,_),u.return=h,u):(u=l(u,f.children||[]),u.return=h,u)}function p(h,u,f,_,N){return u===null||u.tag!==7?(u=Nn(f,h.mode,_,N),u.return=h,u):(u=l(u,f),u.return=h,u)}function g(h,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=lo(""+u,h.mode,f),u.return=h,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case dl:return f=zl(u.type,u.key,u.props,null,h.mode,f),f.ref=Sr(h,null,u),f.return=h,f;case On:return u=so(u,h.mode,f),u.return=h,u;case Xt:var _=u._init;return g(h,_(u._payload),f)}if(Mr(u)||yr(u))return u=Nn(u,h.mode,f,null),u.return=h,u;Sl(h,u)}return null}function v(h,u,f,_){var N=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:a(h,u,""+f,_);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case dl:return f.key===N?c(h,u,f,_):null;case On:return f.key===N?d(h,u,f,_):null;case Xt:return N=f._init,v(h,u,N(f._payload),_)}if(Mr(f)||yr(f))return N!==null?null:p(h,u,f,_,null);Sl(h,f)}return null}function x(h,u,f,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return h=h.get(f)||null,a(u,h,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dl:return h=h.get(_.key===null?f:_.key)||null,c(u,h,_,N);case On:return h=h.get(_.key===null?f:_.key)||null,d(u,h,_,N);case Xt:var k=_._init;return x(h,u,f,k(_._payload),N)}if(Mr(_)||yr(_))return h=h.get(f)||null,p(u,h,_,N,null);Sl(u,_)}return null}function j(h,u,f,_){for(var N=null,k=null,E=u,L=u=0,R=null;E!==null&&L<f.length;L++){E.index>L?(R=E,E=null):R=E.sibling;var D=v(h,E,f[L],_);if(D===null){E===null&&(E=R);break}e&&E&&D.alternate===null&&t(h,E),u=s(D,u,L),k===null?N=D:k.sibling=D,k=D,E=R}if(L===f.length)return n(h,E),ue&&_n(h,L),N;if(E===null){for(;L<f.length;L++)E=g(h,f[L],_),E!==null&&(u=s(E,u,L),k===null?N=E:k.sibling=E,k=E);return ue&&_n(h,L),N}for(E=r(h,E);L<f.length;L++)R=x(E,h,L,f[L],_),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?L:R.key),u=s(R,u,L),k===null?N=R:k.sibling=R,k=R);return e&&E.forEach(function(ne){return t(h,ne)}),ue&&_n(h,L),N}function w(h,u,f,_){var N=yr(f);if(typeof N!="function")throw Error(M(150));if(f=N.call(f),f==null)throw Error(M(151));for(var k=N=null,E=u,L=u=0,R=null,D=f.next();E!==null&&!D.done;L++,D=f.next()){E.index>L?(R=E,E=null):R=E.sibling;var ne=v(h,E,D.value,_);if(ne===null){E===null&&(E=R);break}e&&E&&ne.alternate===null&&t(h,E),u=s(ne,u,L),k===null?N=ne:k.sibling=ne,k=ne,E=R}if(D.done)return n(h,E),ue&&_n(h,L),N;if(E===null){for(;!D.done;L++,D=f.next())D=g(h,D.value,_),D!==null&&(u=s(D,u,L),k===null?N=D:k.sibling=D,k=D);return ue&&_n(h,L),N}for(E=r(h,E);!D.done;L++,D=f.next())D=x(E,h,L,D.value,_),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?L:D.key),u=s(D,u,L),k===null?N=D:k.sibling=D,k=D);return e&&E.forEach(function(te){return t(h,te)}),ue&&_n(h,L),N}function C(h,u,f,_){if(typeof f=="object"&&f!==null&&f.type===Fn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case dl:e:{for(var N=f.key,k=u;k!==null;){if(k.key===N){if(N=f.type,N===Fn){if(k.tag===7){n(h,k.sibling),u=l(k,f.props.children),u.return=h,h=u;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&za(N)===k.type){n(h,k.sibling),u=l(k,f.props),u.ref=Sr(h,k,f),u.return=h,h=u;break e}n(h,k);break}else t(h,k);k=k.sibling}f.type===Fn?(u=Nn(f.props.children,h.mode,_,f.key),u.return=h,h=u):(_=zl(f.type,f.key,f.props,null,h.mode,_),_.ref=Sr(h,u,f),_.return=h,h=_)}return i(h);case On:e:{for(k=f.key;u!==null;){if(u.key===k)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(h,u.sibling),u=l(u,f.children||[]),u.return=h,h=u;break e}else{n(h,u);break}else t(h,u);u=u.sibling}u=so(f,h.mode,_),u.return=h,h=u}return i(h);case Xt:return k=f._init,C(h,u,k(f._payload),_)}if(Mr(f))return j(h,u,f,_);if(yr(f))return w(h,u,f,_);Sl(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(h,u.sibling),u=l(u,f),u.return=h,h=u):(n(h,u),u=lo(f,h.mode,_),u.return=h,h=u),i(h)):n(h,u)}return C}var ir=Vu(!0),Qu=Vu(!1),ls=pn(null),ss=null,qn=null,Ii=null;function Li(){Ii=qn=ss=null}function bi(e){var t=ls.current;ce(ls),e._currentValue=t}function Fo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nr(e,t){ss=e,Ii=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(ss===null)throw Error(M(308));qn=e,ss.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var jn=null;function Bi(e){jn===null?jn=[e]:jn.push(e)}function Yu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Bi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Wt(e,n)}return l=r.interleaved,l===null?(t.next=t,Bi(r)):(t.next=l.next,l.next=t),r.interleaved=t,Wt(e,n)}function Al(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wi(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function os(e,t,n,r){var l=e.updateQueue;Zt=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,d=c.next;c.next=null,i===null?s=d:i.next=d,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==i&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(s!==null){var g=l.baseState;i=0,p=d=c=null,a=s;do{var v=a.lane,x=a.eventTime;if((r&v)===v){p!==null&&(p=p.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,w=a;switch(v=t,x=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){g=j.call(x,g,v);break e}g=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,v=typeof j=="function"?j.call(x,g,v):j,v==null)break e;g=ge({},g,v);break e;case 2:Zt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,v=l.effects,v===null?l.effects=[a]:v.push(a))}else x={eventTime:x,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=x,c=g):p=p.next=x,i|=v;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;v=a,a=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);if(p===null&&(c=g),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Ln|=i,e.lanes=i,e.memoizedState=g}}function Ha(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(M(191,l));l.call(r)}}}var cl={},Pt=pn(cl),Xr=pn(cl),Zr=pn(cl);function kn(e){if(e===cl)throw Error(M(174));return e}function Ai(e,t){switch(ie(Zr,t),ie(Xr,e),ie(Pt,cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_o(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_o(t,e)}ce(Pt),ie(Pt,t)}function ar(){ce(Pt),ce(Xr),ce(Zr)}function Gu(e){kn(Zr.current);var t=kn(Pt.current),n=_o(t,e.type);t!==n&&(ie(Xr,e),ie(Pt,n))}function Ri(e){Xr.current===e&&(ce(Pt),ce(Xr))}var me=pn(0);function is(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zs=[];function $i(){for(var e=0;e<Zs.length;e++)Zs[e]._workInProgressVersionPrimary=null;Zs.length=0}var Rl=Qt.ReactCurrentDispatcher,Js=Qt.ReactCurrentBatchConfig,In=0,pe=null,Ce=null,Te=null,as=!1,Rr=!1,Jr=0,nm=0;function Re(){throw Error(M(321))}function Di(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function Oi(e,t,n,r,l,s){if(In=s,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?om:im,e=n(r,l),Rr){s=0;do{if(Rr=!1,Jr=0,25<=s)throw Error(M(301));s+=1,Te=Ce=null,t.updateQueue=null,Rl.current=am,e=n(r,l)}while(Rr)}if(Rl.current=cs,t=Ce!==null&&Ce.next!==null,In=0,Te=Ce=pe=null,as=!1,t)throw Error(M(300));return e}function Fi(){var e=Jr!==0;return Jr=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?pe.memoizedState=Te=e:Te=Te.next=e,Te}function gt(){if(Ce===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Te===null?pe.memoizedState:Te.next;if(t!==null)Te=t,Ce=e;else{if(e===null)throw Error(M(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?pe.memoizedState=Te=e:Te=Te.next=e}return Te}function el(e,t){return typeof t=="function"?t(e):t}function eo(e){var t=gt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Ce,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=i=null,c=null,d=s;do{var p=d.lane;if((In&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,i=r):c=c.next=g,pe.lanes|=p,Ln|=p}d=d.next}while(d!==null&&d!==s);c===null?i=r:c.next=a,Ct(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,pe.lanes|=s,Ln|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function to(e){var t=gt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);Ct(s,t.memoizedState)||(Xe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ku(){}function Xu(e,t){var n=pe,r=gt(),l=t(),s=!Ct(r.memoizedState,l);if(s&&(r.memoizedState=l,Xe=!0),r=r.queue,zi(ed.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,tl(9,Ju.bind(null,n,r,l,t),void 0,null),Ie===null)throw Error(M(349));In&30||Zu(n,t,l)}return l}function Zu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ju(e,t,n,r){t.value=n,t.getSnapshot=r,td(t)&&nd(e)}function ed(e,t,n){return n(function(){td(t)&&nd(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function nd(e){var t=Wt(e,1);t!==null&&kt(t,e,1,-1)}function Wa(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:e},t.queue=e,e=e.dispatch=sm.bind(null,pe,e),[t.memoizedState,e]}function tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rd(){return gt().memoizedState}function $l(e,t,n,r){var l=Tt();pe.flags|=e,l.memoizedState=tl(1|t,n,void 0,r===void 0?null:r)}function Ss(e,t,n,r){var l=gt();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var i=Ce.memoizedState;if(s=i.destroy,r!==null&&Di(r,i.deps)){l.memoizedState=tl(t,n,s,r);return}}pe.flags|=e,l.memoizedState=tl(1|t,n,s,r)}function Va(e,t){return $l(8390656,8,e,t)}function zi(e,t){return Ss(2048,8,e,t)}function ld(e,t){return Ss(4,2,e,t)}function sd(e,t){return Ss(4,4,e,t)}function od(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function id(e,t,n){return n=n!=null?n.concat([e]):null,Ss(4,4,od.bind(null,t,e),n)}function Ui(){}function ad(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cd(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Di(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ud(e,t,n){return In&21?(Ct(n,t)||(n=pu(),pe.lanes|=n,Ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function rm(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=Js.transition;Js.transition={};try{e(!1),t()}finally{ee=n,Js.transition=r}}function dd(){return gt().memoizedState}function lm(e,t,n){var r=un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fd(e))hd(t,n);else if(n=Yu(e,t,n,r),n!==null){var l=Ve();kt(n,e,r,l),md(n,t,r)}}function sm(e,t,n){var r=un(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fd(e))hd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(l.hasEagerState=!0,l.eagerState=a,Ct(a,i)){var c=t.interleaved;c===null?(l.next=l,Bi(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Yu(e,t,l,r),n!==null&&(l=Ve(),kt(n,e,r,l),md(n,t,r))}}function fd(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function hd(e,t){Rr=as=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function md(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wi(e,n)}}var cs={readContext:pt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},om={readContext:pt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Va,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$l(4194308,4,od.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $l(4194308,4,e,t)},useInsertionEffect:function(e,t){return $l(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lm.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Wa,useDebugValue:Ui,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Wa(!1),t=e[0];return e=rm.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,l=Tt();if(ue){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ie===null)throw Error(M(349));In&30||Zu(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Va(ed.bind(null,r,s,e),[e]),r.flags|=2048,tl(9,Ju.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Ie.identifierPrefix;if(ue){var n=Ft,r=Ot;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},im={readContext:pt,useCallback:ad,useContext:pt,useEffect:zi,useImperativeHandle:id,useInsertionEffect:ld,useLayoutEffect:sd,useMemo:cd,useReducer:eo,useRef:rd,useState:function(){return eo(el)},useDebugValue:Ui,useDeferredValue:function(e){var t=gt();return ud(t,Ce.memoizedState,e)},useTransition:function(){var e=eo(el)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Ku,useSyncExternalStore:Xu,useId:dd,unstable_isNewReconciler:!1},am={readContext:pt,useCallback:ad,useContext:pt,useEffect:zi,useImperativeHandle:id,useInsertionEffect:ld,useLayoutEffect:sd,useMemo:cd,useReducer:to,useRef:rd,useState:function(){return to(el)},useDebugValue:Ui,useDeferredValue:function(e){var t=gt();return Ce===null?t.memoizedState=e:ud(t,Ce.memoizedState,e)},useTransition:function(){var e=to(el)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Ku,useSyncExternalStore:Xu,useId:dd,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var js={isMounted:function(e){return(e=e._reactInternals)?An(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),l=un(e),s=zt(r,l);s.payload=t,n!=null&&(s.callback=n),t=an(e,s,l),t!==null&&(kt(t,e,l,r),Al(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),l=un(e),s=zt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=an(e,s,l),t!==null&&(kt(t,e,l,r),Al(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=un(e),l=zt(n,r);l.tag=2,t!=null&&(l.callback=t),t=an(e,l,r),t!==null&&(kt(t,e,r,n),Al(t,e,r))}};function Qa(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Yr(n,r)||!Yr(l,s):!0}function pd(e,t,n){var r=!1,l=hn,s=t.contextType;return typeof s=="object"&&s!==null?s=pt(s):(l=Je(t)?Mn:Fe.current,r=t.contextTypes,s=(r=r!=null)?sr(e,l):hn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=js,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ya(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&js.enqueueReplaceState(t,t.state,null)}function Uo(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Pi(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=pt(s):(s=Je(t)?Mn:Fe.current,l.context=sr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(zo(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&js.enqueueReplaceState(l,l.state,null),os(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function cr(e,t){try{var n="",r=t;do n+=Rf(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function no(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cm=typeof WeakMap=="function"?WeakMap:Map;function gd(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ds||(ds=!0,Jo=r),Ho(e,t)},n}function yd(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ho(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ho(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function qa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cm;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=jm.bind(null,e,t,n),t.then(e,e))}function Ga(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ka(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var um=Qt.ReactCurrentOwner,Xe=!1;function We(e,t,n,r){t.child=e===null?Qu(t,null,n,r):ir(t,e.child,n,r)}function Xa(e,t,n,r,l){n=n.render;var s=t.ref;return nr(t,l),r=Oi(e,t,n,r,s,l),n=Fi(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Vt(e,t,l)):(ue&&n&&Ei(t),t.flags|=1,We(e,t,r,l),t.child)}function Za(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Ki(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,vd(e,t,s,r,l)):(e=zl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(i,r)&&e.ref===t.ref)return Vt(e,t,l)}return t.flags|=1,e=dn(s,r),e.ref=t.ref,e.return=t,t.child=e}function vd(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Yr(s,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Vt(e,t,l)}return Wo(e,t,n,r,l)}function wd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Kn,lt),lt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Kn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(Kn,lt),lt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ie(Kn,lt),lt|=r;return We(e,t,l,n),t.child}function _d(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wo(e,t,n,r,l){var s=Je(n)?Mn:Fe.current;return s=sr(t,s),nr(t,l),n=Oi(e,t,n,r,s,l),r=Fi(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Vt(e,t,l)):(ue&&r&&Ei(t),t.flags|=1,We(e,t,n,l),t.child)}function Ja(e,t,n,r,l){if(Je(n)){var s=!0;ts(t)}else s=!1;if(nr(t,l),t.stateNode===null)Dl(e,t),pd(t,n,r),Uo(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=pt(d):(d=Je(n)?Mn:Fe.current,d=sr(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Ya(t,i,r,d),Zt=!1;var v=t.memoizedState;i.state=v,os(t,r,i,l),c=t.memoizedState,a!==r||v!==c||Ze.current||Zt?(typeof p=="function"&&(zo(t,n,p,r),c=t.memoizedState),(a=Zt||Qa(t,n,a,r,v,c,d))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,qu(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:_t(t.type,a),i.props=d,g=t.pendingProps,v=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=pt(c):(c=Je(n)?Mn:Fe.current,c=sr(t,c));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==g||v!==c)&&Ya(t,i,r,c),Zt=!1,v=t.memoizedState,i.state=v,os(t,r,i,l);var j=t.memoizedState;a!==g||v!==j||Ze.current||Zt?(typeof x=="function"&&(zo(t,n,x,r),j=t.memoizedState),(d=Zt||Qa(t,n,d,r,v,j,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,j,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,j,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),i.props=r,i.state=j,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Vo(e,t,n,r,s,l)}function Vo(e,t,n,r,l,s){_d(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Da(t,n,!1),Vt(e,t,s);r=t.stateNode,um.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ir(t,e.child,null,s),t.child=ir(t,null,a,s)):We(e,t,a,s),t.memoizedState=r.state,l&&Da(t,n,!0),t.child}function xd(e){var t=e.stateNode;t.pendingContext?$a(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$a(e,t.context,!1),Ai(e,t.containerInfo)}function ec(e,t,n,r,l){return or(),Ti(l),t.flags|=256,We(e,t,n,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Yo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sd(e,t,n){var r=t.pendingProps,l=me.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ie(me,l&1),e===null)return Oo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ns(i,r,0,null),e=Nn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yo(n),t.memoizedState=Qo,e):Hi(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return dm(e,t,i,r,a,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=dn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=dn(a,s):(s=Nn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Yo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Qo,r}return s=e.child,e=s.sibling,r=dn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hi(e,t){return t=Ns({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,n,r){return r!==null&&Ti(r),ir(t,e.child,null,n),e=Hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=no(Error(M(422))),jl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=Ns({mode:"visible",children:r.children},l,0,null),s=Nn(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ir(t,e.child,null,i),t.child.memoizedState=Yo(i),t.memoizedState=Qo,s);if(!(t.mode&1))return jl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=no(s,r,void 0),jl(e,t,i,r)}if(a=(i&e.childLanes)!==0,Xe||a){if(r=Ie,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Wt(e,l),kt(r,e,l,-1))}return Gi(),r=no(Error(M(421))),jl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=km.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,st=on(l.nextSibling),ot=t,ue=!0,St=null,e!==null&&(dt[ft++]=Ot,dt[ft++]=Ft,dt[ft++]=Tn,Ot=e.id,Ft=e.overflow,Tn=t),t=Hi(t,r.children),t.flags|=4096,t)}function tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fo(e.return,t,n)}function ro(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function jd(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(We(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tc(e,n,t);else if(e.tag===19)tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(me,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&is(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ro(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&is(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ro(t,!0,n,null,s);break;case"together":ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fm(e,t,n){switch(t.tag){case 3:xd(t),or();break;case 5:Gu(t);break;case 1:Je(t.type)&&ts(t);break;case 4:Ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ie(ls,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?Sd(e,t,n):(ie(me,me.current&1),e=Vt(e,t,n),e!==null?e.sibling:null);ie(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ie(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,wd(e,t,n)}return Vt(e,t,n)}var kd,qo,Cd,Nd;kd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qo=function(){};Cd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,kn(Pt.current);var s=null;switch(n){case"input":l=go(e,l),r=go(e,r),s=[];break;case"select":l=ge({},l,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":l=wo(e,l),r=wo(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jl)}xo(n,r);var i;n=null;for(d in l)if(!r.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var a=l[d];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fr.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(a=l!=null?l[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ae("scroll",e),s||a===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Nd=function(e,t,n,r){n!==r&&(t.flags|=4)};function jr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hm(e,t,n){var r=t.pendingProps;switch(Mi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Je(t.type)&&es(),$e(t),null;case 3:return r=t.stateNode,ar(),ce(Ze),ce(Fe),$i(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(ni(St),St=null))),qo(e,t),$e(t),null;case 5:Ri(t);var l=kn(Zr.current);if(n=t.type,e!==null&&t.stateNode!=null)Cd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return $e(t),null}if(e=kn(Pt.current),xl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Lt]=t,r[Kr]=s,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(l=0;l<Ir.length;l++)ae(Ir[l],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":ua(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":fa(r,s),ae("invalid",r)}xo(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_l(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_l(r.textContent,a,e),l=["children",""+a]):Fr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ae("scroll",r)}switch(n){case"input":fl(r),da(r,s,!0);break;case"textarea":fl(r),ha(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Lt]=t,e[Kr]=r,kd(e,t,!1,!1),t.stateNode=e;e:{switch(i=So(n,r),n){case"dialog":ae("cancel",e),ae("close",e),l=r;break;case"iframe":case"object":case"embed":ae("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ir.length;l++)ae(Ir[l],e);l=r;break;case"source":ae("error",e),l=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),l=r;break;case"details":ae("toggle",e),l=r;break;case"input":ua(e,r),l=go(e,r),ae("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ge({},r,{value:void 0}),ae("invalid",e);break;case"textarea":fa(e,r),l=wo(e,r),ae("invalid",e);break;default:l=r}xo(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?ru(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tu(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zr(e,c):typeof c=="number"&&zr(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fr.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ae("scroll",e):c!=null&&hi(e,s,c,i))}switch(n){case"input":fl(e),da(e,r,!1);break;case"textarea":fl(e),ha(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Zn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Nd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=kn(Zr.current),kn(Pt.current),xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lt]=t,(s=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:_l(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_l(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return $e(t),null;case 13:if(ce(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&st!==null&&t.mode&1&&!(t.flags&128))Wu(),or(),t.flags|=98560,s=!1;else if(s=xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Lt]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),s=!1}else St!==null&&(ni(St),St=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Ne===0&&(Ne=3):Gi())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return ar(),qo(e,t),e===null&&qr(t.stateNode.containerInfo),$e(t),null;case 10:return bi(t.type._context),$e(t),null;case 17:return Je(t.type)&&es(),$e(t),null;case 19:if(ce(me),s=t.memoizedState,s===null)return $e(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)jr(s,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=is(e),i!==null){for(t.flags|=128,jr(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(me,me.current&1|2),t.child}e=e.sibling}s.tail!==null&&we()>ur&&(t.flags|=128,r=!0,jr(s,!1),t.lanes=4194304)}else{if(!r)if(e=is(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ue)return $e(t),null}else 2*we()-s.renderingStartTime>ur&&n!==1073741824&&(t.flags|=128,r=!0,jr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=we(),t.sibling=null,n=me.current,ie(me,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return qi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function mm(e,t){switch(Mi(t),t.tag){case 1:return Je(t.type)&&es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),ce(Ze),ce(Fe),$i(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ri(t),null;case 13:if(ce(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(me),null;case 4:return ar(),null;case 10:return bi(t.type._context),null;case 22:case 23:return qi(),null;case 24:return null;default:return null}}var kl=!1,Oe=!1,pm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Gn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Go(e,t,n){try{n()}catch(r){ye(e,t,r)}}var nc=!1;function gm(e,t){if(bo=Kl,e=Lu(),Ni(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,d=0,p=0,g=e,v=null;t:for(;;){for(var x;g!==n||l!==0&&g.nodeType!==3||(a=i+l),g!==s||r!==0&&g.nodeType!==3||(c=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(x=g.firstChild)!==null;)v=g,g=x;for(;;){if(g===e)break t;if(v===n&&++d===l&&(a=i),v===s&&++p===r&&(c=i),(x=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bo={focusedElem:e,selectionRange:n},Kl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,C=j.memoizedState,h=t.stateNode,u=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:_t(t.type,w),C);h.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(_){ye(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=nc,nc=!1,j}function $r(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Go(t,n,s)}l=l.next}while(l!==r)}}function ks(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ko(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ed(e){var t=e.alternate;t!==null&&(e.alternate=null,Ed(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Kr],delete t[Ro],delete t[Zh],delete t[Jh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(r!==4&&(e=e.child,e!==null))for(Xo(e,t,n),e=e.sibling;e!==null;)Xo(e,t,n),e=e.sibling}function Zo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zo(e,t,n),e=e.sibling;e!==null;)Zo(e,t,n),e=e.sibling}var be=null,xt=!1;function Gt(e,t,n){for(n=n.child;n!==null;)Td(e,t,n),n=n.sibling}function Td(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(gs,n)}catch{}switch(n.tag){case 5:Oe||Gn(n,t);case 6:var r=be,l=xt;be=null,Gt(e,t,n),be=r,xt=l,be!==null&&(xt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(xt?(e=be,n=n.stateNode,e.nodeType===8?Ks(e.parentNode,n):e.nodeType===1&&Ks(e,n),Vr(e)):Ks(be,n.stateNode));break;case 4:r=be,l=xt,be=n.stateNode.containerInfo,xt=!0,Gt(e,t,n),be=r,xt=l;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Go(n,t,i),l=l.next}while(l!==r)}Gt(e,t,n);break;case 1:if(!Oe&&(Gn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,t,a)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Gt(e,t,n),Oe=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function lc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pm),t.forEach(function(r){var l=Cm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,xt=!1;break e;case 3:be=a.stateNode.containerInfo,xt=!0;break e;case 4:be=a.stateNode.containerInfo,xt=!0;break e}a=a.return}if(be===null)throw Error(M(160));Td(s,i,l),be=null,xt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){ye(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}function Id(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Et(e),r&4){try{$r(3,e,e.return),ks(3,e)}catch(w){ye(e,e.return,w)}try{$r(5,e,e.return)}catch(w){ye(e,e.return,w)}}break;case 1:vt(t,e),Et(e),r&512&&n!==null&&Gn(n,n.return);break;case 5:if(vt(t,e),Et(e),r&512&&n!==null&&Gn(n,n.return),e.flags&32){var l=e.stateNode;try{zr(l,"")}catch(w){ye(e,e.return,w)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Zc(l,s),So(a,i);var d=So(a,s);for(i=0;i<c.length;i+=2){var p=c[i],g=c[i+1];p==="style"?ru(l,g):p==="dangerouslySetInnerHTML"?tu(l,g):p==="children"?zr(l,g):hi(l,p,g,d)}switch(a){case"input":yo(l,s);break;case"textarea":Jc(l,s);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?Zn(l,!!s.multiple,x,!1):v!==!!s.multiple&&(s.defaultValue!=null?Zn(l,!!s.multiple,s.defaultValue,!0):Zn(l,!!s.multiple,s.multiple?[]:"",!1))}l[Kr]=s}catch(w){ye(e,e.return,w)}}break;case 6:if(vt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(w){ye(e,e.return,w)}}break;case 3:if(vt(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(w){ye(e,e.return,w)}break;case 4:vt(t,e),Et(e);break;case 13:vt(t,e),Et(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Qi=we())),r&4&&lc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(d=Oe)||p,vt(t,e),Oe=d):vt(t,e),Et(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for($=e,p=e.child;p!==null;){for(g=$=p;$!==null;){switch(v=$,x=v.child,v.tag){case 0:case 11:case 14:case 15:$r(4,v,v.return);break;case 1:Gn(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){ye(r,n,w)}}break;case 5:Gn(v,v.return);break;case 22:if(v.memoizedState!==null){oc(g);continue}}x!==null?(x.return=v,$=x):oc(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{l=g.stateNode,d?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,c=g.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=nu("display",i))}catch(w){ye(e,e.return,w)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(w){ye(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:vt(t,e),Et(e),r&4&&lc(e);break;case 21:break;default:vt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Md(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(zr(l,""),r.flags&=-33);var s=rc(e);Zo(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=rc(e);Xo(e,a,i);break;default:throw Error(M(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ym(e,t,n){$=e,Ld(e)}function Ld(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var l=$,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||kl;if(!i){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Oe;a=kl;var d=Oe;if(kl=i,(Oe=c)&&!d)for($=l;$!==null;)i=$,c=i.child,i.tag===22&&i.memoizedState!==null?ic(l):c!==null?(c.return=i,$=c):ic(l);for(;s!==null;)$=s,Ld(s),s=s.sibling;$=l,kl=a,Oe=d}sc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,$=s):sc(e)}}function sc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||ks(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ha(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ha(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Vr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Oe||t.flags&512&&Ko(t)}catch(v){ye(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function oc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function ic(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ks(4,t)}catch(c){ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ye(t,l,c)}}var s=t.return;try{Ko(t)}catch(c){ye(t,s,c)}break;case 5:var i=t.return;try{Ko(t)}catch(c){ye(t,i,c)}}}catch(c){ye(t,t.return,c)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var vm=Math.ceil,us=Qt.ReactCurrentDispatcher,Wi=Qt.ReactCurrentOwner,mt=Qt.ReactCurrentBatchConfig,G=0,Ie=null,je=null,Be=0,lt=0,Kn=pn(0),Ne=0,nl=null,Ln=0,Cs=0,Vi=0,Dr=null,Ke=null,Qi=0,ur=1/0,$t=null,ds=!1,Jo=null,cn=null,Cl=!1,nn=null,fs=0,Or=0,ei=null,Ol=-1,Fl=0;function Ve(){return G&6?we():Ol!==-1?Ol:Ol=we()}function un(e){return e.mode&1?G&2&&Be!==0?Be&-Be:tm.transition!==null?(Fl===0&&(Fl=pu()),Fl):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Su(e.type)),e):1}function kt(e,t,n,r){if(50<Or)throw Or=0,ei=null,Error(M(185));ol(e,n,r),(!(G&2)||e!==Ie)&&(e===Ie&&(!(G&2)&&(Cs|=n),Ne===4&&en(e,Be)),et(e,r),n===1&&G===0&&!(t.mode&1)&&(ur=we()+500,xs&&gn()))}function et(e,t){var n=e.callbackNode;th(e,t);var r=Gl(e,e===Ie?Be:0);if(r===0)n!==null&&ga(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ga(n),t===1)e.tag===0?em(ac.bind(null,e)):zu(ac.bind(null,e)),Kh(function(){!(G&6)&&gn()}),n=null;else{switch(gu(r)){case 1:n=vi;break;case 4:n=hu;break;case 16:n=ql;break;case 536870912:n=mu;break;default:n=ql}n=Od(n,bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bd(e,t){if(Ol=-1,Fl=0,G&6)throw Error(M(327));var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var r=Gl(e,e===Ie?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hs(e,r);else{t=r;var l=G;G|=2;var s=Pd();(Ie!==e||Be!==t)&&($t=null,ur=we()+500,Cn(e,t));do try{xm();break}catch(a){Bd(e,a)}while(!0);Li(),us.current=s,G=l,je!==null?t=0:(Ie=null,Be=0,t=Ne)}if(t!==0){if(t===2&&(l=Eo(e),l!==0&&(r=l,t=ti(e,l))),t===1)throw n=nl,Cn(e,0),en(e,r),et(e,we()),n;if(t===6)en(e,r);else{if(l=e.current.alternate,!(r&30)&&!wm(l)&&(t=hs(e,r),t===2&&(s=Eo(e),s!==0&&(r=s,t=ti(e,s))),t===1))throw n=nl,Cn(e,0),en(e,r),et(e,we()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:xn(e,Ke,$t);break;case 3:if(en(e,r),(r&130023424)===r&&(t=Qi+500-we(),10<t)){if(Gl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ao(xn.bind(null,e,Ke,$t),t);break}xn(e,Ke,$t);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-jt(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vm(r/1960))-r,10<r){e.timeoutHandle=Ao(xn.bind(null,e,Ke,$t),r);break}xn(e,Ke,$t);break;case 5:xn(e,Ke,$t);break;default:throw Error(M(329))}}}return et(e,we()),e.callbackNode===n?bd.bind(null,e):null}function ti(e,t){var n=Dr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=hs(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&ni(t)),e}function ni(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function wm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ct(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~Vi,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(G&6)throw Error(M(327));rr();var t=Gl(e,0);if(!(t&1))return et(e,we()),null;var n=hs(e,t);if(e.tag!==0&&n===2){var r=Eo(e);r!==0&&(t=r,n=ti(e,r))}if(n===1)throw n=nl,Cn(e,0),en(e,t),et(e,we()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,Ke,$t),et(e,we()),null}function Yi(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(ur=we()+500,xs&&gn())}}function bn(e){nn!==null&&nn.tag===0&&!(G&6)&&rr();var t=G;G|=1;var n=mt.transition,r=ee;try{if(mt.transition=null,ee=1,e)return e()}finally{ee=r,mt.transition=n,G=t,!(G&6)&&gn()}}function qi(){lt=Kn.current,ce(Kn)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gh(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Mi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&es();break;case 3:ar(),ce(Ze),ce(Fe),$i();break;case 5:Ri(r);break;case 4:ar();break;case 13:ce(me);break;case 19:ce(me);break;case 10:bi(r.type._context);break;case 22:case 23:qi()}n=n.return}if(Ie=e,je=e=dn(e.current,null),Be=lt=t,Ne=0,nl=null,Vi=Cs=Ln=0,Ke=Dr=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}jn=null}return e}function Bd(e,t){do{var n=je;try{if(Li(),Rl.current=cs,as){for(var r=pe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}as=!1}if(In=0,Te=Ce=pe=null,Rr=!1,Jr=0,Wi.current=null,n===null||n.return===null){Ne=1,nl=t,je=null;break}e:{var s=e,i=n.return,a=n,c=t;if(t=Be,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Ga(i);if(x!==null){x.flags&=-257,Ka(x,i,a,s,t),x.mode&1&&qa(s,d,t),t=x,c=d;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){qa(s,d,t),Gi();break e}c=Error(M(426))}}else if(ue&&a.mode&1){var C=Ga(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ka(C,i,a,s,t),Ti(cr(c,a));break e}}s=c=cr(c,a),Ne!==4&&(Ne=2),Dr===null?Dr=[s]:Dr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=gd(s,c,t);Ua(s,h);break e;case 1:a=c;var u=s.type,f=s.stateNode;if(!(s.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cn===null||!cn.has(f)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=yd(s,a,t);Ua(s,_);break e}}s=s.return}while(s!==null)}Rd(n)}catch(N){t=N,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Pd(){var e=us.current;return us.current=cs,e===null?cs:e}function Gi(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ie===null||!(Ln&268435455)&&!(Cs&268435455)||en(Ie,Be)}function hs(e,t){var n=G;G|=2;var r=Pd();(Ie!==e||Be!==t)&&($t=null,Cn(e,t));do try{_m();break}catch(l){Bd(e,l)}while(!0);if(Li(),G=n,us.current=r,je!==null)throw Error(M(261));return Ie=null,Be=0,Ne}function _m(){for(;je!==null;)Ad(je)}function xm(){for(;je!==null&&!Qf();)Ad(je)}function Ad(e){var t=Dd(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Rd(e):je=t,Wi.current=null}function Rd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mm(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,je=null;return}}else if(n=hm(n,t,lt),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ne===0&&(Ne=5)}function xn(e,t,n){var r=ee,l=mt.transition;try{mt.transition=null,ee=1,Sm(e,t,n,r)}finally{mt.transition=l,ee=r}return null}function Sm(e,t,n,r){do rr();while(nn!==null);if(G&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(nh(e,s),e===Ie&&(je=Ie=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cl||(Cl=!0,Od(ql,function(){return rr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mt.transition,mt.transition=null;var i=ee;ee=1;var a=G;G|=4,Wi.current=null,gm(e,n),Id(n,e),Uh(Bo),Kl=!!bo,Bo=bo=null,e.current=n,ym(n),Yf(),G=a,ee=i,mt.transition=s}else e.current=n;if(Cl&&(Cl=!1,nn=e,fs=l),s=e.pendingLanes,s===0&&(cn=null),Kf(n.stateNode),et(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ds)throw ds=!1,e=Jo,Jo=null,e;return fs&1&&e.tag!==0&&rr(),s=e.pendingLanes,s&1?e===ei?Or++:(Or=0,ei=e):Or=0,gn(),null}function rr(){if(nn!==null){var e=gu(fs),t=mt.transition,n=ee;try{if(mt.transition=null,ee=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,fs=0,G&6)throw Error(M(331));var l=G;for(G|=4,$=e.current;$!==null;){var s=$,i=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for($=d;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:$r(8,p,s)}var g=p.child;if(g!==null)g.return=p,$=g;else for(;$!==null;){p=$;var v=p.sibling,x=p.return;if(Ed(p),p===d){$=null;break}if(v!==null){v.return=x,$=v;break}$=x}}}var j=s.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}$=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,$=i;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$r(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,$=h;break e}$=s.return}}var u=e.current;for($=u;$!==null;){i=$;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,$=f;else e:for(i=u;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ks(9,a)}}catch(N){ye(a,a.return,N)}if(a===i){$=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,$=_;break e}$=a.return}}if(G=l,gn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(gs,e)}catch{}r=!0}return r}finally{ee=n,mt.transition=t}}return!1}function cc(e,t,n){t=cr(n,t),t=gd(e,t,1),e=an(e,t,1),t=Ve(),e!==null&&(ol(e,1,t),et(e,t))}function ye(e,t,n){if(e.tag===3)cc(e,e,n);else for(;t!==null;){if(t.tag===3){cc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=cr(n,e),e=yd(t,e,1),t=an(t,e,1),e=Ve(),t!==null&&(ol(t,1,e),et(t,e));break}}t=t.return}}function jm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Be&n)===n&&(Ne===4||Ne===3&&(Be&130023424)===Be&&500>we()-Qi?Cn(e,0):Vi|=n),et(e,t)}function $d(e,t){t===0&&(e.mode&1?(t=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):t=1);var n=Ve();e=Wt(e,t),e!==null&&(ol(e,t,n),et(e,n))}function km(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$d(e,n)}function Cm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),$d(e,n)}var Dd;Dd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,fm(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,ue&&t.flags&1048576&&Uu(t,rs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dl(e,t),e=t.pendingProps;var l=sr(t,Fe.current);nr(t,n),l=Oi(null,t,r,e,l,n);var s=Fi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(s=!0,ts(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Pi(t),l.updater=js,t.stateNode=l,l._reactInternals=t,Uo(t,r,e,n),t=Vo(null,t,r,!0,s,n)):(t.tag=0,ue&&s&&Ei(t),We(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Em(r),e=_t(r,e),l){case 0:t=Wo(null,t,r,e,n);break e;case 1:t=Ja(null,t,r,e,n);break e;case 11:t=Xa(null,t,r,e,n);break e;case 14:t=Za(null,t,r,_t(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:_t(r,l),Wo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:_t(r,l),Ja(e,t,r,l,n);case 3:e:{if(xd(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,l=s.element,qu(e,t),os(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=cr(Error(M(423)),t),t=ec(e,t,r,n,l);break e}else if(r!==l){l=cr(Error(M(424)),t),t=ec(e,t,r,n,l);break e}else for(st=on(t.stateNode.containerInfo.firstChild),ot=t,ue=!0,St=null,n=Qu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===l){t=Vt(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Gu(t),e===null&&Oo(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,Po(r,l)?i=null:s!==null&&Po(r,s)&&(t.flags|=32),_d(e,t),We(e,t,i,n),t.child;case 6:return e===null&&Oo(t),null;case 13:return Sd(e,t,n);case 4:return Ai(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ir(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:_t(r,l),Xa(e,t,r,l,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,ie(ls,r._currentValue),r._currentValue=i,s!==null)if(Ct(s.value,i)){if(s.children===l.children&&!Ze.current){t=Vt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=zt(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Fo(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(M(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Fo(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}We(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,nr(t,n),l=pt(l),r=r(l),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,l=_t(r,t.pendingProps),l=_t(r.type,l),Za(e,t,r,l,n);case 15:return vd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:_t(r,l),Dl(e,t),t.tag=1,Je(r)?(e=!0,ts(t)):e=!1,nr(t,n),pd(t,r,l),Uo(t,r,l,n),Vo(null,t,r,!0,e,n);case 19:return jd(e,t,n);case 22:return wd(e,t,n)}throw Error(M(156,t.tag))};function Od(e,t){return fu(e,t)}function Nm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new Nm(e,t,n,r)}function Ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Em(e){if(typeof e=="function")return Ki(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pi)return 11;if(e===gi)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")Ki(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Fn:return Nn(n.children,l,s,t);case mi:i=8,l|=8;break;case fo:return e=ht(12,n,t,l|2),e.elementType=fo,e.lanes=s,e;case ho:return e=ht(13,n,t,l),e.elementType=ho,e.lanes=s,e;case mo:return e=ht(19,n,t,l),e.elementType=mo,e.lanes=s,e;case Gc:return Ns(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yc:i=10;break e;case qc:i=9;break e;case pi:i=11;break e;case gi:i=14;break e;case Xt:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=ht(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Nn(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function Ns(e,t,n,r){return e=ht(22,e,r,t),e.elementType=Gc,e.lanes=n,e.stateNode={isHidden:!1},e}function lo(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function so(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Os(0),this.expirationTimes=Os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Xi(e,t,n,r,l,s,i,a,c){return e=new Mm(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ht(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(s),e}function Tm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fd(e){if(!e)return hn;e=e._reactInternals;e:{if(An(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Je(n))return Fu(e,n,t)}return t}function zd(e,t,n,r,l,s,i,a,c){return e=Xi(n,r,!0,e,l,s,i,a,c),e.context=Fd(null),n=e.current,r=Ve(),l=un(n),s=zt(r,l),s.callback=t??null,an(n,s,l),e.current.lanes=l,ol(e,l,r),et(e,r),e}function Es(e,t,n,r){var l=t.current,s=Ve(),i=un(l);return n=Fd(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(l,t,i),e!==null&&(kt(e,l,i,s),Al(e,l,i)),i}function ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zi(e,t){uc(e,t),(e=e.alternate)&&uc(e,t)}function Im(){return null}var Ud=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ji(e){this._internalRoot=e}Ms.prototype.render=Ji.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Es(e,t,null,null)};Ms.prototype.unmount=Ji.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){Es(null,e,null,null)}),t[Ht]=null}};function Ms(e){this._internalRoot=e}Ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=wu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&xu(e)}};function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ts(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dc(){}function Lm(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var d=ms(i);s.call(d)}}var i=zd(t,r,e,0,null,!1,!1,"",dc);return e._reactRootContainer=i,e[Ht]=i.current,qr(e.nodeType===8?e.parentNode:e),bn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var d=ms(c);a.call(d)}}var c=Xi(e,0,!1,null,null,!1,!1,"",dc);return e._reactRootContainer=c,e[Ht]=c.current,qr(e.nodeType===8?e.parentNode:e),bn(function(){Es(t,c,n,r)}),c}function Is(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var a=l;l=function(){var c=ms(i);a.call(c)}}Es(t,i,e,l)}else i=Lm(n,t,e,l,r);return ms(i)}yu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tr(t.pendingLanes);n!==0&&(wi(t,n|1),et(t,we()),!(G&6)&&(ur=we()+500,gn()))}break;case 13:bn(function(){var r=Wt(e,1);if(r!==null){var l=Ve();kt(r,e,1,l)}}),Zi(e,1)}};_i=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=Ve();kt(t,e,134217728,n)}Zi(e,134217728)}};vu=function(e){if(e.tag===13){var t=un(e),n=Wt(e,t);if(n!==null){var r=Ve();kt(n,e,t,r)}Zi(e,t)}};wu=function(){return ee};_u=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};ko=function(e,t,n){switch(t){case"input":if(yo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=_s(r);if(!l)throw Error(M(90));Xc(r),yo(r,l)}}}break;case"textarea":Jc(e,n);break;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}};ou=Yi;iu=bn;var bm={usingClientEntryPoint:!1,Events:[al,Wn,_s,lu,su,Yi]},kr={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bm={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uu(e),e===null?null:e.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||Im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{gs=Nl.inject(Bm),Bt=Nl}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bm;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ea(t))throw Error(M(200));return Tm(e,t,null,n)};at.createRoot=function(e,t){if(!ea(e))throw Error(M(299));var n=!1,r="",l=Ud;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Xi(e,1,!1,null,null,n,!1,r,l),e[Ht]=t.current,qr(e.nodeType===8?e.parentNode:e),new Ji(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=uu(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return bn(e)};at.hydrate=function(e,t,n){if(!Ts(t))throw Error(M(200));return Is(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!ea(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=Ud;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=zd(t,null,e,1,n??null,l,!1,s,i),e[Ht]=t.current,qr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ms(t)};at.render=function(e,t,n){if(!Ts(t))throw Error(M(200));return Is(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Ts(e))throw Error(M(40));return e._reactRootContainer?(bn(function(){Is(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};at.unstable_batchedUpdates=Yi;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ts(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Is(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function Hd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hd)}catch(e){console.error(e)}}Hd(),Hc.exports=at;var ta=Hc.exports,fc=ta;co.createRoot=fc.createRoot,co.hydrateRoot=fc.hydrateRoot;function Pm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const Am=m.forwardRef(Pm);function Rm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const $m=m.forwardRef(Rm);function Dm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const Om=m.forwardRef(Dm);function Fm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const zm=m.forwardRef(Fm);function Um({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Hm=m.forwardRef(Um);function Wm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"}))}const Wd=m.forwardRef(Wm);function Vm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Vd=m.forwardRef(Vm);function Qm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Ym=m.forwardRef(Qm);function qm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const Gm=m.forwardRef(qm);function Km({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xm=m.forwardRef(Km);function Zm({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}const Jm=m.forwardRef(Zm);function ep({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const ri=m.forwardRef(ep);function tp({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const np=m.forwardRef(tp);function rp({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const Ul=m.forwardRef(rp);function lp({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const Hl=m.forwardRef(lp);function sp({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const op=m.forwardRef(sp);function ip({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const ap=m.forwardRef(ip);function cp({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Qd=m.forwardRef(cp);function up({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const dp=m.forwardRef(up);function fp({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Bn=m.forwardRef(fp);function Yd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=Yd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=Yd(e))&&(r&&(r+=" "),r+=t);return r}const hp={},hc=e=>{let t;const n=new Set,r=(p,g)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const x=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(j=>j(t,x))}},l=()=>t,c={setState:r,getState:l,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(hp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,l,c);return c},mp=e=>e?hc(e):hc;var qd={exports:{}},Gd={},Kd={exports:{}},Xd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dr=m;function pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gp=typeof Object.is=="function"?Object.is:pp,yp=dr.useState,vp=dr.useEffect,wp=dr.useLayoutEffect,_p=dr.useDebugValue;function xp(e,t){var n=t(),r=yp({inst:{value:n,getSnapshot:t}}),l=r[0].inst,s=r[1];return wp(function(){l.value=n,l.getSnapshot=t,oo(l)&&s({inst:l})},[e,n,t]),vp(function(){return oo(l)&&s({inst:l}),e(function(){oo(l)&&s({inst:l})})},[e]),_p(n),n}function oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gp(e,n)}catch{return!0}}function Sp(e,t){return t()}var jp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Sp:xp;Xd.useSyncExternalStore=dr.useSyncExternalStore!==void 0?dr.useSyncExternalStore:jp;Kd.exports=Xd;var kp=Kd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=m,Cp=kp;function Np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ep=typeof Object.is=="function"?Object.is:Np,Mp=Cp.useSyncExternalStore,Tp=Ls.useRef,Ip=Ls.useEffect,Lp=Ls.useMemo,bp=Ls.useDebugValue;Gd.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var s=Tp(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Lp(function(){function c(x){if(!d){if(d=!0,p=x,x=r(x),l!==void 0&&i.hasValue){var j=i.value;if(l(j,x))return g=j}return g=x}if(j=g,Ep(p,x))return j;var w=r(x);return l!==void 0&&l(j,w)?(p=x,j):(p=x,g=w)}var d=!1,p,g,v=n===void 0?null:n;return[function(){return c(t())},v===null?void 0:function(){return c(v())}]},[t,n,r,l]);var a=Mp(e,s[0],s[1]);return Ip(function(){i.hasValue=!0,i.value=a},[a]),bp(a),a};qd.exports=Gd;var Bp=qd.exports;const Zd=Lc(Bp),Jd={},{useDebugValue:Pp}=ui,{useSyncExternalStoreWithSelector:Ap}=Zd;let mc=!1;const Rp=e=>e;function $p(e,t=Rp,n){(Jd?"production":void 0)!=="production"&&n&&!mc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mc=!0);const r=Ap(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Pp(r),r}const pc=e=>{(Jd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?mp(e):e,n=(r,l)=>$p(t,r,l);return Object.assign(n,t),n},Yt=e=>e?pc(e):pc,Dp={};function Op(e,t){let n;try{n=e()}catch{return}return{getItem:l=>{var s;const i=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(l))!=null?s:null;return a instanceof Promise?a.then(i):i(a)},setItem:(l,s)=>n.setItem(l,JSON.stringify(s,void 0)),removeItem:l=>n.removeItem(l)}}const rl=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return rl(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return rl(r)(n)}}}},Fp=(e,t)=>(n,r,l)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,h)=>({...h,...C}),...t},i=!1;const a=new Set,c=new Set;let d;try{d=s.getStorage()}catch{}if(!d)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...C)},r,l);const p=rl(s.serialize),g=()=>{const C=s.partialize({...r()});let h;const u=p({state:C,version:s.version}).then(f=>d.setItem(s.name,f)).catch(f=>{h=f});if(h)throw h;return u},v=l.setState;l.setState=(C,h)=>{v(C,h),g()};const x=e((...C)=>{n(...C),g()},r,l);let j;const w=()=>{var C;if(!d)return;i=!1,a.forEach(u=>u(r()));const h=((C=s.onRehydrateStorage)==null?void 0:C.call(s,r()))||void 0;return rl(d.getItem.bind(d))(s.name).then(u=>{if(u)return s.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==s.version){if(s.migrate)return s.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var f;return j=s.merge(u,(f=r())!=null?f:x),n(j,!0),g()}).then(()=>{h==null||h(j,void 0),i=!0,c.forEach(u=>u(j))}).catch(u=>{h==null||h(void 0,u)})};return l.persist={setOptions:C=>{s={...s,...C},C.getStorage&&(d=C.getStorage())},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>i,onHydrate:C=>(a.add(C),()=>{a.delete(C)}),onFinishHydration:C=>(c.add(C),()=>{c.delete(C)})},w(),j||x},zp=(e,t)=>(n,r,l)=>{let s={storage:Op(()=>localStorage),partialize:w=>w,version:0,merge:(w,C)=>({...C,...w}),...t},i=!1;const a=new Set,c=new Set;let d=s.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,l);const p=()=>{const w=s.partialize({...r()});return d.setItem(s.name,{state:w,version:s.version})},g=l.setState;l.setState=(w,C)=>{g(w,C),p()};const v=e((...w)=>{n(...w),p()},r,l);l.getInitialState=()=>v;let x;const j=()=>{var w,C;if(!d)return;i=!1,a.forEach(u=>{var f;return u((f=r())!=null?f:v)});const h=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(w=r())!=null?w:v))||void 0;return rl(d.getItem.bind(d))(s.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==s.version){if(s.migrate)return[!0,s.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var f;const[_,N]=u;if(x=s.merge(N,(f=r())!=null?f:v),n(x,!0),_)return p()}).then(()=>{h==null||h(x,void 0),x=r(),i=!0,c.forEach(u=>u(x))}).catch(u=>{h==null||h(void 0,u)})};return l.persist={setOptions:w=>{s={...s,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>j(),hasHydrated:()=>i,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},s.skipHydration||j(),x||v},Up=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Dp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Fp(e,t)):zp(e,t),bs=Up,gc=4,ll=8,ef=70,yc=ll,tf=()=>Array.from({length:ll},(e,t)=>({id:`slot-${t+1}`,muted:!1,volume:ef,quality:"auto"})),Hp=e=>Array.from({length:ll},(t,n)=>{const r=e[n];return{id:(r==null?void 0:r.id)??`slot-${n+1}`,muted:(r==null?void 0:r.muted)??!1,volume:(r==null?void 0:r.volume)??ef,quality:(r==null?void 0:r.quality)??"auto",assignedStream:r==null?void 0:r.assignedStream}}),vc=tf(),F=Yt()(bs((e,t)=>{var n;return{preset:"twoByTwo",slots:vc,selectedSlotId:((n=vc[0])==null?void 0:n.id)??null,mutedAll:!1,masterVolume:100,activeSlotsCount:gc,availableStreams:[],streamsLoading:!1,streamsError:void 0,fullscreen:!1,platforms:["youtube","twitch","niconico"],searchQuery:"",channelSearchResults:[],channelSearchLoading:!1,channelSearchError:void 0,pendingStream:null,autoQualityEnabled:!0,isModalOpen:!1,userInteracted:!1,showSelection:!1,masterSlotId:null,setPreset:r=>e({preset:r}),setUserInteracted:r=>e({userInteracted:r}),setShowSelection:r=>e({showSelection:r}),setMasterSlot:r=>e({masterSlotId:r}),clearMasterSlot:()=>e({masterSlotId:null}),selectSlot:r=>e(l=>{const s=l.slots.findIndex(i=>i.id===r);return s===-1||s>=l.activeSlotsCount?l:{selectedSlotId:r,showSelection:!0}}),clearSelection:()=>e({selectedSlotId:null}),assignStream:(r,l)=>e(s=>{const i=s.slots.findIndex(d=>d.id===r);if(i===-1||i>=s.activeSlotsCount)return s;const a={...l},c=s.slots.slice();return c[i]={...c[i],assignedStream:a},{slots:c}}),clearSlot:r=>e(l=>{const s=l.slots.findIndex(a=>a.id===r);if(s===-1||s>=l.activeSlotsCount)return l;const i=l.slots.slice();return i[s]={...i[s],assignedStream:void 0},{slots:i}}),toggleMuteAll:()=>e(r=>{const l=!r.mutedAll;return{mutedAll:l,slots:r.slots.map(s=>({...s,muted:l}))}}),toggleSlotMute:r=>e(l=>{const s=l.slots.findIndex(a=>a.id===r);if(s===-1||s>=l.activeSlotsCount)return l;const i=l.slots.slice();return i[s]={...i[s],muted:!i[s].muted},{slots:i,mutedAll:i.slice(0,l.activeSlotsCount).every(a=>a.muted)}}),setVolume:(r,l)=>e(s=>{const i=s.slots.findIndex(c=>c.id===r);if(i===-1||i>=s.activeSlotsCount)return s;const a=s.slots.slice();return a[i]={...a[i],volume:l},{slots:a}}),setMasterVolume:r=>e({masterVolume:r}),setSlotQuality:(r,l)=>e(s=>{const i=s.slots.findIndex(c=>c.id===r);if(i===-1||i>=s.activeSlotsCount)return s;const a=s.slots.slice();return a[i]={...a[i],quality:l},{slots:a}}),setAutoQualityEnabled:r=>{e({autoQualityEnabled:r}),r&&e(l=>({slots:l.slots.map(s=>({...s,quality:"auto"}))}))},swapSlots:(r,l)=>e(s=>{const i=s.slots.findIndex(p=>p.id===r),a=s.slots.findIndex(p=>p.id===l);if(i===-1||a===-1||i>=s.activeSlotsCount||a>=s.activeSlotsCount)return s;const c=s.slots.slice(),d=c[i].assignedStream;return c[i]={...c[i],assignedStream:c[a].assignedStream},c[a]={...c[a],assignedStream:d},{slots:c}}),ensureSelection:()=>{var i,a,c,d;const r=t(),l=r.slots.slice(0,r.activeSlotsCount);if(l.length===0){e({selectedSlotId:null});return}if(!r.selectedSlotId){const p=((i=l.find(g=>!g.assignedStream))==null?void 0:i.id)??((a=l[0])==null?void 0:a.id)??null;e({selectedSlotId:p});return}if(l.findIndex(p=>p.id===r.selectedSlotId)===-1){const p=((c=l.find(g=>!g.assignedStream))==null?void 0:c.id)??((d=l[0])==null?void 0:d.id)??null;e({selectedSlotId:p})}},setActiveSlotsCount:r=>{e(l=>{var c;const s=ll,i=Math.min(Math.max(r,1),s);if(i===l.activeSlotsCount)return l;let a=l.selectedSlotId;return a&&l.slots.findIndex(p=>p.id===a)>=i&&(a=((c=l.slots[i-1])==null?void 0:c.id)??null),{activeSlotsCount:i,selectedSlotId:a}}),t().ensureSelection()},setAvailableStreamsForPlatform:(r,l)=>e(s=>({availableStreams:[...s.availableStreams.filter(i=>i.platform!==r),...l]})),setStreamsLoading:r=>e({streamsLoading:r}),setStreamsError:r=>e({streamsError:r}),setSearchQuery:r=>e({searchQuery:r}),setChannelSearchResults:r=>e({channelSearchResults:r}),setChannelSearchLoading:r=>e({channelSearchLoading:r}),setChannelSearchError:r=>e({channelSearchError:r}),clearChannelSearch:()=>e({channelSearchResults:[],channelSearchError:void 0}),setFullscreen:r=>e({fullscreen:r}),setPendingStream:r=>e({pendingStream:r}),setModalOpen:r=>e({isModalOpen:r})}},{name:"fukumado-layout",version:1,onRehydrateStorage:()=>e=>{e&&(e.slots=Hp(e.slots.length?e.slots:tf()),e.activeSlotsCount=Math.min(Math.max(e.activeSlotsCount??gc,1),ll))},partialize:e=>({preset:e.preset,slots:e.slots,selectedSlotId:e.selectedSlotId,mutedAll:e.mutedAll,masterVolume:e.masterVolume,activeSlotsCount:e.activeSlotsCount,autoQualityEnabled:e.autoQualityEnabled})})),wc=e=>`${e.platform}:${e.channelId}`,io=(e,t)=>t==="youtube"?e.currentYoutubeUserId?`youtube:${e.currentYoutubeUserId}`:null:t==="twitch"&&e.currentTwitchUserId?`twitch:${e.currentTwitchUserId}`:null,li=e=>{const t=[];return e.currentYoutubeUserId&&t.push(`youtube:${e.currentYoutubeUserId}`),e.currentTwitchUserId&&t.push(`twitch:${e.currentTwitchUserId}`),t},$n=e=>{const t=li(e),n=[];return t.forEach(r=>{const l=e.followedChannelsByUser[r]||[];n.push(...l)}),n},bt=Yt()(bs((e,t)=>({followedChannelsByUser:{},currentYoutubeUserId:null,currentTwitchUserId:null,followedChannels:[],setCurrentYoutubeUser:n=>{e(()=>{const r={...t(),currentYoutubeUserId:n};return{currentYoutubeUserId:n,followedChannels:$n(r)}})},setCurrentTwitchUser:n=>{e(()=>{const r={...t(),currentTwitchUserId:n};return{currentTwitchUserId:n,followedChannels:$n(r)}})},addFollowedChannel:n=>{e(()=>{const r=t(),l=io(r,n.platform);if(!l)return r;const s=r.followedChannelsByUser[l]||[];if(s.some(d=>d.platform===n.platform&&d.channelId===n.channelId))return r;const a={...r.followedChannelsByUser,[l]:[...s,n]},c={...r,followedChannelsByUser:a};return{followedChannelsByUser:a,followedChannels:$n(c)}})},addFollowedChannels:n=>{e(()=>{const r=t();if(n.length===0)return r;const l={};n.forEach(c=>{l[c.platform]||(l[c.platform]=[]),l[c.platform].push(c)});const s={...r.followedChannelsByUser};let i=!1;if(Object.entries(l).forEach(([c,d])=>{const p=io(r,c);if(!p)return;const g=s[p]||[],v=new Set(g.map(wc)),x=d.filter(j=>!v.has(wc(j)));x.length>0&&(s[p]=[...g,...x],i=!0)}),!i)return r;const a={...r,followedChannelsByUser:s};return{followedChannelsByUser:s,followedChannels:$n(a)}})},removeFollowedChannel:(n,r)=>{e(()=>{const l=t(),s={...l.followedChannelsByUser};let i=!1;if(r){const c=io(l,r);if(c&&s[c]){const d=s[c].filter(p=>p.channelId!==n||p.platform!==r);d.length!==s[c].length&&(s[c]=d,i=!0)}}else li(l).forEach(d=>{if(s[d]){const p=s[d].filter(g=>g.channelId!==n);p.length!==s[d].length&&(s[d]=p,i=!0)}});if(!i)return l;const a={...l,followedChannelsByUser:s};return{followedChannelsByUser:s,followedChannels:$n(a)}})},clearFollowedChannels:()=>{e(()=>{const n=t(),r={...n.followedChannelsByUser};li(n).forEach(i=>{delete r[i]});const s={...n,followedChannelsByUser:r};return{followedChannelsByUser:r,followedChannels:$n(s)}})}}),{name:"fukumado-user",version:2})),_c=50,xc=3,Wp={enabled:!0,youtube:!0,twitch:!0,sound:!1},It=Yt()(bs((e,t)=>({notifications:[],settings:Wp,toasts:[],addNotification:n=>{const{settings:r,notifications:l}=t();if(!r.enabled||n.platform==="youtube"&&!r.youtube||n.platform==="twitch"&&!r.twitch)return;if(n.streamId&&l.some(a=>a.streamId===n.streamId&&a.type===n.type)){console.log("[Notification] 重複通知をスキップ:",n.streamId);return}const s={...n,id:`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,timestamp:Date.now(),read:!1};if(e(i=>{const a=[s,...i.notifications];return a.length>_c&&a.splice(_c),{notifications:a}}),r.sound&&new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTE=").play().catch(()=>{}),n.type==="stream_started"&&n.channelName){const i=`${n.channelName}が配信を始めました！`,a=s.id;e(c=>{const d=[{id:a,message:i,thumbnailUrl:n.thumbnailUrl},...c.toasts];return d.length>xc&&d.splice(xc),{toasts:d}})}},markAsRead:n=>e(r=>({notifications:r.notifications.map(l=>l.id===n?{...l,read:!0}:l)})),markAllAsRead:()=>e(n=>({notifications:n.notifications.map(r=>({...r,read:!0}))})),clearAll:()=>e({notifications:[]}),updateSettings:n=>e(r=>({settings:{...r.settings,...n}})),getUnreadCount:()=>{const{notifications:n}=t();return n.filter(r=>!r.read).length},removeToast:n=>e(r=>({toasts:r.toasts.filter(l=>l.id!==n)}))}),{name:"fukumado-notifications",version:1,partialize:e=>({settings:e.settings})})),Bs=Yt()(e=>({sidebarOpen:!1,chatOpen:!1,setSidebarOpen:t=>e({sidebarOpen:t}),setChatOpen:t=>e({chatOpen:t}),toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen,chatOpen:!1})),toggleChat:()=>e(t=>({chatOpen:!t.chatOpen,sidebarOpen:!1})),closeAll:()=>e({sidebarOpen:!1,chatOpen:!1})})),Vp=e=>{const[t,n]=m.useState(()=>typeof window<"u"?window.matchMedia(e).matches:!1);return m.useEffect(()=>{const r=window.matchMedia(e),l=s=>{n(s.matches)};return n(r.matches),r.addEventListener("change",l),()=>{r.removeEventListener("change",l)}},[e]),t},pr=()=>Vp("(max-width: 768px)"),na=Yt(e=>({enabled:!1,message:"",enabledAt:void 0,duration:void 0,scheduledEndAt:void 0,setMaintenance:t=>e({enabled:t.enabled,message:t.message||"",enabledAt:t.enabledAt,duration:t.duration,scheduledEndAt:t.scheduledEndAt}),clearMaintenance:()=>e({enabled:!1,message:"",enabledAt:void 0,duration:void 0,scheduledEndAt:void 0})})),Qp=window.location.origin.includes("5173")?window.location.origin.replace("5173","4000"):window.location.origin,nf=e=>e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/auth")?`${Qp}${e}`:e,Yp=()=>new URLSearchParams(window.location.search).get("bypass"),En=async(e,t)=>{const n=nf(e),r=Yp(),l=r?`${n}${n.includes("?")?"&":"?"}bypass=${r}`:n,s=await fetch(l,{credentials:"include",...t});if(s.status===503)try{const i=await s.clone().json();i.error==="Service Unavailable"&&na.getState().setMaintenance({enabled:!0,message:i.message||"サービスは現在メンテナンス中です。",enabledAt:i.enabledAt,duration:i.duration,scheduledEndAt:i.scheduledEndAt})}catch(i){console.error("[API] Failed to parse maintenance response:",i)}return s},Xn={enableYoutube:!1,enableNiconico:!1},oe=Yt(e=>({authenticated:!1,loading:!1,error:void 0,user:void 0,setStatus:({authenticated:t,user:n,error:r})=>e({authenticated:t,user:n,error:r??void 0}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),twitchAuthenticated:!1,twitchLoading:!1,twitchError:void 0,twitchUser:void 0,setTwitchStatus:({authenticated:t,user:n,error:r})=>e({twitchAuthenticated:t,twitchUser:n,twitchError:r??void 0}),setTwitchLoading:t=>e({twitchLoading:t}),setTwitchError:t=>e({twitchError:t}),sessionId:void 0,setSessionId:t=>e({sessionId:t})})),qp={enabled:!0,interval:6e4},El=6e4,Ml=6e4,rt=Yt()(bs((e,t)=>({settings:qp,syncing:!1,lastSyncTime:void 0,lastManualSyncTime:void 0,lastFollowChannelSyncTime:void 0,manualSyncTrigger:0,updateSettings:n=>{e(r=>({settings:{...r.settings,...n}}))},setSyncing:n=>{e({syncing:n})},setLastSyncTime:n=>{e({lastSyncTime:n})},triggerManualSync:()=>{const n=Date.now(),{lastManualSyncTime:r}=t();if(r&&n-r<El){const l=Math.ceil((El-(n-r))/1e3);console.log(`[手動同期] クールダウン中です。あと${l}秒お待ちください。`);return}e({manualSyncTrigger:n,lastManualSyncTime:n})},canManualSync:()=>{const{lastManualSyncTime:n}=t();return n?Date.now()-n>=El:!0},getRemainingCooldown:()=>{const{lastManualSyncTime:n}=t();if(!n)return 0;const l=Date.now()-n,s=El-l;return s>0?Math.ceil(s/1e3):0},recordFollowChannelSync:()=>{const n=Date.now(),{lastFollowChannelSyncTime:r}=t();if(r&&n-r<Ml){const l=Math.ceil((Ml-(n-r))/1e3);return console.log(`[フォローチャンネル同期] クールダウン中です。あと${l}秒お待ちください。`),!1}return e({lastFollowChannelSyncTime:n}),!0},canFollowChannelSync:()=>{const{lastFollowChannelSyncTime:n}=t();return n?Date.now()-n>=Ml:!0},getFollowChannelRemainingCooldown:()=>{const{lastFollowChannelSyncTime:n}=t();if(!n)return 0;const l=Date.now()-n,s=Ml-l;return s>0?Math.ceil(s/1e3):0}}),{name:"fukumado-sync",version:1,partialize:e=>({settings:e.settings})})),Gp=[{value:3e4,label:"30秒"},{value:6e4,label:"1分"},{value:18e4,label:"3分"},{value:3e5,label:"5分"}],Kp=()=>{try{const e=sessionStorage.getItem("fukumado-data-usage");if(e){const t=JSON.parse(e);return{totalBytes:t.totalBytes||0,sessionStartTime:t.sessionStartTime||Date.now()}}}catch(e){console.error("[DataUsage] セッションストレージ読み込みエラー:",e)}return{totalBytes:0,sessionStartTime:Date.now()}},Sc=(e,t)=>{try{sessionStorage.setItem("fukumado-data-usage",JSON.stringify({totalBytes:e,sessionStartTime:t}))}catch(n){console.error("[DataUsage] セッションストレージ書き込みエラー:",n)}},jc=Kp(),Wl=Yt()((e,t)=>({totalBytes:jc.totalBytes,sessionStartTime:jc.sessionStartTime,addUsage:n=>{e(r=>{const l=r.totalBytes+n;return Sc(l,r.sessionStartTime),{totalBytes:l}})},reset:()=>{const n=Date.now();e({totalBytes:0,sessionStartTime:n}),Sc(0,n)},getTotalMB:()=>{const{totalBytes:n}=t();return n/(1024*1024)},getTotalGB:()=>{const{totalBytes:n}=t();return n/(1024*1024*1024)},getSessionDuration:()=>{const{sessionStartTime:n}=t();return Math.floor((Date.now()-n)/1e3)}})),Xp="_menu_5abr6_1",Zp="_section_5abr6_33",Jp="_sectionHeader_5abr6_61",eg="_sectionTitle_5abr6_87",tg="_authStatus_5abr6_101",ng="_authSubtext_5abr6_119",rg="_actions_5abr6_129",lg="_syncMessage_5abr6_183",sg="_syncError_5abr6_195",og="_description_5abr6_207",ig="_syncSettings_5abr6_245",ag="_settingItem_5abr6_257",cg="_syncIntervalControl_5abr6_297",ug="_syncIntervalLabel_5abr6_309",dg="_syncIntervalSelect_5abr6_321",fg="_syncStatus_5abr6_363",hg="_syncStatusLabel_5abr6_383",mg="_syncingIndicator_5abr6_391",pg="_syncManualButton_5abr6_421",gg="_dataUsageSettings_5abr6_483",yg="_totalBandwidth_5abr6_495",vg="_totalBandwidthLabel_5abr6_515",wg="_totalBandwidthValue_5abr6_523",_g="_slotQualityList_5abr6_535",xg="_slotQualityItem_5abr6_547",Sg="_slotQualityHeader_5abr6_567",jg="_slotQualityLabel_5abr6_581",kg="_slotBandwidth_5abr6_593",Cg="_qualitySelect_5abr6_605",Ng="_qualityInfo_5abr6_645",Eg="_qualityInfoTitle_5abr6_659",Mg="_qualityInfoList_5abr6_673",Tg="_qualityInfoNote_5abr6_697",Ig="_syncMonitorEmpty_5abr6_713",Lg="_syncMonitorList_5abr6_731",bg="_syncMonitorItem_5abr6_743",Bg="_syncMonitorHeader_5abr6_767",Pg="_syncMasterBadge_5abr6_781",Ag="_syncMonitorName_5abr6_801",Rg="_syncMonitorDetails_5abr6_813",$g="_syncMonitorTime_5abr6_827",Dg="_syncMonitorDiff_5abr6_841",Og="_syncDiffGreen_5abr6_855",Fg="_syncDiffYellow_5abr6_865",zg="_syncDiffRed_5abr6_875",Ug="_syncMonitorNote_5abr6_885",Hg="_syncMonitorActions_5abr6_905",Wg="_syncActionButton_5abr6_917",Vg="_syncButtonAction_5abr6_953",Qg="_actualDataUsage_5abr6_991",Yg="_actualDataUsageHeader_5abr6_1011",qg="_actualDataUsageLabel_5abr6_1023",Gg="_actualDataUsageValue_5abr6_1035",Kg="_actualDataUsageInfo_5abr6_1047",Xg="_sessionDuration_5abr6_1061",Zg="_resetDataUsageButton_5abr6_1071",Jg="_dataUsageNote_5abr6_1107",A={menu:Xp,section:Zp,sectionHeader:Jp,sectionTitle:eg,authStatus:tg,authSubtext:ng,actions:rg,syncMessage:lg,syncError:sg,description:og,syncSettings:ig,settingItem:ag,syncIntervalControl:cg,syncIntervalLabel:ug,syncIntervalSelect:dg,syncStatus:fg,syncStatusLabel:hg,syncingIndicator:mg,syncManualButton:pg,dataUsageSettings:gg,totalBandwidth:yg,totalBandwidthLabel:vg,totalBandwidthValue:wg,slotQualityList:_g,slotQualityItem:xg,slotQualityHeader:Sg,slotQualityLabel:jg,slotBandwidth:kg,qualitySelect:Cg,qualityInfo:Ng,qualityInfoTitle:Eg,qualityInfoList:Mg,qualityInfoNote:Tg,syncMonitorEmpty:Ig,syncMonitorList:Lg,syncMonitorItem:bg,syncMonitorHeader:Bg,syncMasterBadge:Pg,syncMonitorName:Ag,syncMonitorDetails:Rg,syncMonitorTime:$g,syncMonitorDiff:Dg,syncDiffGreen:Og,syncDiffYellow:Fg,syncDiffRed:zg,syncMonitorNote:Ug,syncMonitorActions:Hg,syncActionButton:Wg,syncButtonAction:Vg,actualDataUsage:Qg,actualDataUsageHeader:Yg,actualDataUsageLabel:qg,actualDataUsageValue:Gg,actualDataUsageInfo:Kg,sessionDuration:Xg,resetDataUsageButton:Zg,dataUsageNote:Jg},si=[{quality:"auto",label:"自動",mbps:0},{quality:"1080p",label:"1080p（高画質）",mbps:5},{quality:"720p",label:"720p（標準）",mbps:2.5},{quality:"480p",label:"480p（低画質）",mbps:1.2},{quality:"360p",label:"360p（最低画質）",mbps:.7}],kc=e=>{var t;return((t=si.find(n=>n.quality===e))==null?void 0:t.mbps)??0},ey=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},ty=(e,t)=>t>=1?`${t.toFixed(2)} GB`:`${e.toFixed(2)} MB`,ny=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}時間${n}分`:`${n}分`},ry=({onClose:e})=>{oe(y=>y.authenticated),oe(y=>y.user),oe(y=>y.loading),oe(y=>y.setStatus),oe(y=>y.setLoading),oe(y=>y.setError);const t=oe(y=>y.twitchAuthenticated),n=oe(y=>y.twitchUser),r=oe(y=>y.twitchLoading),l=oe(y=>y.setTwitchStatus),s=oe(y=>y.setTwitchLoading),i=oe(y=>y.setTwitchError),a=bt(y=>y.addFollowedChannels),c=bt(y=>y.setCurrentTwitchUser);bt(y=>y.setCurrentYoutubeUser);const d=rt(y=>y.settings),p=rt(y=>y.syncing),g=rt(y=>y.lastSyncTime),v=rt(y=>y.updateSettings),x=rt(y=>y.triggerManualSync),j=rt(y=>y.canManualSync),w=rt(y=>y.getRemainingCooldown),C=rt(y=>y.recordFollowChannelSync),h=rt(y=>y.canFollowChannelSync),u=rt(y=>y.getFollowChannelRemainingCooldown),f=F(y=>y.slots),_=F(y=>y.activeSlotsCount),N=F(y=>y.autoQualityEnabled),k=F(y=>y.setSlotQuality),E=F(y=>y.setAutoQualityEnabled),L=F(y=>y.masterSlotId),R=Wl(y=>y.totalBytes),D=Wl(y=>y.sessionStartTime),ne=Wl(y=>y.reset),te=()=>R/(1024*1024),I=()=>R/(1024*1024*1024),W=()=>Math.floor((Date.now()-D)/1e3),[se,yt]=m.useState(null),[ut,B]=m.useState(null),[O,z]=m.useState(!1),[q,re]=m.useState([]),[qe,Ee]=m.useState(null),[tt,Ae]=m.useState(null),[ze,yn]=m.useState(!1),[At,vn]=m.useState(0),[P,K]=m.useState(0),[,de]=m.useState(0);m.useEffect(()=>{const y=setInterval(()=>{de(b=>b+1)},1e3);return()=>clearInterval(y)},[]),m.useEffect(()=>{const y=()=>{const U=w();vn(U)};y();const b=setInterval(y,1e3);return()=>clearInterval(b)},[w]),m.useEffect(()=>{const y=()=>{const U=u();K(U)};y();const b=setInterval(y,1e3);return()=>clearInterval(b)},[u]);const Ue=()=>{if(!g)return"未同期";const b=Date.now()-g,U=Math.floor(b/1e3),Q=Math.floor(U/60),ve=Math.floor(Q/60);return U<60?`${U}秒前`:Q<60?`${Q}分前`:`${ve}時間前`},Le=()=>f.slice(0,_).filter(y=>y.assignedStream).reduce((y,b)=>y+kc(b.quality),0),le=async()=>{s(!0),i(void 0);try{const y=await En("/auth/twitch/status");if(!y.ok)throw new Error(`Twitchステータス取得に失敗しました (${y.status})`);const b=await y.json();l({authenticated:!!b.authenticated,user:b.user,error:void 0})}catch(y){const b=y instanceof Error?y.message:"不明なエラー";i(b),l({authenticated:!1,user:void 0,error:b})}finally{s(!1)}},Ge=()=>{const y=window.open(nf("/auth/twitch"),"twitch-oauth","width=500,height=650,menubar=no,toolbar=no");if(!y){le();return}const b=window.setInterval(async()=>{if(y.closed){window.clearInterval(b),await le();return}await le(),oe.getState().twitchAuthenticated&&(window.clearInterval(b),y.close())},2e3)},fe=async()=>{s(!0),Ee(null),Ae(null);try{const y=await En("/auth/twitch/logout",{method:"POST"});if(!y.ok)throw new Error(`Twitchログアウトに失敗しました (${y.status})`);l({authenticated:!1,user:void 0,error:void 0})}catch(y){const b=y instanceof Error?y.message:"不明なエラー";i(b)}finally{s(!1)}},nt=async()=>{if(C()){yn(!0),Ee(null),Ae(null);try{const y=bt.getState().followedChannels.length,b=await En("/api/twitch/subscriptions");if(!b.ok)throw b.status===401?new Error("Twitchアカウントへの接続が必要です"):new Error(`フォローチャンネルの取得に失敗しました (${b.status})`);const U=await b.json();if(Array.isArray(U.items)){n!=null&&n.id&&c(n.id);const Q=U.items.map(ke=>({platform:"twitch",channelId:ke.id,label:ke.displayName}));a(Q);const xe=bt.getState().followedChannels.length-y;Ee(`フォローチャンネルを同期しました（新規 ${xe} 件）`)}else Ee("フォローチャンネルは見つかりませんでした。")}catch(y){const b=y instanceof Error?y.message:"不明なエラー";Ae(b)}finally{yn(!1)}}},Rt=m.useMemo(()=>f.slice(0,_).filter(y=>{var b;return((b=y.assignedStream)==null?void 0:b.platform)==="twitch"}).map(y=>{var b;return`${y.id}:${((b=y.assignedStream)==null?void 0:b.id)||"none"}`}).join(","),[f,_]);m.useEffect(()=>{const y=new Date().toISOString();console.log("[SyncMonitor]",y,"インターバル作成 - twitchSlotKey:",Rt,"masterSlotId:",L);const b=()=>{const Q=f.slice(0,_).filter(ke=>{var qt;return((qt=ke.assignedStream)==null?void 0:qt.platform)==="twitch"});if(Q.length===0){re([]);return}let ve=0;if(L){const ke=window[`twitchPlayer_${L}`];if(console.log("[SyncMonitor] マスタープレイヤー参照試行:",L,"exists:",!!ke),ke)try{ve=ke.getCurrentTime(),console.log("[SyncMonitor] マスター getCurrentTime():",L,"time:",ve)}catch(qt){console.warn("[SyncMonitor] マスター時刻取得エラー:",qt)}}const xe=[];for(const ke of Q){const qt=window[`twitchPlayer_${ke.id}`];if(console.log("[SyncMonitor] プレイヤー参照試行:",ke.id,"exists:",!!qt,"hasStream:",!!ke.assignedStream),!(!qt||!ke.assignedStream))try{const gr=qt.getCurrentTime();console.log("[SyncMonitor] getCurrentTime():",ke.id,"time:",gr);const sf=L?gr-ve:0;xe.push({slotId:ke.id,displayName:ke.assignedStream.displayName,currentTime:gr,timeDiff:sf})}catch(gr){console.warn(`[SyncMonitor] ${ke.id} 時刻取得エラー:`,gr)}}re(xe)};b();const U=setInterval(b,1e3);return()=>{const Q=new Date().toISOString();console.log("[SyncMonitor]",Q,"インターバルクリーンアップ - twitchSlotKey:",Rt),clearInterval(U)}},[Rt,L,f,_]);const S=F(y=>y.setMasterSlot),X=F(y=>y.clearMasterSlot),V=y=>{if(!L){console.warn("[Sync] マスター配信が設定されていません");return}const b=window[`twitchPlayer_${L}`],U=window[`twitchPlayer_${y}`];if(!b){console.error("[Sync] マスタープレイヤーが見つかりません");return}if(!U){console.error("[Sync] ターゲットプレイヤーが見つかりません");return}try{const Q=b.getCurrentTime(),ve=U.getCurrentTime();console.log("[Sync] マスター時刻:",Q),console.log("[Sync] ターゲット時刻（変更前）:",ve),console.log("[Sync] 時差:",ve-Q,"秒"),U.seek(Q);try{U.play()}catch{console.log("[Sync] play()がブロックされましたが、seek()は実行されました")}setTimeout(()=>{try{const xe=U.getCurrentTime();console.log("[Sync] ターゲット時刻（変更後）:",xe),console.log("[Sync] seek()は成功しましたか?",Math.abs(xe-Q)<5?"はい":"いいえ")}catch(xe){console.error("[Sync] 変更後の時刻取得エラー:",xe)}},500),console.log("[Sync] 同期実行:",y,"を",Q,"秒に移動")}catch(Q){console.error("[Sync] 同期エラー:",Q)}};return o.jsxs("div",{className:A.menu,children:[Xn.enableYoutube,o.jsxs("section",{className:A.section,children:[o.jsx("h3",{className:A.sectionTitle,children:"Twitch連携"}),o.jsx("div",{className:A.authStatus,children:r?o.jsx("span",{children:"ステータス確認中…"}):t?o.jsxs(o.Fragment,{children:[o.jsxs("span",{children:["接続中: ",(n==null?void 0:n.displayName)??"Twitch"]}),(n==null?void 0:n.login)&&o.jsxs("span",{className:A.authSubtext,children:["@",n.login]})]}):o.jsx("span",{children:"未接続"})}),o.jsxs("div",{className:A.actions,children:[t?o.jsx("button",{type:"button",onClick:fe,disabled:r,children:"ログアウト"}):o.jsx("button",{type:"button",onClick:Ge,disabled:r,children:"Twitchでサインイン"}),o.jsx("button",{type:"button",onClick:nt,disabled:!t||ze||!h(),children:P>0?`あと${P}秒`:"フォローチャンネルを同期"})]}),qe&&o.jsx("div",{className:A.syncMessage,children:qe}),tt&&o.jsx("div",{className:A.syncError,children:tt})]}),o.jsxs("section",{className:A.section,children:[o.jsxs("div",{className:A.sectionHeader,children:[o.jsx(Xm,{}),o.jsx("h3",{className:A.sectionTitle,children:"配信同期モニター"})]}),o.jsx("p",{className:A.description,children:"Twitch配信の再生位置をリアルタイムで監視します。"}),q.length===0?o.jsx("div",{className:A.syncMonitorEmpty,children:"Twitch配信が視聴中ではありません"}):o.jsx("div",{className:A.syncMonitorList,children:q.map(y=>{const b=y.slotId===L,U=Math.abs(y.timeDiff);let Q=A.syncDiffGreen,ve="✅";return U>=5?(Q=A.syncDiffRed,ve="🔴"):U>=2&&(Q=A.syncDiffYellow,ve="🟡"),o.jsxs("div",{className:A.syncMonitorItem,children:[o.jsxs("div",{className:A.syncMonitorHeader,children:[b&&o.jsx("span",{className:A.syncMasterBadge,children:"🎯 マスター"}),o.jsx("span",{className:A.syncMonitorName,children:y.displayName})]}),o.jsxs("div",{className:A.syncMonitorDetails,children:[o.jsx("span",{className:A.syncMonitorTime,children:ey(y.currentTime)}),L&&!b&&o.jsxs("span",{className:`${A.syncMonitorDiff} ${Q}`,children:[ve," ",y.timeDiff>=0?"+":"",y.timeDiff.toFixed(1),"秒"]})]}),o.jsx("div",{className:A.syncMonitorActions,children:b?o.jsx("button",{type:"button",className:A.syncActionButton,onClick:()=>X(),children:"マスター解除"}):o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:A.syncActionButton,onClick:()=>S(y.slotId),children:"マスターに設定"}),L&&o.jsx("button",{type:"button",className:A.syncButtonAction,onClick:()=>V(y.slotId),children:"同期"})]})})]},y.slotId)})}),!L&&q.length>0&&o.jsx("div",{className:A.syncMonitorNote,children:"※ マスター配信を設定すると時差が表示されます"})]}),o.jsxs("section",{className:A.section,children:[o.jsxs("div",{className:A.sectionHeader,children:[o.jsx(Am,{}),o.jsx("h3",{className:A.sectionTitle,children:"アカウント同期設定"})]}),o.jsx("p",{className:A.description,children:"配信情報の自動更新間隔を設定できます。"}),o.jsxs("div",{className:A.syncSettings,children:[o.jsxs("label",{className:A.settingItem,children:[o.jsx("input",{type:"checkbox",checked:d.enabled,onChange:y=>v({enabled:y.target.checked})}),o.jsx("span",{children:"自動同期を有効にする"})]}),o.jsxs("div",{className:A.syncIntervalControl,children:[o.jsx("label",{className:A.syncIntervalLabel,children:"同期間隔"}),o.jsx("select",{className:A.syncIntervalSelect,value:d.interval,onChange:y=>v({interval:Number(y.target.value)}),disabled:!d.enabled,children:Gp.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))})]}),o.jsxs("div",{className:A.syncStatus,children:[o.jsxs("span",{className:A.syncStatusLabel,children:["最終更新: ",Ue()]}),p&&o.jsx("span",{className:A.syncingIndicator,children:"同期中..."})]}),o.jsxs("button",{type:"button",className:A.syncManualButton,onClick:x,disabled:p||!j(),children:[o.jsx($m,{}),o.jsx("span",{children:At>0?`あと${At}秒`:"今すぐ更新"})]})]})]}),o.jsxs("section",{className:A.section,children:[o.jsxs("div",{className:A.sectionHeader,children:[o.jsx(Gm,{}),o.jsx("h3",{className:A.sectionTitle,children:"データ使用量"})]}),o.jsx("p",{className:A.description,children:"各視聴枠の画質設定と推定帯域使用量を管理できます。"}),o.jsxs("div",{className:A.dataUsageSettings,children:[o.jsxs("label",{className:A.settingItem,children:[o.jsx("input",{type:"checkbox",checked:N,onChange:y=>E(y.target.checked)}),o.jsx("span",{children:"自動画質調整を有効にする"})]}),o.jsxs("div",{className:A.actualDataUsage,children:[o.jsxs("div",{className:A.actualDataUsageHeader,children:[o.jsx("span",{className:A.actualDataUsageLabel,children:"セッション使用量:"}),o.jsx("span",{className:A.actualDataUsageValue,children:ty(te(),I())})]}),o.jsxs("div",{className:A.actualDataUsageInfo,children:[o.jsxs("span",{className:A.sessionDuration,children:["セッション時間: ",ny(W())]}),o.jsx("button",{type:"button",className:A.resetDataUsageButton,onClick:ne,title:"データ使用量をリセット",children:"リセット"})]}),o.jsx("p",{className:A.dataUsageNote,children:"※ ブラウザが読み込んだリソースのサイズを測定しています。配信ストリーミングの一部は含まれません。"})]}),o.jsxs("div",{className:A.totalBandwidth,children:[o.jsx("span",{className:A.totalBandwidthLabel,children:"合計推定帯域:"}),o.jsx("span",{className:A.totalBandwidthValue,children:N?"自動調整中":`約 ${Le().toFixed(1)} Mbps`})]}),o.jsx("div",{className:A.slotQualityList,children:f.slice(0,_).map((y,b)=>o.jsxs("div",{className:A.slotQualityItem,children:[o.jsxs("div",{className:A.slotQualityHeader,children:[o.jsxs("span",{className:A.slotQualityLabel,children:["枠 ",b+1,y.assignedStream&&` - ${y.assignedStream.displayName}`]}),!N&&y.quality!=="auto"&&o.jsxs("span",{className:A.slotBandwidth,children:["約 ",kc(y.quality).toFixed(1)," Mbps"]})]}),o.jsx("select",{className:A.qualitySelect,value:y.quality,onChange:U=>k(y.id,U.target.value),disabled:N,children:si.map(U=>o.jsxs("option",{value:U.quality,children:[U.label,U.quality!=="auto"?` (${U.mbps} Mbps)`:""]},U.quality))})]},y.id))}),o.jsxs("div",{className:A.qualityInfo,children:[o.jsx("p",{className:A.qualityInfoTitle,children:"画質別の推定帯域:"}),o.jsx("ul",{className:A.qualityInfoList,children:si.filter(y=>y.quality!=="auto").map(y=>o.jsxs("li",{children:[y.label,": 約 ",y.mbps," Mbps"]},y.quality))}),o.jsx("p",{className:A.qualityInfoNote,children:"※ 実際の帯域使用量は配信内容や視聴環境により変動します。"})]})]})]})]})},ly="_menu_hokzp_1",sy="_section_hokzp_33",oy="_sectionHeader_hokzp_61",iy="_sectionTitle_hokzp_87",ay="_notificationSettings_hokzp_103",cy="_settingItem_hokzp_117",uy="_notificationHistory_hokzp_159",dy="_notificationHistoryHeader_hokzp_167",fy="_notificationActions_hokzp_185",hy="_notificationList_hokzp_253",my="_notificationEmpty_hokzp_269",py="_notificationItem_hokzp_283",gy="_notificationItemUnread_hokzp_317",yy="_notificationThumbnail_hokzp_327",vy="_notificationContent_hokzp_343",wy="_notificationHeader_hokzp_353",_y="_notificationPlatform_hokzp_367",xy="_notificationTime_hokzp_379",Sy="_notificationChannel_hokzp_391",jy="_notificationTitle_hokzp_405",ky="_notificationUnreadBadge_hokzp_427",he={menu:ly,section:sy,sectionHeader:oy,sectionTitle:iy,notificationSettings:ay,settingItem:cy,notificationHistory:uy,notificationHistoryHeader:dy,notificationActions:fy,notificationList:hy,notificationEmpty:my,notificationItem:py,notificationItemUnread:gy,notificationThumbnail:yy,notificationContent:vy,notificationHeader:wy,notificationPlatform:_y,notificationTime:xy,notificationChannel:Sy,notificationTitle:jy,notificationUnreadBadge:ky},Cy=({onClose:e})=>{const t=It(a=>a.notifications),n=It(a=>a.settings),r=It(a=>a.markAsRead),l=It(a=>a.markAllAsRead),s=It(a=>a.clearAll),i=It(a=>a.updateSettings);return o.jsx("div",{className:he.menu,children:o.jsxs("section",{className:he.section,children:[o.jsxs("div",{className:he.sectionHeader,children:[o.jsx(Wd,{}),o.jsx("h3",{className:he.sectionTitle,children:"通知センター"})]}),o.jsxs("div",{className:he.notificationSettings,children:[o.jsxs("label",{className:he.settingItem,children:[o.jsx("input",{type:"checkbox",checked:n.enabled,onChange:a=>i({enabled:a.target.checked})}),o.jsx("span",{children:"通知を有効にする"})]}),Xn.enableYoutube,o.jsxs("label",{className:he.settingItem,children:[o.jsx("input",{type:"checkbox",checked:n.twitch,onChange:a=>i({twitch:a.target.checked}),disabled:!n.enabled}),o.jsx("span",{children:"Twitch配信開始通知"})]}),o.jsxs("label",{className:he.settingItem,children:[o.jsx("input",{type:"checkbox",checked:n.sound,onChange:a=>i({sound:a.target.checked}),disabled:!n.enabled}),o.jsx("span",{children:"通知音を再生"})]})]}),o.jsxs("div",{className:he.notificationHistory,children:[o.jsxs("div",{className:he.notificationHistoryHeader,children:[o.jsxs("span",{children:["通知履歴 (",t.filter(a=>!a.read).length,"件未読)"]}),o.jsxs("div",{className:he.notificationActions,children:[o.jsxs("button",{type:"button",onClick:l,disabled:t.length===0,children:[o.jsx(Ym,{}),"全て既読"]}),o.jsxs("button",{type:"button",onClick:s,disabled:t.length===0,children:[o.jsx(Qd,{}),"クリア"]})]})]}),o.jsx("div",{className:he.notificationList,children:t.length===0?o.jsx("div",{className:he.notificationEmpty,children:"通知はありません"}):t.filter(a=>!(a.platform==="youtube"||a.platform==="niconico")).slice(0,10).map(a=>o.jsxs("div",{className:`${he.notificationItem} ${a.read?"":he.notificationItemUnread}`,onClick:()=>r(a.id),children:[a.thumbnailUrl&&o.jsx("img",{src:a.thumbnailUrl,alt:"",className:he.notificationThumbnail}),o.jsxs("div",{className:he.notificationContent,children:[o.jsxs("div",{className:he.notificationHeader,children:[o.jsx("span",{className:he.notificationPlatform,style:{color:a.platform==="youtube"?"#ef4444":"#a855f7"},children:a.platform.toUpperCase()}),o.jsx("span",{className:he.notificationTime,children:new Date(a.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("div",{className:he.notificationChannel,children:a.channelName}),o.jsx("div",{className:he.notificationTitle,children:a.streamTitle})]}),!a.read&&o.jsx("div",{className:he.notificationUnreadBadge})]},a.id))})]})]})})},Ny="_header_6nxbp_1",Ey="_brand_6nxbp_14",My="_logo_6nxbp_20",Ty="_meta_6nxbp_33",Iy="_title_6nxbp_38",Ly="_subtitle_6nxbp_45",by="_actions_6nxbp_50",By="_searchGroup_6nxbp_57",Py="_search_6nxbp_57",Ay="_searchIcon_6nxbp_81",Ry="_searchButton_6nxbp_97",$y="_fullscreenButton_6nxbp_122",Dy="_controlButton_6nxbp_149",Oy="_accountButton_6nxbp_196",Fy="_unreadBadge_6nxbp_220",zy="_searchDropdown_6nxbp_235",Uy="_dropdownMessage_6nxbp_251",Hy="_dropdownError_6nxbp_258",Wy="_dropdownResults_6nxbp_265",Vy="_dropdownItem_6nxbp_271",Qy="_dropdownItemContent_6nxbp_288",Yy="_dropdownThumbnail_6nxbp_295",qy="_dropdownInfo_6nxbp_303",Gy="_dropdownHeader_6nxbp_311",Ky="_dropdownTitle_6nxbp_317",Xy="_dropdownBadge_6nxbp_327",Zy="_dropdownUrl_6nxbp_336",Jy="_dropdownDescription_6nxbp_342",ev="_dropdownButton_6nxbp_354",tv="_menuGroup_6nxbp_387",nv="_slotMenuTitle_6nxbp_404",rv="_slotMenuButtons_6nxbp_411",lv="_slotMenuButton_6nxbp_411",sv="_slotMenuButtonActive_6nxbp_434",ov="_layoutMenu_6nxbp_440",iv="_layoutMenuButtons_6nxbp_453",av="_layoutMenuButton_6nxbp_453",cv="_layoutMenuButtonActive_6nxbp_476",uv="_layoutMenuDivider_6nxbp_482",dv="_layoutMenuAction_6nxbp_488",fv="_followListMenu_6nxbp_506",hv="_followListEmpty_6nxbp_522",mv="_followListPlatform_6nxbp_529",pv="_followList_6nxbp_506",gv="_followListItem_6nxbp_545",yv="_followListLabel_6nxbp_562",vv="_liveBadge_6nxbp_575",wv="_followListDelete_6nxbp_590",_v="_volumeMenu_6nxbp_615",xv="_volumeSection_6nxbp_631",Sv="_volumeSectionHeader_6nxbp_641",jv="_volumeLabel_6nxbp_648",kv="_volumeValue_6nxbp_654",Cv="_volumeSlider_6nxbp_662",Nv="_volumeMuteAllButton_6nxbp_677",Ev="_volumeDivider_6nxbp_704",Mv="_volumeSlotList_6nxbp_710",Tv="_volumeSlotItem_6nxbp_719",Iv="_volumeSlotHeader_6nxbp_735",Lv="_volumeSlotLabel_6nxbp_742",bv="_volumeSlotMute_6nxbp_753",Bv="_volumeSlotMuteMuted_6nxbp_777",Pv="_volumeSlotControl_6nxbp_788",Av="_volumeSliderWrapper_6nxbp_794",Rv="_volumeLevelBar_6nxbp_803",$v="_mobileMenuButtons_6nxbp_823",Dv="_mobileMenuButton_6nxbp_823",Ov="_mobileMenuButtonActive_6nxbp_850",T={header:Ny,brand:Ey,logo:My,meta:Ty,title:Iy,subtitle:Ly,actions:by,searchGroup:By,search:Py,searchIcon:Ay,searchButton:Ry,fullscreenButton:$y,controlButton:Dy,accountButton:Oy,unreadBadge:Fy,searchDropdown:zy,dropdownMessage:Uy,dropdownError:Hy,dropdownResults:Wy,dropdownItem:Vy,dropdownItemContent:Qy,dropdownThumbnail:Yy,dropdownInfo:qy,dropdownHeader:Gy,dropdownTitle:Ky,dropdownBadge:Xy,dropdownUrl:Zy,dropdownDescription:Jy,dropdownButton:ev,menuGroup:tv,slotMenuTitle:nv,slotMenuButtons:rv,slotMenuButton:lv,slotMenuButtonActive:sv,layoutMenu:ov,layoutMenuButtons:iv,layoutMenuButton:av,layoutMenuButtonActive:cv,layoutMenuDivider:uv,layoutMenuAction:dv,followListMenu:fv,followListEmpty:hv,followListPlatform:mv,followList:pv,followListItem:gv,followListLabel:yv,liveBadge:vv,followListDelete:wv,volumeMenu:_v,volumeSection:xv,volumeSectionHeader:Sv,volumeLabel:jv,volumeValue:kv,volumeSlider:Cv,volumeMuteAllButton:Nv,volumeDivider:Ev,volumeSlotList:Mv,volumeSlotItem:Tv,volumeSlotHeader:Iv,volumeSlotLabel:Lv,volumeSlotMute:bv,volumeSlotMuteMuted:Bv,volumeSlotControl:Pv,volumeSliderWrapper:Av,volumeLevelBar:Rv,mobileMenuButtons:$v,mobileMenuButton:Dv,mobileMenuButtonActive:Ov},Cc={twoByTwo:"2×2",oneByTwo:"1×2 + サブ",focus:"フォーカス"},Fv=({onOpenPresetModal:e})=>{const t=F(S=>S.mutedAll),n=F(S=>S.toggleMuteAll),r=F(S=>S.masterVolume),l=F(S=>S.setMasterVolume),s=F(S=>S.slots),i=F(S=>S.activeSlotsCount),a=F(S=>S.setVolume),c=F(S=>S.toggleSlotMute),d=F(S=>S.searchQuery),p=F(S=>S.setSearchQuery),g=F(S=>S.channelSearchResults),v=F(S=>S.channelSearchLoading),x=F(S=>S.channelSearchError),j=F(S=>S.setChannelSearchResults),w=F(S=>S.setChannelSearchLoading),C=F(S=>S.setChannelSearchError),h=F(S=>S.clearChannelSearch),u=F(S=>S.setActiveSlotsCount),f=F(S=>S.preset),_=F(S=>S.setPreset),N=F(S=>S.fullscreen),k=F(S=>S.setFullscreen),{followedChannels:E,addFollowedChannel:L,removeFollowedChannel:R}=bt(S=>({followedChannels:S.followedChannels,addFollowedChannel:S.addFollowedChannel,removeFollowedChannel:S.removeFollowedChannel})),D=F(S=>S.availableStreams),ne=pr(),{sidebarOpen:te,chatOpen:I,toggleSidebar:W,toggleChat:se}=Bs(),yt=m.useMemo(()=>new Set(D.map(S=>S.channelId)),[D]),ut=m.useMemo(()=>E.filter(S=>!(S.platform==="youtube"||S.platform==="niconico")).length,[E]),B=It(S=>S.getUnreadCount()),[O,z]=m.useState(!1),[q,re]=m.useState(!1),[qe,Ee]=m.useState(!1),[tt,Ae]=m.useState(!1),[ze,yn]=m.useState(!1),[At,vn]=m.useState(!1),[P,K]=m.useState({}),de=m.useRef(null),Ue=m.useRef(null),Le=m.useRef(null),le=m.useRef(null),Ge=m.useRef(null),fe=m.useRef(null),nt=async()=>{try{const S=document.querySelector("main");if(!S)return;await S.requestFullscreen(),k(!0)}catch(S){console.error("Failed to enter fullscreen",S)}},Rt=async()=>{const S=d.trim();if(!S){h(),z(!1);return}z(!0),w(!0),C(void 0);try{console.log("[検索開始] キーワード:",S);const X=[];Xn.enableYoutube,X.push(En(`/api/twitch/channels?q=${encodeURIComponent(S)}`));const V=await Promise.allSettled(X),y=Xn.enableYoutube?V[0]:null,b=Xn.enableYoutube?V[1]:V[0];console.log("[YouTube レスポンス]",y),console.log("[Twitch レスポンス]",b);const U=[];if(y&&y.status==="fulfilled"&&y.value.ok||y&&y.status==="fulfilled"||y&&y.status,b.status==="fulfilled"&&b.value.ok){const Q=await b.value.json();if(console.log("[Twitch データ]",Q),Array.isArray(Q.items)){const ve=Q.items.map(xe=>({id:xe.id,platform:"twitch",title:xe.displayName,description:xe.description,thumbnailUrl:xe.thumbnailUrl,login:xe.login}));console.log("[Twitch 結果数]",ve.length),U.push(...ve)}}else if(b.status==="fulfilled"){console.error("[Twitch エラー] ステータスコード:",b.value.status);const Q=await b.value.text();console.error("[Twitch エラー内容]",Q)}else b.status==="rejected"&&console.error("[Twitch 失敗]",b.reason);console.log("[最終結果数]",U.length),j(U),U.length===0&&C("検索結果が見つかりませんでした。")}catch(X){console.error("[検索エラー]",X);const V=X instanceof Error?X.message:"検索に失敗しました";C(V),j([])}finally{w(!1)}};return m.useEffect(()=>{if(!ze)return;const S=()=>{const V={};s.slice(0,i).forEach(y=>{if(y.assignedStream&&!y.muted){const b=P[y.id]||50,U=(Math.random()-.5)*30,Q=Math.max(20,Math.min(85,b+U));V[y.id]=Q}else V[y.id]=0}),K(V)};S();const X=setInterval(S,100);return()=>clearInterval(X)},[ze,s,i]),m.useEffect(()=>{const S=X=>{de.current&&!de.current.contains(X.target)&&z(!1),Ue.current&&!Ue.current.contains(X.target)&&re(!1),Le.current&&!Le.current.contains(X.target)&&Ee(!1),le.current&&!le.current.contains(X.target)&&Ae(!1),Ge.current&&!Ge.current.contains(X.target)&&yn(!1),fe.current&&!fe.current.contains(X.target)&&vn(!1)};return(O||q||qe||tt||ze||At)&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[O,q,qe,tt,ze,At]),o.jsxs("header",{className:T.header,children:[ne&&o.jsxs("div",{className:T.mobileMenuButtons,children:[o.jsx("button",{type:"button",className:_e(T.mobileMenuButton,te&&T.mobileMenuButtonActive),onClick:W,title:"サイドバー",children:o.jsx(Hm,{})}),o.jsx("button",{type:"button",className:_e(T.mobileMenuButton,I&&T.mobileMenuButtonActive),onClick:se,title:"チャット",children:o.jsx(Vd,{})})]}),o.jsxs("div",{className:T.brand,children:[o.jsx("div",{className:T.logo,children:"ふ"}),o.jsxs("div",{className:T.meta,children:[o.jsx("h1",{className:T.title,children:"ふくまど！"}),o.jsx("span",{className:T.subtitle,children:"お気に入りの配信を一度にチェック"})]})]}),o.jsxs("div",{className:T.actions,children:[o.jsxs("div",{className:T.searchGroup,ref:de,children:[o.jsxs("label",{className:T.search,children:[o.jsx(ri,{className:T.searchIcon}),o.jsx("input",{type:"search",placeholder:"配信者・タイトル・チャンネルを検索",value:d,onChange:S=>p(S.target.value),onKeyDown:S=>{S.key==="Enter"&&Rt()}})]}),o.jsxs("button",{type:"button",className:T.searchButton,onClick:Rt,title:"検索",children:[o.jsx(ri,{}),o.jsx("span",{children:"検索"})]}),O&&o.jsx("div",{className:T.searchDropdown,children:v?o.jsx("div",{className:T.dropdownMessage,children:"検索中…"}):x?o.jsx("div",{className:T.dropdownError,children:x}):g.length>0?o.jsx("div",{className:T.dropdownResults,children:g.filter(S=>S.platform!=="youtube").map(S=>{const X=E.some(V=>V.channelId===S.id);return o.jsxs("div",{className:T.dropdownItem,children:[o.jsxs("div",{className:T.dropdownItemContent,children:[S.thumbnailUrl&&o.jsx("img",{src:S.thumbnailUrl,alt:S.title,className:T.dropdownThumbnail,loading:"lazy"}),o.jsxs("div",{className:T.dropdownInfo,children:[o.jsxs("div",{className:T.dropdownHeader,children:[o.jsx("p",{className:T.dropdownTitle,children:S.title}),o.jsx("span",{className:T.dropdownBadge,style:{color:S.platform==="youtube"?"#ef4444":"#a855f7"},children:S.platform==="youtube"?"YouTube":"Twitch"})]}),(S.customUrl||S.login)&&o.jsxs("p",{className:T.dropdownUrl,children:["@",S.customUrl||S.login]}),S.description&&o.jsx("p",{className:T.dropdownDescription,children:S.description})]})]}),o.jsxs("button",{type:"button",onClick:()=>{L({platform:S.platform,channelId:S.id,label:S.title})},disabled:X,className:T.dropdownButton,children:[o.jsx(np,{}),o.jsx("span",{children:X?"フォロー済み":"フォロー"})]})]},`${S.platform}-${S.id}`)})}):null})]}),!N&&o.jsx("button",{className:T.fullscreenButton,type:"button",onClick:nt,title:"分割レイアウトを全画面表示",children:"分割レイアウトを全画面表示"}),o.jsxs("div",{className:T.menuGroup,ref:Ge,children:[o.jsxs("button",{className:T.controlButton,type:"button",onClick:()=>yn(!ze),children:[t?o.jsx(Hl,{}):o.jsx(Ul,{}),o.jsx("span",{children:"音量"})]}),ze&&o.jsxs("div",{className:T.volumeMenu,children:[o.jsx("div",{className:T.slotMenuTitle,children:"音量コントロール"}),o.jsxs("div",{className:T.volumeSection,children:[o.jsxs("div",{className:T.volumeSectionHeader,children:[o.jsx("span",{className:T.volumeLabel,children:"マスター音量"}),o.jsxs("span",{className:T.volumeValue,children:[r,"%"]})]}),o.jsx("input",{type:"range",min:0,max:100,value:r,onChange:S=>l(Number(S.target.value)),className:T.volumeSlider})]}),o.jsxs("button",{type:"button",className:T.volumeMuteAllButton,onClick:n,children:[t?o.jsx(Ul,{}):o.jsx(Hl,{}),o.jsx("span",{children:t?"全体ミュート解除":"全体ミュート"})]}),o.jsx("div",{className:T.volumeDivider}),o.jsx("div",{className:T.volumeSectionHeader,children:o.jsx("span",{className:T.volumeLabel,children:"視聴枠別"})}),o.jsx("div",{className:T.volumeSlotList,children:s.slice(0,i).map((S,X)=>o.jsxs("div",{className:T.volumeSlotItem,children:[o.jsxs("div",{className:T.volumeSlotHeader,children:[o.jsxs("span",{className:T.volumeSlotLabel,children:["枠 ",X+1,S.assignedStream&&` - ${S.assignedStream.displayName}`]}),o.jsx("button",{type:"button",className:_e(T.volumeSlotMute,S.muted&&T.volumeSlotMuteMuted),onClick:()=>c(S.id),title:S.muted?"ミュート解除":"ミュート",children:S.muted?o.jsx(Hl,{}):o.jsx(Ul,{})})]}),o.jsxs("div",{className:T.volumeSlotControl,children:[o.jsxs("div",{className:T.volumeSliderWrapper,children:[!S.muted&&(()=>{const V=P[S.id]||0,y=S.volume,b=y>0?V/y*100:0,U=V;let Q="",ve="";if(b<=60)Q="rgba(34, 197, 94, 0.9)",ve="rgba(34, 197, 94, 0.9)";else if(b<=80)Q=`linear-gradient(to right, rgba(34, 197, 94, 0.9) 0%, rgba(34, 197, 94, 0.9) ${60/b*100}%, rgba(251, 191, 36, 0.9) 100%)`,ve="rgba(251, 191, 36, 0.9)";else{const xe=60/b*100,ke=80/b*100;Q=`linear-gradient(to right, rgba(34, 197, 94, 0.9) 0%, rgba(34, 197, 94, 0.9) ${xe}%, rgba(251, 191, 36, 0.9) ${xe}%, rgba(251, 191, 36, 0.9) ${ke}%, rgba(239, 68, 68, 0.9) 100%)`,ve="rgba(239, 68, 68, 0.9)"}return o.jsx("div",{className:T.volumeLevelBar,style:{width:`${Math.min(U,100)}%`,background:Q,boxShadow:`0 0 8px ${ve}`}})})(),o.jsx("input",{type:"range",min:0,max:100,value:S.volume,onChange:V=>{const y=Number(V.target.value);a(S.id,y),S.muted&&y>0&&c(S.id)},className:T.volumeSlider,disabled:S.muted})]}),o.jsxs("span",{className:T.volumeValue,children:[S.volume,"%"]})]})]},S.id))})]})]}),o.jsxs("div",{className:T.menuGroup,ref:Le,children:[o.jsxs("button",{className:T.controlButton,type:"button",onClick:()=>Ee(!qe),children:[o.jsx(op,{}),o.jsxs("span",{children:["レイアウト (",i,"画面)"]})]}),qe&&o.jsxs("div",{className:T.layoutMenu,children:[o.jsx("div",{className:T.slotMenuTitle,children:"視聴枠数"}),o.jsx("div",{className:T.slotMenuButtons,children:Array.from({length:yc},(S,X)=>yc-X).map(S=>o.jsxs("button",{type:"button",className:_e(T.slotMenuButton,i===S&&T.slotMenuButtonActive),onClick:()=>{u(S)},children:[S,"画面"]},S))}),o.jsx("div",{className:T.layoutMenuDivider}),o.jsx("div",{className:T.slotMenuTitle,children:"プリセット"}),o.jsx("div",{className:T.layoutMenuButtons,children:Object.keys(Cc).map(S=>o.jsx("button",{type:"button",className:_e(T.layoutMenuButton,f===S&&T.layoutMenuButtonActive),onClick:()=>{_(f===S?"twoByTwo":S)},children:Cc[S]},S))}),o.jsx("div",{className:T.layoutMenuDivider}),o.jsx("button",{type:"button",className:T.layoutMenuAction,onClick:()=>{Ee(!1),e()},children:"プリセットを編集"})]})]}),o.jsxs("div",{className:T.menuGroup,ref:le,children:[o.jsxs("button",{className:T.controlButton,type:"button",onClick:()=>Ae(!tt),children:[o.jsx(ap,{}),o.jsxs("span",{children:["フォロー (",ut,")"]})]}),tt&&o.jsxs("div",{className:T.followListMenu,children:[o.jsx("div",{className:T.slotMenuTitle,children:"フォロー中のチャンネル"}),E.length===0?o.jsx("div",{className:T.followListEmpty,children:"フォロー中のチャンネルはありません"}):o.jsx(o.Fragment,{children:(()=>{const S=[],X=E.filter(V=>V.platform==="twitch");return o.jsxs(o.Fragment,{children:[Xn.enableYoutube,X.length>0&&o.jsxs("div",{style:{marginTop:S.length>0?"0.75rem":"0"},children:[o.jsxs("div",{className:T.followListPlatform,style:{color:"#a855f7"},children:["Twitch (",X.length,")"]}),o.jsx("ul",{className:T.followList,children:X.map(V=>o.jsxs("li",{className:T.followListItem,children:[o.jsxs("span",{className:T.followListLabel,children:[V.label??V.channelId,yt.has(V.channelId)&&o.jsx("span",{className:T.liveBadge,children:"配信中"})]}),o.jsx("button",{type:"button",className:T.followListDelete,onClick:()=>R(V.channelId),title:"フォロー削除",children:o.jsx(Qd,{})})]},V.channelId))})]})]})})()})]})]}),o.jsxs("div",{className:T.menuGroup,ref:fe,children:[o.jsxs("button",{className:T.controlButton,type:"button",onClick:()=>vn(!At),children:[o.jsx(Wd,{}),o.jsx("span",{children:"通知"}),B>0&&o.jsx("span",{className:T.unreadBadge,children:B})]}),At&&o.jsx(Cy,{onClose:()=>vn(!1)})]}),o.jsxs("div",{className:T.menuGroup,ref:Ue,children:[o.jsxs("button",{className:T.accountButton,type:"button",onClick:()=>re(!q),children:[o.jsx(dp,{}),o.jsx("span",{children:"アカウント"})]}),q&&o.jsx(ry,{onClose:()=>re(!1)})]})]})]})},zv="_backdrop_7w90r_1",Uv="_modal_7w90r_29",Hv="_header_7w90r_53",Wv="_closeButton_7w90r_85",Vv="_streamInfo_7w90r_135",Qv="_platformBadge_7w90r_157",Yv="_streamDetails_7w90r_179",qv="_displayName_7w90r_195",Gv="_title_7w90r_207",Kv="_slotGrid_7w90r_223",Xv="_twoByTwo_7w90r_239",Zv="_oneByTwo_7w90r_249",Jv="_focus_7w90r_259",e0="_count8_7w90r_281",t0="_count7_7w90r_283",n0="_count6_7w90r_291",r0="_count5_7w90r_293",l0="_count4_7w90r_301",s0="_count3_7w90r_303",o0="_count2_7w90r_305",i0="_count1_7w90r_313",a0="_slotButton_7w90r_341",c0="_slotButtonAssigned_7w90r_381",u0="_slotNumber_7w90r_397",d0="_slotContent_7w90r_411",f0="_slotStreamer_7w90r_425",h0="_slotTitle_7w90r_435",m0="_slotEmpty_7w90r_457",p0="_footer_7w90r_481",Se={backdrop:zv,modal:Uv,header:Hv,closeButton:Wv,streamInfo:Vv,platformBadge:Qv,streamDetails:Yv,displayName:qv,title:Gv,slotGrid:Kv,twoByTwo:Xv,oneByTwo:Zv,focus:Jv,count8:e0,count7:t0,count6:n0,count5:r0,count4:l0,count3:s0,count2:o0,count1:i0,slotButton:a0,slotButtonAssigned:c0,slotNumber:u0,slotContent:d0,slotStreamer:f0,slotTitle:h0,slotEmpty:m0,footer:p0},Nc={youtube:"#ef4444",twitch:"#a855f7",niconico:"#facc15"},g0=({stream:e,onClose:t})=>{const{slots:n,activeSlotsCount:r,preset:l,assignStream:s}=F(d=>({slots:d.slots,activeSlotsCount:d.activeSlotsCount,preset:d.preset,assignStream:d.assignStream})),i=n.slice(0,r),a=d=>{s(d,e),t()},c=d=>{d.target===d.currentTarget&&t()};return o.jsx("div",{className:Se.backdrop,onClick:c,children:o.jsxs("div",{className:Se.modal,children:[o.jsxs("div",{className:Se.header,children:[o.jsx("h2",{children:"配置する枠を選択"}),o.jsx("button",{type:"button",className:Se.closeButton,onClick:t,children:o.jsx(Bn,{})})]}),o.jsxs("div",{className:Se.streamInfo,children:[o.jsx("span",{className:Se.platformBadge,style:{color:Nc[e.platform]},children:e.platform.toUpperCase()}),o.jsxs("div",{className:Se.streamDetails,children:[o.jsx("span",{className:Se.displayName,children:e.displayName}),o.jsx("span",{className:Se.title,children:e.title})]})]}),o.jsx("div",{className:_e(Se.slotGrid,Se[l],Se[`count${r}`]),children:i.map((d,p)=>{const g=d.assignedStream;return o.jsxs("button",{type:"button",className:_e(Se.slotButton,g&&Se.slotButtonAssigned),onClick:()=>a(d.id),children:[o.jsxs("div",{className:Se.slotNumber,children:["枠 ",p+1]}),g?o.jsxs("div",{className:Se.slotContent,children:[o.jsx("span",{className:Se.slotStreamer,style:{color:Nc[g.platform]},children:g.displayName}),o.jsx("span",{className:Se.slotTitle,children:g.title})]}):o.jsx("div",{className:Se.slotEmpty,children:"空き枠"})]},d.id)})}),o.jsx("div",{className:Se.footer,children:o.jsx("p",{children:"配置する枠をクリックしてください"})})]})})},y0="_sidebar_13fze_1",v0="_section_13fze_11",w0="_sectionHeader_13fze_17",_0="_closeButton_13fze_31",x0="_streamTitle_13fze_414",S0="_streamList_13fze_494",j0="_streamListMessage_13fze_505",k0="_streamListMessageError_13fze_514",C0="_streamListItem_13fze_519",N0="_streamThumbnail_13fze_536",E0="_thumbnailPlaceholder_13fze_551",M0="_platformBadge_13fze_563",T0="_streamHeader_13fze_585",I0="_streamerLabel_13fze_592",L0="_streamMeta_13fze_605",b0="_assignButton_13fze_615",Me={sidebar:y0,section:v0,sectionHeader:w0,closeButton:_0,streamTitle:x0,streamList:S0,streamListMessage:j0,streamListMessageError:k0,streamListItem:C0,streamThumbnail:N0,thumbnailPlaceholder:E0,platformBadge:M0,streamHeader:T0,streamerLabel:I0,streamMeta:L0,assignButton:b0},Ec={youtube:"YouTube Live",twitch:"Twitch",niconico:"ニコニコ生放送"},B0={youtube:"#ef4444",twitch:"#a855f7",niconico:"#facc15"},P0=e=>e==null?"視聴者数 -":`視聴 ${e.toLocaleString()} 人`,A0=e=>{if(e.gameTitle)return e.gameTitle;if(e.liveSince){const t=new Date(e.liveSince);if(!Number.isNaN(t.getTime()))return`${t.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})} 配信開始`}return e.channelTitle??"配信中"},R0=({onOpenPresetModal:e})=>{const{availableStreams:t,streamsLoading:n,streamsError:r,pendingStream:l,setPendingStream:s}=F(d=>({availableStreams:d.availableStreams,streamsLoading:d.streamsLoading,streamsError:d.streamsError,pendingStream:d.pendingStream,setPendingStream:d.setPendingStream})),i=pr(),a=Bs(d=>d.setSidebarOpen),c=m.useMemo(()=>{let d=t;return d=t.filter(p=>p.platform!=="youtube"),d=d.filter(p=>p.platform!=="niconico"),d},[t]);return o.jsxs(o.Fragment,{children:[l&&o.jsx(g0,{stream:l,onClose:()=>s(null)}),o.jsx("aside",{className:Me.sidebar,children:o.jsxs("section",{className:Me.section,children:[o.jsxs("div",{className:Me.sectionHeader,children:[o.jsx("h2",{children:"フォロー中の配信"}),i&&o.jsx("button",{type:"button",className:Me.closeButton,onClick:()=>a(!1),"aria-label":"サイドバーを閉じる",children:o.jsx(Bn,{})})]}),o.jsx("div",{className:Me.streamList,children:n?o.jsx("div",{className:Me.streamListMessage,children:"配信情報を取得しています…"}):c.length===0?r?o.jsxs("div",{className:_e(Me.streamListMessage,Me.streamListMessageError),children:["配信情報の取得に失敗しました：",r]}):o.jsx("div",{className:Me.streamListMessage,children:"現在表示できる配信が見つかりません。"}):c.map(d=>o.jsxs("div",{className:Me.streamListItem,children:[o.jsxs("div",{className:Me.streamThumbnail,children:[d.thumbnailUrl?o.jsx("img",{src:d.thumbnailUrl,alt:d.title}):o.jsx("div",{className:Me.thumbnailPlaceholder,children:d.displayName.charAt(0).toUpperCase()}),o.jsx("button",{type:"button",className:Me.platformBadge,style:{backgroundColor:B0[d.platform]},onClick:p=>{p.stopPropagation();const g=d.platform==="twitch"?`https://www.twitch.tv/${d.channelLogin||d.id}`:d.platform==="youtube"?`https://www.youtube.com/watch?v=${d.id}`:d.embedUrl;g&&window.open(g,"_blank")},title:`${Ec[d.platform]}で開く`,children:Ec[d.platform]})]}),o.jsx("div",{className:Me.streamHeader,children:o.jsx("span",{className:Me.streamerLabel,children:d.displayName})}),o.jsx("p",{className:Me.streamTitle,children:d.title}),o.jsxs("div",{className:Me.streamMeta,children:[o.jsx("span",{children:A0(d)}),o.jsx("span",{children:P0(d.viewerCount)})]}),o.jsx("button",{type:"button",className:Me.assignButton,onClick:()=>{s(d)},children:"割り当てる"})]},d.id))})]})})]})},{useDebugValue:$0}=ui,{useSyncExternalStoreWithSelector:D0}=Zd,O0=e=>e;function rf(e,t=O0,n){const r=D0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $0(r),r}function lf(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,l]of e)if(!Object.is(l,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Mc=100,ra=Yt((e,t)=>({filter:"all",messages:[],selectedChannelId:null,highlightedCount:0,setFilter:n=>e({filter:n}),addMessage:n=>e(r=>{const l=[n,...r.messages];return l.length>Mc&&l.splice(Mc),{messages:l,highlightedCount:l.filter(s=>s.highlight).length}}),setSelectedChannelId:n=>e({selectedChannelId:n})})),F0="_gridContainer_we5di_1",z0="_gridContainerFullscreen_we5di_9",U0="_gridContainerWithChat_we5di_14",H0="_gridWrapper_we5di_19",W0="_grid_we5di_1",V0="_gridFullscreen_we5di_37",Q0="_twoByTwo_we5di_42",Y0="_oneByTwo_we5di_47",q0="_focus_we5di_52",G0="_count8_we5di_57",K0="_count7_we5di_58",X0="_count6_we5di_62",Z0="_count5_we5di_63",J0="_count4_we5di_67",e1="_count3_we5di_68",t1="_count2_we5di_69",n1="_count1_we5di_73",r1="_fullscreenToggle_we5di_96",l1="_fullscreenChat_we5di_111",s1="_fullscreenChatHeader_we5di_115",o1="_fullscreenChatMessages_we5di_123",i1="_fullscreenChatMessage_we5di_123",a1="_fullscreenChatAvatar_we5di_131",c1="_fullscreenChatBadge_we5di_137",u1="_fullscreenChatMessageHeader_we5di_142",d1="_fullscreenChatAuthor_we5di_146",f1="_fullscreenChatChannel_we5di_150",h1="_fullscreenChatBitsAmount_we5di_154",m1="_fullscreenChatText_we5di_159",p1="_emote_we5di_163",g1="_fullscreenChatFooter_we5di_167",y1="_fullscreenChatSelect_we5di_171",v1="_fullscreenChatInputRow_we5di_177",w1="_fullscreenChatSendButton_we5di_183",_1="_chatButtonActive_we5di_221",x1="_fullscreenChatMessageHighlight_we5di_272",S1="_fullscreenChatMessageBits_we5di_277",j1="_fullscreenChatBody_we5di_295",k1="_fullscreenChatBadges_we5di_311",C1="_fullscreenChatSendButtonActive_we5di_437",Z={gridContainer:F0,gridContainerFullscreen:z0,gridContainerWithChat:U0,gridWrapper:H0,grid:W0,gridFullscreen:V0,twoByTwo:Q0,oneByTwo:Y0,focus:q0,count8:G0,count7:K0,count6:X0,count5:Z0,count4:J0,count3:e1,count2:t1,count1:n1,fullscreenToggle:r1,fullscreenChat:l1,fullscreenChatHeader:s1,fullscreenChatMessages:o1,fullscreenChatMessage:i1,fullscreenChatAvatar:a1,fullscreenChatBadge:c1,fullscreenChatMessageHeader:u1,fullscreenChatAuthor:d1,fullscreenChatChannel:f1,fullscreenChatBitsAmount:h1,fullscreenChatText:m1,emote:p1,fullscreenChatFooter:g1,fullscreenChatSelect:y1,fullscreenChatInputRow:v1,fullscreenChatSendButton:w1,chatButtonActive:_1,fullscreenChatMessageHighlight:x1,fullscreenChatMessageBits:S1,fullscreenChatBody:j1,fullscreenChatBadges:k1,fullscreenChatSendButtonActive:C1};let Tl=null;const N1=()=>new Promise((e,t)=>{const n=document.querySelector('script[src="https://www.youtube.com/iframe_api"]');if(n){n.addEventListener("load",()=>e()),n.addEventListener("error",()=>t(new Error("Failed to load YouTube Iframe API script")));return}const r=document.createElement("script");r.src="https://www.youtube.com/iframe_api",r.async=!0,r.onload=()=>e(),r.onerror=()=>t(new Error("Failed to load YouTube Iframe API script")),document.head.appendChild(r)}),E1=()=>typeof window>"u"?Promise.reject(new Error("YouTube Iframe API is only available in browser environment")):Tl||(Tl=new Promise((e,t)=>{N1().catch(t);const n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{n==null||n(),typeof YT<"u"?e(YT):t(new Error("YouTube Iframe API failed to initialise"))}}),Tl);let Cr=null;const M1=()=>new Promise((e,t)=>{const n=document.querySelector('script[src="https://embed.twitch.tv/embed/v1.js"]');if(n){n.addEventListener("load",()=>e()),n.addEventListener("error",()=>t(new Error("Failed to load Twitch Embed API script")));return}const r=document.createElement("script");r.src="https://embed.twitch.tv/embed/v1.js",r.async=!0,r.onload=()=>e(),r.onerror=()=>t(new Error("Failed to load Twitch Embed API script")),document.head.appendChild(r)}),T1=()=>typeof window>"u"?Promise.reject(new Error("Twitch Embed API is only available in browser environment")):(console.log("[Twitch API] ロード要求 - 既存apiReadyPromise:",!!Cr,"既存window.Twitch:",!!window.Twitch),Cr?(console.log("[Twitch API] 既存のPromiseを再利用"),Cr):(console.log("[Twitch API] 新規ロード開始"),Cr=new Promise((e,t)=>{M1().then(()=>{const n=()=>{typeof window.Twitch<"u"?(console.log("[Twitch API] ロード完了 - window.Twitch type:",typeof window.Twitch),e(window.Twitch)):setTimeout(n,50)};n()}).catch(n=>{console.error("[Twitch API] ロードエラー:",n),t(n)})}),Cr)),I1="_modalBackdrop_1awrq_1",L1="_modalContent_1awrq_23",b1="_modalHeader_1awrq_49",B1="_closeButton_1awrq_79",P1="_streamList_1awrq_187",A1="_emptyState_1awrq_221",R1="_streamCard_1awrq_241",$1="_streamThumbnail_1awrq_279",D1="_thumbnailPlaceholder_1awrq_307",O1="_platformBadge_1awrq_331",F1="_streamInfo_1awrq_375",z1="_streamTitle_1awrq_389",U1="_streamMeta_1awrq_413",H1="_channelName_1awrq_429",W1="_viewerCount_1awrq_441",He={modalBackdrop:I1,modalContent:L1,modalHeader:b1,closeButton:B1,streamList:P1,emptyState:A1,streamCard:R1,streamThumbnail:$1,thumbnailPlaceholder:D1,platformBadge:O1,streamInfo:F1,streamTitle:z1,streamMeta:U1,channelName:H1,viewerCount:W1},V1={youtube:"#ef4444",twitch:"#a855f7",niconico:"#facc15"},Tc={youtube:"YouTube",twitch:"Twitch",niconico:"ニコニコ"},Q1=({slotId:e,onClose:t})=>{const{availableStreams:n,assignStream:r}=F(a=>({availableStreams:a.availableStreams,assignStream:a.assignStream})),l=a=>{r(e,a),t()},s=a=>{a.stopPropagation(),a.target===a.currentTarget&&t()},i=a=>{a.stopPropagation()};return ta.createPortal(o.jsx("div",{className:He.modalBackdrop,onClick:s,children:o.jsxs("div",{className:He.modalContent,onClick:i,children:[o.jsxs("div",{className:He.modalHeader,children:[o.jsx("h2",{children:"配信を選択"}),o.jsx("button",{className:He.closeButton,onClick:t,type:"button",children:o.jsx(Bn,{})})]}),o.jsx("div",{className:He.streamList,children:n.length===0?o.jsx("div",{className:He.emptyState,children:o.jsx("p",{children:"現在配信中のチャンネルはありません"})}):n.map(a=>o.jsxs("button",{className:He.streamCard,onClick:()=>l(a),type:"button",children:[o.jsxs("div",{className:He.streamThumbnail,children:[a.thumbnailUrl?o.jsx("img",{src:a.thumbnailUrl.replace("{width}","640").replace("{height}","360"),alt:a.title,loading:"lazy"}):o.jsx("div",{className:He.thumbnailPlaceholder,children:a.displayName.charAt(0).toUpperCase()}),o.jsx("div",{className:He.platformBadge,style:{backgroundColor:V1[a.platform]},onClick:c=>{c.stopPropagation();const d=a.platform==="twitch"?`https://www.twitch.tv/${a.channelLogin||a.id}`:a.platform==="youtube"?`https://www.youtube.com/watch?v=${a.id}`:a.embedUrl;d&&window.open(d,"_blank")},title:`${Tc[a.platform]}で開く`,role:"button",tabIndex:0,onKeyDown:c=>{if(c.key==="Enter"||c.key===" "){c.preventDefault(),c.stopPropagation();const d=a.platform==="twitch"?`https://www.twitch.tv/${a.channelLogin||a.id}`:a.platform==="youtube"?`https://www.youtube.com/watch?v=${a.id}`:a.embedUrl;d&&window.open(d,"_blank")}},children:Tc[a.platform]})]}),o.jsxs("div",{className:He.streamInfo,children:[o.jsx("h3",{className:He.streamTitle,children:a.title}),o.jsxs("div",{className:He.streamMeta,children:[o.jsx("span",{className:He.channelName,children:a.displayName}),a.viewerCount!=null&&o.jsxs("span",{className:He.viewerCount,children:[a.viewerCount.toLocaleString()," 人視聴中"]})]})]})]},`${a.platform}-${a.id}`))})]})}),document.body)},Y1="_slot_vc9mn_1",q1="_empty_vc9mn_13",G1="_surface_vc9mn_19",K1="_playerContainer_vc9mn_28",X1="_playerFrame_vc9mn_36",Z1="_selectableOverlay_vc9mn_45",J1="_preview_vc9mn_53",ew="_previewBackdrop_vc9mn_79",tw="_noise_vc9mn_86",nw="_previewContent_vc9mn_103",rw="_previewInitials_vc9mn_112",lw="_previewStatus_vc9mn_118",sw="_placeholder_vc9mn_128",ow="_placeholderIcon_vc9mn_144",iw="_overlayTop_vc9mn_155",aw="_overlayBottom_vc9mn_156",cw="_platformBadge_vc9mn_179",uw="_platformBadgeMuted_vc9mn_189",dw="_masterBadge_vc9mn_199",fw="_focusButton_vc9mn_236",hw="_topButtons_vc9mn_265",mw="_fullscreenButton_vc9mn_272",pw="_streamInfo_vc9mn_310",gw="_streamMeta_vc9mn_327",yw="_controls_vc9mn_335",vw="_controlButton_vc9mn_342",ww="_mobileCloseButton_vc9mn_381",_w="_volumeControl_vc9mn_420",xw="_emptyHint_vc9mn_441",Sw="_fullscreenMode_vc9mn_453",jw="_focused_vc9mn_465",Y={slot:Y1,empty:q1,surface:G1,playerContainer:K1,playerFrame:X1,selectableOverlay:Z1,preview:J1,previewBackdrop:ew,noise:tw,previewContent:nw,previewInitials:rw,previewStatus:lw,placeholder:sw,placeholderIcon:ow,overlayTop:iw,overlayBottom:aw,platformBadge:cw,platformBadgeMuted:uw,masterBadge:dw,focusButton:fw,topButtons:hw,fullscreenButton:mw,streamInfo:pw,streamMeta:gw,controls:yw,controlButton:vw,mobileCloseButton:ww,volumeControl:_w,emptyHint:xw,fullscreenMode:Sw,focused:jw},kw=e=>({"1080p":"hd1080","720p":"hd720","480p":"large","360p":"medium",auto:"default"})[e]||"default",ao=(e,t)=>{var l;if(!t||t.length===0)return null;if(e==="auto"){const s=t.find(i=>i.group==="chunked");return s?s.group:null}const r={"1080p":["1080p60","1080p","chunked"],"720p":["720p60","720p","1080p60","1080p"],"480p":["480p","720p60","720p"],"360p":["360p","480p"],auto:["chunked"]}[e]||[];for(const s of r){const i=t.find(a=>a.group===s);if(i)return i.group}return((l=t[0])==null?void 0:l.group)||null},Cw={youtube:"#ef4444",twitch:"#a855f7",niconico:"#facc15"},Nw={youtube:"YouTube",twitch:"Twitch",niconico:"ニコニコ"},Ew=({slot:e,isActive:t,isFocused:n=!1,showSelection:r,onSelect:l})=>{const{setVolume:s,toggleSlotMute:i,preset:a,setPreset:c,clearSlot:d,fullscreen:p,masterVolume:g,swapSlots:v,setModalOpen:x,userInteracted:j,masterSlotId:w}=rf(F,P=>({setVolume:P.setVolume,toggleSlotMute:P.toggleSlotMute,preset:P.preset,setPreset:P.setPreset,clearSlot:P.clearSlot,fullscreen:P.fullscreen,masterVolume:P.masterVolume,swapSlots:P.swapSlots,setModalOpen:P.setModalOpen,userInteracted:P.userInteracted,masterSlotId:P.masterSlotId}),lf),C=pr(),h=e.assignedStream,u=m.useRef(null),f=m.useRef(null),_=m.useRef(null),[N,k]=m.useState(!1),[E,L]=m.useState(!1),[R,D]=m.useState(!1),[ne,te]=m.useState(!1),[I,W]=m.useState(!1),[se,yt]=m.useState(!1),ut=m.useRef(null),B=m.useRef({readyHandler:null,offlineHandler:null,errorHandler:null,qualityTimeoutId:void 0}),O=w===e.id,z=r,q=m.useMemo(()=>h?Cw[h.platform]:"rgba(148, 163, 184, 0.4)",[h]),re=h?h.displayName.split("").filter(P=>/[A-Za-z0-9\u3040-\u30ff\u4e00-\u9faf]/.test(P)).slice(0,2).join(""):"＋",qe=h&&h.viewerCount!=null?`${h.viewerCount.toLocaleString()} 人視聴中`:"視聴者数 -";m.useEffect(()=>{k(!1);let P=!0;return(async()=>{var Le;if(!h||!u.current){u.current&&(u.current.style.display="none",u.current.style.visibility="hidden",u.current.style.opacity="0",u.current.style.pointerEvents="none",u.current.style.position="absolute",u.current.style.zIndex="-9999"),k(!1);return}if(u.current&&(u.current.style.display="block",u.current.style.visibility="visible",u.current.style.opacity="1",u.current.style.pointerEvents="auto",u.current.style.position="relative",u.current.style.zIndex="0"),f.current)try{const le=f.current;typeof le.destroy=="function"&&(h==null?void 0:h.platform)==="youtube"&&le.destroy()}catch{}const de=f.current&&"setMuted"in f.current;if(de||(f.current=null),!(de&&h.platform==="twitch")&&u.current&&(u.current.innerHTML=""),h.platform==="twitch")try{const le=await T1();if(!P||!u.current)return;const Ge=(Le=h.embedUrl)==null?void 0:Le.match(/channel=([^&]+)/),fe=Ge?Ge[1]:h.id;if(de&&f.current){const V=f.current;if(V.setChannel(fe),u.current){u.current.style.display="block",u.current.style.visibility="visible",u.current.style.opacity="1",u.current.style.pointerEvents="auto",u.current.style.position="relative",u.current.style.zIndex="0";const b=u.current.querySelector("iframe");b&&(b.style.pointerEvents="auto")}if(k(!0),!e.muted){const b=e.volume*(g/100)/100;V.setVolume(b)}const y=window.setTimeout(()=>{if(P)try{const b=V.getQualities();if(e.quality!=="auto"&&b&&b.length>0){const U=ao(e.quality,b);U&&V.setQuality(U)}}catch(b){console.error("[Twitch] 画質設定エラー:",b)}},500);B.current.qualityTimeoutId=y;return}f.current=new le.Player(u.current,{channel:fe,width:"100%",height:"100%",parent:[window.location.hostname],autoplay:!1,muted:!0});const nt=f.current,Rt=()=>{if(!P)return;if(k(!0),!e.muted){const y=e.volume*(g/100)/100;nt.setVolume(y)}const V=window.setTimeout(()=>{if(P)try{const y=nt.getQualities();if(e.quality!=="auto"&&y&&y.length>0){const b=ao(e.quality,y);b&&nt.setQuality(b)}}catch(y){console.error("[Twitch] 画質設定エラー:",y)}},500);B.current.qualityTimeoutId=V},S=()=>{console.error("[Twitch] チャンネルがオフラインです:",fe)},X=V=>{console.error("[Twitch] プレイヤーエラー:",V)};nt.addEventListener(le.Player.READY,Rt),nt.addEventListener(le.Player.OFFLINE,S),nt.addEventListener(le.Player.ERROR,X),B.current.readyHandler=Rt,B.current.offlineHandler=S,B.current.errorHandler=X,window[`twitchPlayer_${e.id}`]=f.current}catch(le){console.error("[Twitch] プレイヤー初期化失敗:",le),k(!1)}else if(h.platform==="youtube")try{const le=await E1();if(!P||!u.current)return;const Ge=kw(e.quality);f.current=new le.Player(u.current,{videoId:h.id,playerVars:{autoplay:0,controls:1,rel:0,modestbranding:1,playsinline:1,mute:e.muted?1:0,...e.quality!=="auto"?{vq:Ge}:{}},events:{onReady:fe=>{if(P){if(k(!0),!e.muted){fe.target.unMute();const nt=Math.round(e.volume*(g/100));fe.target.setVolume(nt)}e.quality!=="auto"&&fe.target.setPlaybackQuality(Ge)}},onError:fe=>{console.error("[YouTube] プレイヤーエラー:",{code:fe.data,message:fe.data===2?"無効なパラメータ":fe.data===5?"HTML5プレイヤーエラー":fe.data===100?"動画が見つからない":fe.data===101||fe.data===150?"埋め込み再生が許可されていない":"不明なエラー"}),k(!1)}}})}catch(le){console.error("[YouTube] プレイヤー初期化失敗:",le),k(!1)}else console.warn("[StreamSlot] 未対応のプラットフォーム:",h.platform)})(),()=>{var Ue;if(P=!1,f.current)try{const Le=f.current;if((h==null?void 0:h.platform)==="twitch"&&"setMuted"in Le)try{const le=B.current.qualityTimeoutId;le!==void 0&&(window.clearTimeout(le),B.current.qualityTimeoutId=void 0);const Ge=Le;try{Ge.pause(),Ge.setMuted(!0)}catch{}const fe=(Ue=u.current)==null?void 0:Ue.querySelector("iframe");fe&&(fe.style.pointerEvents="none"),u.current&&(u.current.style.display="none",u.current.style.visibility="hidden",u.current.style.opacity="0",u.current.style.pointerEvents="none",u.current.style.position="absolute",u.current.style.zIndex="-9999")}catch(le){console.warn("[Twitch] クリーンアップエラー:",le)}(h==null?void 0:h.platform)==="youtube"&&typeof Le.destroy=="function"&&(Le.destroy(),u.current&&(u.current.innerHTML=""))}catch(Le){console.error("[Cleanup] エラー:",Le)}f.current&&"setMuted"in f.current||(f.current=null)}},[h==null?void 0:h.id,h==null?void 0:h.platform,e.quality]),m.useEffect(()=>{const P=f.current;if(!(!N||!P||!h))try{if(h.platform==="youtube"&&"isMuted"in P){const K=P;if(e.muted)K.isMuted()||K.mute();else{K.unMute();const de=Math.round(e.volume*(g/100));K.setVolume(de)}}else if(h.platform==="twitch"&&"setMuted"in P){const K=P;if(e.muted)K.setMuted(!0);else{K.setMuted(!1);const de=e.volume*(g/100)/100;K.setVolume(de)}}}catch(K){console.warn("[StreamSlot] 音量設定エラー:",K)}},[e.muted,e.volume,N,g,h==null?void 0:h.platform]),m.useEffect(()=>{const P=f.current;if(!N||!P||!h||h.platform!=="twitch")return;const K=P;try{const de=K.getQualities();if(!de||de.length===0)return;if(e.quality==="auto"){const Ue=de.find(Le=>Le.group==="chunked");Ue&&K.setQuality(Ue.group)}else{const Ue=ao(e.quality,de);Ue&&K.setQuality(Ue)}}catch(de){console.error("[Twitch] 画質変更エラー:",de)}},[e.quality,N,h==null?void 0:h.platform,h==null?void 0:h.id]),m.useEffect(()=>{const P=()=>{const K=_.current;L(document.fullscreenElement===K)};return document.addEventListener("fullscreenchange",P),()=>{document.removeEventListener("fullscreenchange",P)}},[]),m.useEffect(()=>(se&&(ut.current!==null&&window.clearTimeout(ut.current),ut.current=window.setTimeout(()=>{yt(!1)},3e3)),()=>{ut.current!==null&&window.clearTimeout(ut.current)}),[se]);const Ee=async P=>{P.stopPropagation();const K=_.current;if(K)try{document.fullscreenElement===K?await document.exitFullscreen():await K.requestFullscreen()}catch(de){console.error("Fullscreen toggle failed",de)}},tt=P=>{P.stopPropagation(),l(),c(a==="focus"?"twoByTwo":"focus")},Ae=P=>{P.dataTransfer.effectAllowed="move",P.dataTransfer.setData("text/plain",e.id),D(!0)},ze=()=>{D(!1)},yn=P=>{P.preventDefault(),P.dataTransfer.dropEffect="move",te(!0)},At=()=>{te(!1)},vn=P=>{P.preventDefault(),te(!1);const K=P.dataTransfer.getData("text/plain");K&&K!==e.id&&v(K,e.id)};return o.jsxs("article",{className:_e(Y.slot,t&&Y.active,!h&&Y.empty,p&&Y.fullscreenMode,R&&Y.dragging,ne&&Y.dragOver,n&&Y.focused),style:{borderColor:t?q:"transparent",cursor:"pointer",order:n?-1:0},draggable:!0,onDragStart:Ae,onDragEnd:ze,onDragOver:yn,onDragLeave:At,onDrop:vn,onClick:()=>{l()},children:[o.jsxs("div",{className:Y.surface,children:[o.jsxs("div",{className:Y.playerContainer,ref:_,style:{display:h?"block":"none",position:h?"relative":"absolute",visibility:h?"visible":"hidden",opacity:h?1:0,pointerEvents:h?"auto":"none",zIndex:h?0:-9999},children:[o.jsx("div",{className:Y.playerFrame,ref:u,id:`player-${e.id}`}),h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:Y.selectableOverlay,onClick:P=>{P.stopPropagation(),l()}}),!N&&o.jsxs("div",{className:Y.preview,style:{"--accent-color":q},children:[o.jsx("div",{className:Y.previewBackdrop,children:o.jsx("div",{className:Y.noise})}),o.jsxs("div",{className:Y.previewContent,children:[o.jsx("span",{className:Y.previewInitials,children:re}),o.jsx("span",{className:Y.previewStatus,children:"LOADING"})]})]}),C&&o.jsx("button",{className:Y.mobileCloseButton,type:"button",onClick:P=>{P.stopPropagation(),d(e.id)},"aria-label":"配信を削除",style:{opacity:se?1:0,pointerEvents:se?"auto":"none"},children:o.jsx(Bn,{})})]})]}),!h&&o.jsxs("div",{className:Y.placeholder,onClick:P=>{P.stopPropagation(),W(!0),x(!0)},children:[o.jsx("span",{className:Y.placeholderIcon,children:"＋"}),o.jsx("p",{children:"サイドバーから配信を割り当てましょう"})]}),!C&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:Y.overlayTop,style:{opacity:z?1:0},children:h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("div",{className:Y.platformBadge,style:{color:q},children:Nw[h.platform]}),O&&h.platform==="twitch"&&o.jsx("div",{className:Y.masterBadge,children:"🎯 マスター"})]}),o.jsxs("div",{className:Y.topButtons,children:[o.jsx("button",{className:Y.focusButton,type:"button",onClick:tt,children:a==="focus"?"通常表示":"フォーカス"}),o.jsxs("button",{className:Y.fullscreenButton,type:"button",onClick:P=>{P.stopPropagation(),d(e.id)},children:[o.jsx(Bn,{}),o.jsx("span",{children:"削除"})]}),o.jsxs("button",{className:Y.fullscreenButton,type:"button",onClick:Ee,children:[E?o.jsx(Om,{}):o.jsx(zm,{}),o.jsx("span",{children:E?"全画面解除":"全画面"})]})]})]}):o.jsx("div",{className:Y.platformBadgeMuted,children:"空き枠"})}),o.jsx("div",{className:Y.overlayBottom,style:{opacity:z?1:0},children:h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:Y.streamInfo,children:[o.jsx("h3",{children:h.title}),o.jsxs("div",{className:Y.streamMeta,children:[o.jsx("span",{children:h.displayName}),o.jsx("span",{children:qe})]})]}),o.jsxs("div",{className:Y.controls,children:[o.jsx("button",{className:Y.controlButton,type:"button",onClick:P=>{P.stopPropagation(),i(e.id)},children:e.muted?o.jsx(Hl,{}):o.jsx(Ul,{})}),o.jsxs("label",{className:Y.volumeControl,children:[o.jsx("span",{className:"sr-only",children:"音量"}),o.jsx("input",{type:"range",min:0,max:100,value:e.volume,onChange:P=>{const K=Number(P.target.value);s(e.id,K),e.muted&&K>0&&i(e.id)},onClick:P=>P.stopPropagation(),onMouseDown:P=>P.stopPropagation(),onPointerDown:P=>P.stopPropagation()})]})]})]}):o.jsx("div",{className:Y.emptyHint,children:"枠を選択して配信を追加"})})]})]}),I&&o.jsx(Q1,{slotId:e.id,onClose:()=>{W(!1),x(!1)}})]})},Mw=(e,t)=>{var n,r;return e.slot.id===t.slot.id&&((n=e.slot.assignedStream)==null?void 0:n.id)===((r=t.slot.assignedStream)==null?void 0:r.id)&&e.slot.quality===t.slot.quality&&e.slot.volume===t.slot.volume&&e.slot.muted===t.slot.muted&&e.isActive===t.isActive&&e.isFocused===t.isFocused&&e.showSelection===t.showSelection},Tw=m.memo(Ew,Mw),Iw=e=>{if(!e.emotes||e.emotes.length===0)return o.jsx("span",{children:e.message});const t=[];let n=0;return e.emotes.flatMap(l=>l.positions.map(s=>({...s,id:l.id}))).sort((l,s)=>l.start-s.start).forEach((l,s)=>{l.start>n&&t.push(o.jsx("span",{children:e.message.substring(n,l.start)},`text-${s}`));const i=`https://static-cdn.jtvnw.net/emoticons/v2/${l.id}/default/dark/1.0`;t.push(o.jsx("img",{src:i,alt:"emote",className:Z.emote,loading:"lazy"},`emote-${s}`)),n=l.end+1}),n<e.message.length&&t.push(o.jsx("span",{children:e.message.substring(n)},"text-end")),o.jsx(o.Fragment,{children:t})},Lw=()=>{const{slots:e,preset:t,selectedSlotId:n,showSelection:r,selectSlot:l,setShowSelection:s,activeSlotsCount:i,fullscreen:a,setFullscreen:c,clearSelection:d,isModalOpen:p}=rf(F,I=>({slots:I.slots,preset:I.preset,selectedSlotId:I.selectedSlotId,showSelection:I.showSelection,selectSlot:I.selectSlot,setShowSelection:I.setShowSelection,activeSlotsCount:I.activeSlotsCount,fullscreen:I.fullscreen,setFullscreen:I.setFullscreen,clearSelection:I.clearSelection,isModalOpen:I.isModalOpen}),lf),g=m.useRef(null),[v,x]=m.useState(!1),[j,w]=m.useState(""),[C,h]=m.useState(!1),[u,f]=m.useState(null),_=ra(I=>I.messages),N=m.useMemo(()=>e.slice(0,i),[e,i]),k=m.useMemo(()=>_.slice(0,50),[_]),E=m.useMemo(()=>e.filter(I=>I.assignedStream).map(I=>I.assignedStream),[e]);m.useEffect(()=>{!u&&E.length>0?f(E[0].channelId||null):u&&!E.find(I=>I.channelId===u)&&f(E.length>0&&E[0].channelId||null)},[E,u]),m.useEffect(()=>{if(!(!n||p))return g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{s(!1)},3e3),()=>{g.current&&clearTimeout(g.current)}},[n,s,p]);const L=()=>{!n||p||(s(!0),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{s(!1)},3e3))},R=()=>{L()},D=()=>{L()},ne=async()=>{try{document.fullscreenElement&&await document.exitFullscreen(),c(!1)}catch(I){console.error("Failed to exit fullscreen",I)}},te=async()=>{if(!j.trim()||!u||C)return;const I=E.find(W=>W.channelId===u);if(I){h(!0);try{const W={channelId:u,message:j.trim()};I.platform==="twitch"&&I.channelLogin&&(W.channelLogin=I.channelLogin);const se=await fetch(`/api/${I.platform}/chat/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!se.ok){const yt=await se.json();throw new Error(yt.error||"メッセージの送信に失敗しました")}w("")}catch(W){console.error("[StreamGrid] メッセージ送信エラー:",W),alert(W instanceof Error?W.message:"メッセージの送信に失敗しました")}finally{h(!1)}}};return o.jsxs("div",{className:_e(Z.gridContainer,a&&Z.gridContainerFullscreen,a&&v&&Z.gridContainerWithChat),onMouseMove:R,onTouchStart:D,children:[o.jsxs("div",{className:Z.gridWrapper,children:[o.jsx("div",{className:_e(Z.grid,Z[t],t==="twoByTwo"&&Z[`count${i}`],a&&Z.gridFullscreen),children:N.map(I=>o.jsx(Tw,{slot:I,isActive:r&&n===I.id,isFocused:t==="focus"&&n===I.id,showSelection:r,onSelect:()=>l(I.id)},I.id))}),a&&o.jsxs("div",{className:Z.fullscreenToggle,children:[o.jsxs("button",{type:"button",onClick:()=>x(!v),className:_e(v&&Z.chatButtonActive),children:[o.jsx(Vd,{}),o.jsx("span",{children:v?"コメント非表示":"コメント表示"})]}),o.jsx("button",{type:"button",onClick:ne,children:"全画面を終了"})]})]}),a&&v&&o.jsxs("div",{className:Z.fullscreenChat,children:[o.jsx("div",{className:Z.fullscreenChatHeader,children:o.jsx("h3",{children:"チャット"})}),o.jsx("div",{className:Z.fullscreenChatMessages,children:k.map(I=>{var W;return o.jsxs("div",{className:_e(Z.fullscreenChatMessage,I.highlight&&Z.fullscreenChatMessageHighlight,I.bits&&Z.fullscreenChatMessageBits),children:[o.jsx("div",{className:Z.fullscreenChatAvatar,style:{backgroundColor:I.avatarColor},children:((W=I.author)==null?void 0:W.slice(0,2))||"??"}),o.jsxs("div",{className:Z.fullscreenChatBody,children:[o.jsxs("div",{className:Z.fullscreenChatMessageHeader,children:[I.badges&&I.badges.length>0&&o.jsx("div",{className:Z.fullscreenChatBadges,children:I.badges.filter(se=>se.imageUrl).map(se=>o.jsx("img",{src:se.imageUrl,alt:se.setId,className:Z.fullscreenChatBadge,title:se.setId,loading:"lazy"},`${se.setId}-${se.version}`))}),o.jsx("span",{className:Z.fullscreenChatAuthor,children:I.author||"Unknown"}),I.channelName&&o.jsxs("span",{className:Z.fullscreenChatChannel,children:["@ ",I.channelName]}),I.bits&&o.jsxs("span",{className:Z.fullscreenChatBitsAmount,children:[I.bits," Bits"]})]}),o.jsx("p",{className:Z.fullscreenChatText,children:Iw(I)})]})]},I.id)})}),o.jsxs("div",{className:Z.fullscreenChatFooter,children:[E.length>0&&o.jsx("select",{className:Z.fullscreenChatSelect,value:u||"",onChange:I=>f(I.target.value),children:E.map(I=>o.jsxs("option",{value:I.channelId,children:[I.displayName," (",I.platform.toUpperCase(),")"]},I.channelId))}),o.jsxs("div",{className:Z.fullscreenChatInputRow,children:[o.jsx("input",{type:"text",placeholder:E.length===0?"配信を視聴するとチャットを送信できます":"チャットを送信",value:j,onChange:I=>w(I.target.value),onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),te())},disabled:E.length===0||C}),o.jsx("button",{type:"button",className:_e(Z.fullscreenChatSendButton,j.trim().length>0&&!C&&Z.fullscreenChatSendButtonActive),onClick:te,disabled:E.length===0||!j.trim()||C,children:C?"送信中...":"送信"})]})]})]})]})},bw="_triggerButton_pt2lb_1",Bw="_triggerButtonActive_pt2lb_51",Pw="_picker_pt2lb_63",Aw="_header_pt2lb_89",Rw="_tabs_pt2lb_99",$w="_tabButton_pt2lb_111",Dw="_tabButtonActive_pt2lb_145",Ow="_searchBox_pt2lb_157",Fw="_searchIcon_pt2lb_169",zw="_searchInput_pt2lb_187",Uw="_emoteList_pt2lb_229",Hw="_emoteButton_pt2lb_251",Ww="_loading_pt2lb_303",Vw="_empty_pt2lb_305",De={triggerButton:bw,triggerButtonActive:Bw,picker:Pw,header:Aw,tabs:Rw,tabButton:$w,tabButtonActive:Dw,searchBox:Ow,searchIcon:Fw,searchInput:zw,emoteList:Uw,emoteButton:Hw,loading:Ww,empty:Vw},Qw=({onSelectEmote:e})=>{const[t,n]=m.useState(!1),[r,l]=m.useState([]),[s,i]=m.useState([]),[a,c]=m.useState(""),[d,p]=m.useState("global"),[g,v]=m.useState(!1),[x,j]=m.useState({top:0,left:0}),w=m.useRef(null),C=m.useRef(null),h=F(R=>R.slots),u=pr(),f=m.useMemo(()=>h.filter(R=>R.assignedStream&&R.assignedStream.platform==="twitch").map(R=>R.assignedStream),[h]),_=async()=>{try{v(!0);const R=await fetch("/api/twitch/emotes/global",{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch global emotes");const D=await R.json();l(D.items||[])}catch(R){console.error("[EmotePicker] Error fetching global emotes:",R)}finally{v(!1)}},N=async R=>{if(R.length===0){i([]);return}try{v(!0);const D=R.map(async W=>{try{const se=await fetch(`/api/twitch/emotes/channel?broadcasterId=${W}`,{credentials:"include"});return se.ok?(await se.json()).items||[]:(console.error(`[EmotePicker] Failed to fetch emotes for channel ${W}`),[])}catch(se){return console.error(`[EmotePicker] Error fetching emotes for channel ${W}:`,se),[]}}),te=(await Promise.all(D)).flat(),I=Array.from(new Map(te.map(W=>[W.id,W])).values());i(I),console.log(`[EmotePicker] Fetched ${I.length} unique emotes from ${R.length} channels`)}catch(D){console.error("[EmotePicker] Error fetching channel emotes:",D)}finally{v(!1)}};m.useEffect(()=>{t&&r.length===0&&_()},[t]),m.useEffect(()=>{if(d==="channel"&&f.length>0&&s.length===0){const R=f.map(D=>D.channelId).filter(D=>!!D);N(R)}},[d,f]);const k=m.useMemo(()=>{const R=d==="global"?r:s;if(!a)return R;const D=a.toLowerCase();return R.filter(ne=>ne.name.toLowerCase().includes(D))},[d,r,s,a]),E=R=>{e(R),n(!1),c("")},L=()=>{n(!t),t||c("")};return m.useEffect(()=>{if(t&&w.current){const R=w.current.getBoundingClientRect(),D=u?Math.min(window.innerWidth-16,380):420,ne=u?Math.min(window.innerHeight*.6,400):480,te=8;let I=R.left;u?I=(window.innerWidth-D)/2:I+D>window.innerWidth&&(I=window.innerWidth-D-te),I<te&&(I=te);let W=R.top-ne-te;u?W=window.innerHeight-ne-te-60:(W<te&&(W=R.bottom+te),W+ne>window.innerHeight-te&&(W=window.innerHeight-ne-te)),j({top:W,left:I})}},[t,u]),m.useEffect(()=>{if(!t)return;const R=D=>{C.current&&!C.current.contains(D.target)&&w.current&&!w.current.contains(D.target)&&n(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[t]),o.jsxs(o.Fragment,{children:[o.jsxs("button",{ref:w,type:"button",className:_e(De.triggerButton,t&&De.triggerButtonActive),onClick:L,title:"エモートを選択",children:[o.jsx(Jm,{}),o.jsx("span",{children:"エモート"})]}),t&&ta.createPortal(o.jsxs("div",{ref:C,className:De.picker,style:{position:"fixed",top:`${x.top}px`,left:`${x.left}px`,width:u?`${Math.min(window.innerWidth-16,380)}px`:"420px",maxHeight:u?`${Math.min(window.innerHeight*.6,400)}px`:"480px"},children:[o.jsxs("div",{className:De.header,children:[o.jsxs("div",{className:De.tabs,children:[o.jsx("button",{type:"button",className:_e(De.tabButton,d==="global"&&De.tabButtonActive),onClick:()=>p("global"),children:"グローバル"}),f.length>0&&o.jsx("button",{type:"button",className:_e(De.tabButton,d==="channel"&&De.tabButtonActive),onClick:()=>p("channel"),children:"チャンネル"})]}),o.jsxs("div",{className:De.searchBox,children:[o.jsx(ri,{className:De.searchIcon}),o.jsx("input",{type:"text",placeholder:"エモートを検索...",value:a,onChange:R=>c(R.target.value),className:De.searchInput})]})]}),o.jsx("div",{className:De.emoteList,children:g?o.jsx("div",{className:De.loading,children:"読み込み中..."}):k.length===0?o.jsx("div",{className:De.empty,children:a?"検索結果が見つかりません":"エモートがありません"}):k.map(R=>o.jsx("button",{type:"button",className:De.emoteButton,onClick:()=>E(R.name),title:R.name,children:o.jsx("img",{src:R.imageUrl,alt:R.name,loading:"lazy"})},R.id))})]}),document.body)]})},Yw="_chatPanel_d6rrh_1",qw="_header_d6rrh_11",Gw="_headerRight_d6rrh_24",Kw="_highlightBadge_d6rrh_30",Xw="_closeButton_d6rrh_35",Zw="_tabs_d6rrh_60",Jw="_tabButton_d6rrh_65",e_="_tabButtonActive_d6rrh_82",t_="_messageList_d6rrh_88",n_="_message_d6rrh_88",r_="_messageHighlight_d6rrh_111",l_="_messageBits_d6rrh_116",s_="_avatar_d6rrh_121",o_="_messageBody_d6rrh_132",i_="_messageHeader_d6rrh_144",a_="_badges_d6rrh_152",c_="_badge_d6rrh_152",u_="_author_d6rrh_164",d_="_channelName_d6rrh_168",f_="_bitsAmount_d6rrh_174",h_="_timestamp_d6rrh_183",m_="_emote_d6rrh_189",p_="_footer_d6rrh_195",g_="_sendTargetSection_d6rrh_203",y_="_sendTargetLabel_d6rrh_209",v_="_inputRow_d6rrh_216",w_="_channelSelect_d6rrh_221",__="_sendButtonActive_d6rrh_294",x_="_emotePickerRow_d6rrh_305",J={chatPanel:Yw,header:qw,headerRight:Gw,highlightBadge:Kw,closeButton:Xw,tabs:Zw,tabButton:Jw,tabButtonActive:e_,messageList:t_,message:n_,messageHighlight:r_,messageBits:l_,avatar:s_,messageBody:o_,messageHeader:i_,badges:a_,badge:c_,author:u_,channelName:d_,bitsAmount:f_,timestamp:h_,emote:m_,footer:p_,sendTargetSection:g_,sendTargetLabel:y_,inputRow:v_,channelSelect:w_,sendButtonActive:__,emotePickerRow:x_},S_=e=>{if(!e.emotes||e.emotes.length===0)return o.jsx("span",{children:e.message});const t=[];let n=0;return e.emotes.flatMap(l=>l.positions.map(s=>({...s,id:l.id}))).sort((l,s)=>l.start-s.start).forEach((l,s)=>{l.start>n&&t.push(o.jsx("span",{children:e.message.substring(n,l.start)},`${e.id}-text-${s}`));const i=`https://static-cdn.jtvnw.net/emoticons/v2/${l.id}/default/dark/1.0`;t.push(o.jsx("img",{src:i,alt:"emote",className:J.emote,loading:"lazy"},`${e.id}-emote-${l.id}-${s}`)),n=l.end+1}),n<e.message.length&&t.push(o.jsx("span",{children:e.message.substring(n)},`${e.id}-text-end`)),o.jsx(o.Fragment,{children:t})},j_={all:"ALL",youtube:"YouTube",twitch:"Twitch",niconico:"ニコニコ"},k_=()=>{const{filter:e,messages:t,setFilter:n,highlightedCount:r,selectedChannelId:l,setSelectedChannelId:s}=ra(f=>({filter:f.filter,messages:f.messages,setFilter:f.setFilter,highlightedCount:f.highlightedCount,selectedChannelId:f.selectedChannelId,setSelectedChannelId:f.setSelectedChannelId})),i=F(f=>f.slots),a=pr(),c=Bs(f=>f.setChatOpen),[d,p]=m.useState(""),[g,v]=m.useState(!1),x=m.useRef(null),j=m.useMemo(()=>e==="all"?t:t.filter(f=>f.platform===e),[e,t]),w=m.useMemo(()=>["all","twitch"],[]),C=m.useMemo(()=>i.filter(f=>f.assignedStream).map(f=>f.assignedStream),[i]);m.useEffect(()=>{!l&&C.length>0?s(C[0].channelId||null):l&&!C.find(f=>f.channelId===l)&&s(C.length>0&&C[0].channelId||null)},[C,l,s]);const h=async()=>{if(!d.trim()||!l||g)return;const f=C.find(_=>_.channelId===l);if(f){v(!0);try{const _={channelId:l,message:d.trim()};f.platform==="twitch"&&f.channelLogin&&(_.channelLogin=f.channelLogin);const N=await fetch(`/api/${f.platform}/chat/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!N.ok){const k=await N.json();throw new Error(k.error||"メッセージの送信に失敗しました")}p("")}catch(_){console.error("[ChatPanel] メッセージ送信エラー:",_),alert(_ instanceof Error?_.message:"メッセージの送信に失敗しました")}finally{v(!1)}}};m.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[j]);const u=f=>{p(_=>{const N=_.length>0&&!_.endsWith(" ")?" ":"";return`${_}${N}${f} `})};return o.jsxs("div",{className:J.chatPanel,children:[o.jsxs("header",{className:J.header,children:[o.jsx("h2",{children:"チャット"}),o.jsxs("div",{className:J.headerRight,children:[o.jsxs("span",{className:J.highlightBadge,children:["ハイライト ",r]}),a&&o.jsx("button",{type:"button",className:J.closeButton,onClick:()=>c(!1),"aria-label":"チャットを閉じる",children:o.jsx(Bn,{})})]})]}),w.length>2&&o.jsx("div",{className:J.tabs,children:w.map(f=>o.jsx("button",{type:"button",className:_e(J.tabButton,e===f&&J.tabButtonActive),onClick:()=>n(f),children:j_[f]},f))}),o.jsx("div",{className:J.messageList,ref:x,children:j.slice().reverse().map((f,_)=>{var N;return f.id||console.warn("[ChatPanel] Message without ID:",{index:_,message:f}),o.jsxs("article",{className:_e(J.message,f.highlight&&J.messageHighlight,f.bits&&J.messageBits),children:[o.jsx("div",{className:J.avatar,style:{backgroundColor:f.avatarColor},children:((N=f.author)==null?void 0:N.slice(0,2))||"??"}),o.jsxs("div",{className:J.messageBody,children:[o.jsxs("div",{className:J.messageHeader,children:[f.badges&&f.badges.length>0&&o.jsx("div",{className:J.badges,children:f.badges.filter(k=>k.imageUrl).map(k=>o.jsx("img",{src:k.imageUrl,alt:k.setId,className:J.badge,title:k.setId,loading:"lazy"},`${k.setId}-${k.version}`))}),o.jsx("span",{className:J.author,children:f.author||"Unknown"}),f.channelName&&o.jsxs("span",{className:J.channelName,children:["@ ",f.channelName]}),f.bits&&o.jsxs("span",{className:J.bitsAmount,children:[f.bits," Bits"]}),o.jsx("span",{className:J.timestamp,children:f.timestamp})]}),o.jsx("p",{children:S_(f)})]})]},f.id||`fallback-${_}`)})}),o.jsxs("footer",{className:J.footer,children:[C.length>0&&o.jsxs("div",{className:J.sendTargetSection,children:[o.jsx("label",{htmlFor:"channel-select",className:J.sendTargetLabel,children:"チャット送信先"}),o.jsx("select",{id:"channel-select",className:J.channelSelect,value:l||"",onChange:f=>s(f.target.value),children:C.map(f=>o.jsx("option",{value:f.channelId,children:f.displayName},f.channelId))})]}),o.jsxs("div",{className:J.inputRow,children:[o.jsx("input",{type:"text",placeholder:C.length===0?"配信を視聴するとチャットを送信できます":"チャットを送信",value:d,onChange:f=>p(f.target.value),onKeyDown:f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),h())},disabled:C.length===0||g}),o.jsx("button",{type:"button",className:_e(d.trim().length>0&&!g&&J.sendButtonActive),onClick:h,disabled:C.length===0||!d.trim()||g,children:g?"送信中...":"送信"})]}),o.jsx("div",{className:J.emotePickerRow,children:o.jsx(Qw,{onSelectEmote:u})})]})]})},C_="_backdrop_1ozyv_1",N_="_modal_1ozyv_13",E_="_header_1ozyv_25",M_="_closeButton_1ozyv_43",T_="_grid_1ozyv_52",I_="_card_1ozyv_58",L_="_cardActive_1ozyv_75",b_="_cardPreview_1ozyv_81",B_="_previewCell_1ozyv_90",P_="_cardBody_1ozyv_97",Mt={backdrop:C_,modal:N_,header:E_,closeButton:M_,grid:T_,card:I_,cardActive:L_,cardPreview:b_,previewCell:B_,cardBody:P_},Ic={twoByTwo:{label:"2 × 2 グリッド",description:"均等に4枠を配置する定番レイアウト",layout:[1,1,1,1]},oneByTwo:{label:"1 × 2 + サブ",description:"メイン配信を大きく、サブ枠で補助視聴",layout:[2,1,1]},focus:{label:"フォーカス + サブ",description:"一つの枠を全面表示しながらサブ枠を一覧",layout:[4,1,1,1]}},A_=({open:e,onClose:t})=>{const{preset:n,setPreset:r}=F(l=>({preset:l.preset,setPreset:l.setPreset}));return e?o.jsx("div",{className:Mt.backdrop,role:"presentation",onClick:t,children:o.jsxs("div",{className:Mt.modal,role:"dialog","aria-modal":"true","aria-labelledby":"layout-modal-title",onClick:l=>l.stopPropagation(),children:[o.jsxs("header",{className:Mt.header,children:[o.jsxs("div",{children:[o.jsx("h2",{id:"layout-modal-title",children:"レイアウトプリセット"}),o.jsx("p",{children:"よく使うレイアウトを選択して該当プリセットを適用します。"})]}),o.jsx("button",{className:Mt.closeButton,type:"button",onClick:t,children:"閉じる"})]}),o.jsx("div",{className:Mt.grid,children:Object.keys(Ic).map(l=>{const s=Ic[l];return o.jsxs("button",{type:"button",className:_e(Mt.card,n===l&&Mt.cardActive),onClick:()=>{r(l),t()},children:[o.jsx("div",{className:Mt.cardPreview,children:s.layout.map((i,a)=>o.jsx("div",{className:Mt.previewCell,style:{flex:i}},a))}),o.jsxs("div",{className:Mt.cardBody,children:[o.jsx("h3",{children:s.label}),o.jsx("p",{children:s.description})]})]},l)})})]})}):null};function R_(){return o.jsxs("div",{className:"legal-content",children:[o.jsx("h1",{children:"利用規約"}),o.jsx("p",{className:"last-updated",children:"最終更新日: 2025年1月20日"}),o.jsx("p",{children:"本利用規約（以下「本規約」といいます）は、ふくまど！（以下「本サービス」といいます）の利用条件を定めるものです。本サービスをご利用いただくにあたり、本規約の全文をお読みいただき、同意いただく必要があります。"}),o.jsxs("section",{children:[o.jsx("h2",{children:"第1条（本サービスの概要）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービスは、YouTube、Twitch等の動画配信プラットフォームが提供する公式Embed API及びIframe APIを使用した、複数配信の同時視聴を補助するツールです。"}),o.jsx("li",{children:"本サービスは、各プラットフォームの配信コンテンツそのものを提供、保存、複製、再配信するものではなく、ユーザーの視聴体験を向上させるための補助機能を提供します。"}),o.jsx("li",{children:"配信コンテンツの著作権、商標権その他一切の知的財産権は、各配信者及びプラットフォーム事業者に帰属し、本サービス運営者は一切の権利を主張しません。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第2条（利用登録）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービスの基本機能は、利用登録なしでご利用いただけます。"}),o.jsx("li",{children:"一部の機能（YouTubeやTwitchアカウントとの連携等）をご利用いただく場合、各プラットフォームのアカウント認証が必要となります。"}),o.jsx("li",{children:"認証情報は本サービスのサーバーに永続的に保存されることはなく、セッション中のみ使用されます。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第3条（禁止事項）"}),o.jsx("p",{children:"ユーザーは、本サービスの利用にあたり、以下の行為を行ってはなりません。"}),o.jsxs("ol",{children:[o.jsx("li",{children:"法令または公序良俗に違反する行為"}),o.jsx("li",{children:"犯罪行為に関連する行為"}),o.jsx("li",{children:"本サービスの運営を妨害する行為"}),o.jsx("li",{children:"他のユーザーまたは第三者の権利（著作権、商標権、プライバシー権等）を侵害する行為"}),o.jsx("li",{children:"配信者への嫌がらせ、誹謗中傷、スパム行為"}),o.jsx("li",{children:"本サービスのシステムへの不正アクセス、リバースエンジニアリング"}),o.jsx("li",{children:"本サービスのAPIを利用した自動化ツールの作成（当社の許可なく）"}),o.jsx("li",{children:"YouTube、Twitch等のプラットフォーム利用規約に違反する行為"}),o.jsx("li",{children:"本サービスを商用目的で利用する行為（当社の許可なく）"}),o.jsx("li",{children:"その他、本サービス運営者が不適切と判断する行為"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第4条（本サービスの提供の停止等）"}),o.jsxs("ol",{children:[o.jsxs("li",{children:["本サービス運営者は、以下のいずれかの事由があると判断した場合、ユーザーに事前に通知することなく本サービスの全部または一部の提供を停止または中断することができるものとします。",o.jsxs("ul",{children:[o.jsx("li",{children:"本サービスにかかるコンピュータシステムの保守点検または更新を行う場合"}),o.jsx("li",{children:"地震、落雷、火災、停電または天災などの不可抗力により、本サービスの提供が困難となった場合"}),o.jsx("li",{children:"コンピュータまたは通信回線等が事故により停止した場合"}),o.jsx("li",{children:"YouTube Data API、Twitch API等の外部サービスの仕様変更、利用制限、停止があった場合"}),o.jsx("li",{children:"その他、本サービス運営者が本サービスの提供が困難と判断した場合"})]})]}),o.jsx("li",{children:"本サービス運営者は、本サービスの提供の停止または中断により、ユーザーまたは第三者が被ったいかなる不利益または損害についても、一切の責任を負わないものとします。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第5条（利用制限および登録抹消）"}),o.jsx("p",{children:"本サービス運営者は、ユーザーが以下のいずれかに該当する場合には、事前の通知なく、ユーザーに対して、本サービスの全部もしくは一部の利用を制限し、またはユーザーとしての登録を抹消することができるものとします。"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本規約のいずれかの条項に違反した場合"}),o.jsx("li",{children:"登録事項に虚偽の事実があることが判明した場合"}),o.jsx("li",{children:"その他、本サービス運営者が本サービスの利用を適当でないと判断した場合"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第6条（免責事項）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービス運営者は、本サービスに事実上または法律上の瑕疵（安全性、信頼性、正確性、完全性、有効性、特定の目的への適合性、セキュリティなどに関する欠陥、エラーやバグ、権利侵害などを含みます。）がないことを保証するものではありません。"}),o.jsx("li",{children:"本サービスは、YouTube、Twitch等の外部サービスのAPIを利用しているため、それらのサービスの仕様変更、利用制限、停止により、予告なく機能が制限または停止される可能性があります。"}),o.jsx("li",{children:"本サービスに起因してユーザーに生じたあらゆる損害について、本サービス運営者の故意または重過失による場合を除き、本サービス運営者は一切の責任を負いません。"}),o.jsx("li",{children:"本サービスから外部サイト（YouTube、Twitch等）へのリンクまたは外部サイトから本サービスへのリンクが提供されている場合でも、本サービス運営者は、外部サイトについて一切の責任を負いません。"}),o.jsx("li",{children:"本サービスを通じて表示される配信コンテンツの内容については、各配信者が責任を負うものとし、本サービス運営者は一切の責任を負いません。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第7条（サービス内容の変更等）"}),o.jsx("p",{children:"本サービス運営者は、ユーザーへの事前の告知をもって、本サービスの内容を変更、追加または廃止することがあり、ユーザーはこれを承諾するものとします。"})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第8条（利用規約の変更）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービス運営者は、必要と判断した場合には、ユーザーに通知することなくいつでも本規約を変更することができるものとします。"}),o.jsx("li",{children:"変更後の本規約は、本サービス上に掲示された時点で効力を生じるものとします。"}),o.jsx("li",{children:"本規約の変更後、本サービスの利用を開始した場合には、当該ユーザーは変更後の規約に同意したものとみなします。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第9条（個人情報の取扱い）"}),o.jsx("p",{children:"本サービス運営者は、本サービスの利用によって取得する個人情報については、本サービス運営者が別途定める「プライバシーポリシー」に従い適切に取り扱うものとします。"})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第10条（知的財産権）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービス上に表示される文章、画像、プログラム、ソースコード、デザイン等（配信コンテンツを除く）に関する知的財産権は、本サービス運営者または正当な権利を有する第三者に帰属します。"}),o.jsx("li",{children:"ユーザーは、本サービス運営者の事前の許可なく、これらを複製、転載、公衆送信、改変等してはなりません。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第11条（外部サービスとの関係）"}),o.jsxs("ol",{children:[o.jsxs("li",{children:["本サービスは、以下の外部サービスのAPIまたはSDKを利用しています。",o.jsxs("ul",{children:[o.jsx("li",{children:"YouTube Data API v3（Google LLC）"}),o.jsx("li",{children:"Twitch API（Twitch Interactive, Inc.）"}),o.jsx("li",{children:"その他の動画配信プラットフォーム"})]})]}),o.jsx("li",{children:"ユーザーは、これらの外部サービスを利用するにあたり、各サービスの利用規約を遵守する責任を負います。"}),o.jsx("li",{children:"外部サービスの利用規約違反により生じた問題については、ユーザー自身が責任を負うものとし、本サービス運営者は一切の責任を負いません。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第12条（有料サービス）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービスの一部機能は、有料プランとして提供される場合があります。"}),o.jsx("li",{children:"有料プランの詳細（料金、支払方法、解約方法等）については、別途「特定商取引法に基づく表記」に記載します。"}),o.jsx("li",{children:"一度お支払いいただいた料金は、本サービス運営者の責に帰すべき事由がある場合を除き、返金いたしません。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第13条（準拠法・裁判管轄）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本規約の解釈にあたっては、日本法を準拠法とします。"}),o.jsx("li",{children:"本サービスに関して紛争が生じた場合には、本サービス運営者の所在地を管轄する裁判所を専属的合意管轄とします。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"お問い合わせ"}),o.jsx("p",{children:"本規約に関するお問い合わせは、以下の連絡先までお願いいたします。"}),o.jsxs("ul",{children:[o.jsx("li",{children:"サービス名: ふくまど！"}),o.jsx("li",{children:"運営者: [運営者名を記載]"}),o.jsx("li",{children:"連絡先: [メールアドレスを記載]"})]})]})]})}function $_(){return o.jsxs("div",{className:"legal-content",children:[o.jsx("h1",{children:"プライバシーポリシー"}),o.jsx("p",{className:"last-updated",children:"最終更新日: 2025年1月20日"}),o.jsx("p",{children:"ふくまど！（以下「本サービス」といいます）は、ユーザーのプライバシーを尊重し、個人情報の保護に努めます。本プライバシーポリシー（以下「本ポリシー」といいます）は、本サービスがどのような情報を収集し、どのように利用・管理するかを説明するものです。"}),o.jsxs("section",{children:[o.jsx("h2",{children:"第1条（個人情報の定義）"}),o.jsx("p",{children:"本ポリシーにおいて「個人情報」とは、個人情報の保護に関する法律（個人情報保護法）に定める「個人情報」を指し、生存する個人に関する情報であって、当該情報に含まれる氏名、メールアドレス、その他の記述等により特定の個人を識別できる情報を指します。"})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第2条（収集する情報）"}),o.jsx("p",{children:"本サービスは、ユーザーから以下の情報を収集する場合があります。"}),o.jsx("h3",{children:"2-1. ユーザーが提供する情報"}),o.jsxs("ol",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"OAuth認証情報"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Google（YouTube）アカウント認証時: ユーザーID、メールアドレス、プロフィール情報"}),o.jsx("li",{children:"Twitchアカウント認証時: ユーザーID、表示名、プロフィール情報"}),o.jsxs("li",{children:[o.jsx("strong",{children:"注意"}),": アクセストークンはサーバーに永続的に保存されず、セッション中のみ使用されます。"]})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"有料プラン加入時の情報"}),"（将来的に提供される可能性があります）",o.jsxs("ul",{children:[o.jsx("li",{children:"氏名、メールアドレス"}),o.jsx("li",{children:"決済情報（クレジットカード情報は決済代行業者が管理し、本サービスは保持しません）"})]})]})]}),o.jsx("h3",{children:"2-2. 自動的に収集される情報"}),o.jsxs("ol",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"ブラウザ情報"}),o.jsxs("ul",{children:[o.jsx("li",{children:"IPアドレス"}),o.jsx("li",{children:"ブラウザの種類・バージョン"}),o.jsx("li",{children:"OS情報"}),o.jsx("li",{children:"アクセス日時"})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"利用状況情報"}),o.jsxs("ul",{children:[o.jsx("li",{children:"視聴したチャンネル情報（ブラウザのlocalStorageに保存）"}),o.jsx("li",{children:"レイアウト設定"}),o.jsx("li",{children:"音量・ミュート設定"}),o.jsx("li",{children:"フォローチャンネルリスト"})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookie情報"}),o.jsxs("ul",{children:[o.jsx("li",{children:"セッション管理のためのCookie"}),o.jsx("li",{children:"サービス改善のための分析Cookie（将来的に導入される可能性があります）"})]})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第3条（情報の利用目的）"}),o.jsx("p",{children:"本サービスは、収集した情報を以下の目的で利用します。"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービスの提供・運営のため"}),o.jsx("li",{children:"ユーザーの本人確認のため"}),o.jsx("li",{children:"YouTube、Twitch等の外部サービスとの連携のため"}),o.jsx("li",{children:"ユーザーからのお問い合わせに対応するため"}),o.jsx("li",{children:"本サービスの改善、新機能の開発のため"}),o.jsx("li",{children:"利用規約違反行為への対応のため"}),o.jsx("li",{children:"有料プランの決済処理のため（将来的に導入される場合）"}),o.jsx("li",{children:"メンテナンス、重要なお知らせなどの配信のため"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第4条（情報の保存場所）"}),o.jsx("h3",{children:"4-1. クライアント側（ブラウザ）"}),o.jsx("p",{children:"以下の情報は、ユーザーのブラウザのlocalStorageに保存されます。"}),o.jsxs("ul",{children:[o.jsx("li",{children:"フォローチャンネルリスト"}),o.jsx("li",{children:"レイアウト設定"}),o.jsx("li",{children:"音量・ミュート設定"}),o.jsx("li",{children:"スロット割り当て情報"})]}),o.jsx("p",{children:"これらの情報は、ブラウザのキャッシュをクリアすることでいつでも削除できます。"}),o.jsx("h3",{children:"4-2. サーバー側"}),o.jsx("p",{children:"本サービスは、以下の情報をサーバー側に保存します。"}),o.jsxs("ul",{children:[o.jsx("li",{children:"セッション情報（一時的、有効期限: 7日間）"}),o.jsx("li",{children:"アクセスログ（IPアドレス、アクセス日時等、保存期間: 最大90日間）"})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"重要"}),": OAuth認証で取得したアクセストークンは、サーバーに永続的に保存されることはありません。"]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第5条（情報の第三者提供）"}),o.jsx("p",{children:"本サービスは、以下の場合を除き、ユーザーの個人情報を第三者に提供することはありません。"}),o.jsxs("ol",{children:[o.jsx("li",{children:"ユーザーの同意がある場合"}),o.jsx("li",{children:"法令に基づく場合"}),o.jsx("li",{children:"人の生命、身体または財産の保護のために必要がある場合であって、本人の同意を得ることが困難である場合"}),o.jsx("li",{children:"国の機関もしくは地方公共団体またはその委託を受けた者が法令の定める事務を遂行することに対して協力する必要がある場合"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第6条（外部サービスとの情報共有）"}),o.jsx("p",{children:"本サービスは、以下の外部サービスと必要最小限の情報を共有します。"}),o.jsx("h3",{children:"6-1. YouTube（Google LLC）"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"提供情報"}),": OAuth認証で取得したアクセストークン（一時的）"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"利用目的"}),": ユーザーの購読チャンネル取得、ライブ配信情報の取得"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"プライバシーポリシー"}),":"," ",o.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",children:"https://policies.google.com/privacy"})]})]}),o.jsx("h3",{children:"6-2. Twitch（Twitch Interactive, Inc.）"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"提供情報"}),": OAuth認証で取得したアクセストークン（一時的）"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"利用目的"}),": ユーザーのフォローチャンネル取得、ライブ配信情報の取得"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"プライバシーポリシー"}),":"," ",o.jsx("a",{href:"https://www.twitch.tv/p/legal/privacy-notice/",target:"_blank",rel:"noopener noreferrer",children:"https://www.twitch.tv/p/legal/privacy-notice/"})]})]}),o.jsx("h3",{children:"6-3. 決済代行サービス（将来的に導入される可能性があります）"}),o.jsx("p",{children:"有料プラン提供時には、Stripe、PayPal等の決済代行サービスを利用する場合があります。クレジットカード情報等の決済情報は、本サービスではなく、決済代行サービスが管理します。"})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第7条（Cookieの利用）"}),o.jsx("p",{children:"本サービスは、以下の目的でCookieを利用します。"}),o.jsxs("ol",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"必須Cookie"}),": ログイン状態の維持、セッション管理"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"分析Cookie"}),"（将来的に導入される可能性があります）: サービス利用状況の分析、改善"]})]}),o.jsx("p",{children:"ユーザーは、ブラウザの設定によりCookieを無効化できますが、その場合、本サービスの一部機能が利用できなくなる可能性があります。"})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第8条（セキュリティ）"}),o.jsx("p",{children:"本サービスは、個人情報の漏洩、滅失、毀損を防止するため、以下のセキュリティ対策を実施しています。"}),o.jsxs("ol",{children:[o.jsx("li",{children:"HTTPS通信の使用（本番環境）"}),o.jsx("li",{children:"セッションCookieのHTTPOnly属性設定"}),o.jsx("li",{children:"OAuth 2.0による安全な認証"}),o.jsx("li",{children:"アクセストークンの非永続化（セッション限定）"}),o.jsx("li",{children:"定期的なセキュリティアップデート"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第9条（個人情報の開示・訂正・削除）"}),o.jsx("p",{children:"ユーザーは、本サービスが保有する自己の個人情報について、以下の権利を有します。"}),o.jsxs("ol",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"開示請求"}),": 本サービスが保有する個人情報の開示を請求できます。"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"訂正請求"}),": 個人情報の内容が事実でない場合、訂正を請求できます。"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"削除請求"}),": 個人情報の削除を請求できます。"]})]}),o.jsx("p",{children:"請求方法については、本ポリシー末尾の連絡先までお問い合わせください。"})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第10条（未成年者の個人情報）"}),o.jsx("p",{children:"本サービスは、13歳未満のユーザーからの個人情報を意図的に収集することはありません。保護者の方で、お子様が個人情報を提供したことに気づいた場合は、速やかにご連絡ください。"})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第11条（プライバシーポリシーの変更）"}),o.jsxs("ol",{children:[o.jsx("li",{children:"本サービス運営者は、必要に応じて本ポリシーを変更することがあります。"}),o.jsx("li",{children:"変更後のプライバシーポリシーは、本サービス上に掲示された時点で効力を生じるものとします。"}),o.jsx("li",{children:"重要な変更がある場合は、本サービス上で目立つ形で告知します。"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第12条（お問い合わせ窓口）"}),o.jsx("p",{children:"本ポリシーに関するお問い合わせは、以下の連絡先までお願いいたします。"}),o.jsxs("ul",{children:[o.jsx("li",{children:"サービス名: ふくまど！"}),o.jsx("li",{children:"運営者: [運営者名を記載]"}),o.jsx("li",{children:"メールアドレス: [メールアドレスを記載]"}),o.jsx("li",{children:"住所: [住所を記載]（特定商取引法に基づく表記と同じ）"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{children:"第13条（準拠法・管轄裁判所）"}),o.jsx("p",{children:"本ポリシーの解釈にあたっては、日本法を準拠法とし、本サービス運営者の所在地を管轄する裁判所を専属的合意管轄とします。"})]})]})}const D_="_backdrop_efkn5_1",O_="_modal_efkn5_29",F_="_header_efkn5_51",z_="_closeButton_efkn5_81",U_="_content_efkn5_129",Nr={backdrop:D_,modal:O_,header:F_,closeButton:z_,content:U_};function H_({isOpen:e,onClose:t,type:n}){if(!e)return null;const r=l=>{l.target===l.currentTarget&&t()};return o.jsx("div",{className:Nr.backdrop,onClick:r,children:o.jsxs("div",{className:Nr.modal,children:[o.jsxs("div",{className:Nr.header,children:[o.jsx("h2",{children:n==="terms"?"利用規約":"プライバシーポリシー"}),o.jsx("button",{className:Nr.closeButton,onClick:t,"aria-label":"閉じる",children:o.jsx(Bn,{})})]}),o.jsx("div",{className:Nr.content,children:n==="terms"?o.jsx(R_,{}):o.jsx($_,{})})]})})}const W_="_footer_1rxa9_1",V_="_content_1rxa9_17",Q_="_left_1rxa9_37",Y_="_copyright_1rxa9_47",q_="_links_1rxa9_57",G_="_link_1rxa9_57",K_="_separator_1rxa9_101",Kt={footer:W_,content:V_,left:Q_,copyright:Y_,links:q_,link:G_,separator:K_};function X_(){const[e,t]=m.useState(!1),[n,r]=m.useState("terms"),l=()=>{r("terms"),t(!0)},s=()=>{r("privacy"),t(!0)},i=()=>{t(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("footer",{className:Kt.footer,children:o.jsxs("div",{className:Kt.content,children:[o.jsx("div",{className:Kt.left,children:o.jsx("span",{className:Kt.copyright,children:"© 2025 ふくまど！ All rights reserved."})}),o.jsxs("div",{className:Kt.links,children:[o.jsx("button",{onClick:l,className:Kt.link,children:"利用規約"}),o.jsx("span",{className:Kt.separator,children:"|"}),o.jsx("button",{onClick:s,className:Kt.link,children:"プライバシーポリシー"})]})]})}),o.jsx(H_,{isOpen:e,onClose:i,type:n})]})}const Z_="_toastContainer_equn8_1",J_="_toast_equn8_1",ex="_thumbnail_equn8_77",tx="_content_equn8_95",nx="_message_equn8_111",rx="_closeButton_equn8_131",Dn={toastContainer:Z_,toast:J_,thumbnail:ex,content:tx,message:nx,closeButton:rx},lx=({toast:e,onClose:t})=>(m.useEffect(()=>{const n=setTimeout(()=>{t(e.id)},5e3);return()=>clearTimeout(n)},[e.id,t]),o.jsxs("div",{className:Dn.toast,children:[e.thumbnailUrl&&o.jsx("img",{src:e.thumbnailUrl,alt:"",className:Dn.thumbnail,loading:"lazy"}),o.jsx("div",{className:Dn.content,children:o.jsx("p",{className:Dn.message,children:e.message})}),o.jsx("button",{type:"button",className:Dn.closeButton,onClick:()=>t(e.id),"aria-label":"閉じる",children:"×"})]})),sx=({toasts:e,onClose:t})=>o.jsx("div",{className:Dn.toastContainer,children:e.map(n=>o.jsx(lx,{toast:n,onClose:t},n.id))}),ox=()=>{const e=Wl(n=>n.addUsage),t=m.useRef(new Set);m.useEffect(()=>{const n=()=>{try{if(performance.getEntriesByType("resource").forEach(s=>{const i=`${s.name}-${s.startTime}`;if(t.current.has(i))return;const a=s.transferSize;a>0&&e(a),t.current.add(i)}),t.current.size>500){const s=Array.from(t.current);s.slice(0,s.length-500).forEach(a=>t.current.delete(a))}}catch(l){console.error("[DataUsage] リソース測定エラー:",l)}};n();const r=setInterval(n,5e3);return()=>{clearInterval(r)}},[e])},ix="_appShell_1qnx8_1",ax="_body_1qnx8_10",cx="_main_1qnx8_22",ux="_chatArea_1qnx8_33",dx="_bodyFullscreen_1qnx8_43",fx="_mainFullscreen_1qnx8_48",hx="_sidebarNormal_1qnx8_64",mx="_sidebarOverlay_1qnx8_69",px="_backdrop_1qnx8_81",gx="_chatOverlay_1qnx8_102",wt={appShell:ix,body:ax,main:cx,chatArea:ux,bodyFullscreen:dx,mainFullscreen:fx,sidebarNormal:hx,sidebarOverlay:mx,backdrop:px,chatOverlay:gx},yx=()=>{const[e,t]=m.useState(!1),n=F(p=>p.fullscreen),r=F(p=>p.setUserInteracted),l=It(p=>p.toasts),s=It(p=>p.removeToast),i=pr(),{sidebarOpen:a,chatOpen:c,closeAll:d}=Bs();return ox(),m.useEffect(()=>{const p=()=>{!document.fullscreenElement&&n&&F.getState().setFullscreen(!1)};return document.addEventListener("fullscreenchange",p),()=>{document.removeEventListener("fullscreenchange",p)}},[n]),m.useEffect(()=>{const p=()=>{r(!0),document.removeEventListener("click",p),document.removeEventListener("keydown",p),document.removeEventListener("touchstart",p)};return document.addEventListener("click",p),document.addEventListener("keydown",p),document.addEventListener("touchstart",p),()=>{document.removeEventListener("click",p),document.removeEventListener("keydown",p),document.removeEventListener("touchstart",p)}},[r]),o.jsxs("div",{className:wt.appShell,children:[!n&&o.jsx(Fv,{onOpenPresetModal:()=>t(!0)}),o.jsxs("div",{className:n?wt.bodyFullscreen:wt.body,children:[!n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:i&&a?wt.sidebarOverlay:wt.sidebarNormal,children:o.jsx(R0,{onOpenPresetModal:()=>t(!0)})}),i&&a&&o.jsx("div",{className:wt.backdrop,onClick:d})]}),o.jsx("main",{className:n?wt.mainFullscreen:wt.main,children:o.jsx(Lw,{})}),!n&&o.jsxs(o.Fragment,{children:[o.jsx("aside",{className:i&&c?wt.chatOverlay:wt.chatArea,children:o.jsx(k_,{})}),i&&c&&o.jsx("div",{className:wt.backdrop,onClick:d})]})]}),!n&&o.jsx(X_,{}),o.jsx(A_,{open:e,onClose:()=>t(!1)}),o.jsx(sx,{toasts:l,onClose:s})]})},vx=({isOpen:e,onAccept:t})=>{const[n,r]=m.useState("terms"),[l,s]=m.useState(!1),[i,a]=m.useState(!1),[c,d]=m.useState(!1),[p,g]=m.useState(!1),[v,x]=m.useState(null),[j,w]=m.useState(null),[C,h]=m.useState(!0);m.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{h(!0);const E=await(await fetch("http://localhost:4000/api/legal/all",{credentials:"include"})).json();x(E.terms),w(E.privacy)}catch(k){console.error("Failed to fetch legal documents:",k)}finally{h(!1)}},f=k=>{const E=k.currentTarget;E.scrollHeight-E.scrollTop<=E.clientHeight+50&&(n==="terms"?s(!0):a(!0))},_=()=>{c&&p&&l&&i&&t()},N=c&&p&&l&&i;return e?o.jsx("div",{className:"terms-modal-overlay",children:o.jsxs("div",{className:"terms-modal",children:[o.jsxs("div",{className:"terms-modal-header",children:[o.jsx("h2",{children:"利用規約とプライバシーポリシーへの同意"}),o.jsx("p",{className:"terms-modal-subtitle",children:"サービスをご利用いただくには、利用規約とプライバシーポリシーへの同意が必要です。"})]}),o.jsxs("div",{className:"terms-modal-tabs",children:[o.jsxs("button",{className:`terms-tab ${n==="terms"?"active":""}`,onClick:()=>r("terms"),children:["利用規約",l&&c&&o.jsx("span",{className:"tab-check",children:"✓"})]}),o.jsxs("button",{className:`terms-tab ${n==="privacy"?"active":""}`,onClick:()=>r("privacy"),children:["プライバシーポリシー",i&&p&&o.jsx("span",{className:"tab-check",children:"✓"})]})]}),o.jsx("div",{className:"terms-modal-content",onScroll:f,children:C?o.jsx("div",{className:"terms-loading",children:"読み込み中..."}):o.jsxs(o.Fragment,{children:[n==="terms"&&v&&o.jsxs("div",{className:"terms-document",children:[o.jsxs("div",{className:"document-meta",children:[o.jsxs("span",{children:["バージョン: ",v.version]}),o.jsxs("span",{children:["最終更新: ",v.lastUpdated]})]}),o.jsx("div",{className:"document-content",children:v.content.split(`
`).map((k,E)=>k.startsWith("# ")?o.jsx("h1",{children:k.substring(2)},E):k.startsWith("## ")?o.jsx("h2",{children:k.substring(3)},E):k.trim()===""?o.jsx("br",{},E):o.jsx("p",{children:k},E))}),!l&&o.jsx("div",{className:"scroll-indicator",children:"↓ 最後までスクロールしてください ↓"})]}),n==="privacy"&&j&&o.jsxs("div",{className:"terms-document",children:[o.jsxs("div",{className:"document-meta",children:[o.jsxs("span",{children:["バージョン: ",j.version]}),o.jsxs("span",{children:["最終更新: ",j.lastUpdated]})]}),o.jsx("div",{className:"document-content",children:j.content.split(`
`).map((k,E)=>k.startsWith("# ")?o.jsx("h1",{children:k.substring(2)},E):k.startsWith("## ")?o.jsx("h2",{children:k.substring(3)},E):k.trim()===""?o.jsx("br",{},E):o.jsx("p",{children:k},E))}),!i&&o.jsx("div",{className:"scroll-indicator",children:"↓ 最後までスクロールしてください ↓"})]})]})}),o.jsxs("div",{className:"terms-modal-checkboxes",children:[o.jsxs("label",{className:"terms-checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:k=>d(k.target.checked),disabled:!l}),o.jsxs("span",{className:l?"":"disabled-text",children:["利用規約を読み、同意します",!l&&" (最後までスクロールしてください)"]})]}),o.jsxs("label",{className:"terms-checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:k=>g(k.target.checked),disabled:!i}),o.jsxs("span",{className:i?"":"disabled-text",children:["プライバシーポリシーを読み、同意します",!i&&" (最後までスクロールしてください)"]})]})]}),o.jsxs("div",{className:"terms-modal-footer",children:[o.jsx("button",{className:"terms-accept-button",onClick:_,disabled:!N,children:"同意して続ける"}),!N&&o.jsx("p",{className:"terms-footer-hint",children:"両方の文書を最後まで読み、チェックボックスにチェックを入れてください"})]})]})}):null},wx=({isOpen:e,onAccept:t})=>{const[n,r]=m.useState(!1),[l,s]=m.useState(!0),[i,a]=m.useState(!0),c=()=>{t({essential_cookies:!0,analytics_cookies:!0,marketing_cookies:!0})},d=()=>{t({essential_cookies:!0,analytics_cookies:l,marketing_cookies:i})},p=()=>{t({essential_cookies:!0,analytics_cookies:!1,marketing_cookies:!1})};return e?o.jsx("div",{className:"cookie-banner-overlay",children:o.jsxs("div",{className:"cookie-banner",children:[o.jsxs("div",{className:"cookie-banner-content",children:[o.jsx("h3",{className:"cookie-banner-title",children:"🍪 クッキーの使用について"}),o.jsx("p",{className:"cookie-banner-text",children:"当サービスでは、サービスの向上と最適な体験を提供するためにクッキーを使用しています。 必須クッキーはサービスの基本機能に必要ですが、分析・マーケティングクッキーは任意です。"}),n&&o.jsxs("div",{className:"cookie-options",children:[o.jsxs("div",{className:"cookie-option",children:[o.jsxs("div",{className:"cookie-option-header",children:[o.jsx("input",{type:"checkbox",id:"essential-cookies",checked:!0,disabled:!0}),o.jsxs("label",{htmlFor:"essential-cookies",children:[o.jsx("strong",{children:"必須クッキー"}),o.jsx("span",{className:"required-badge",children:"必須"})]})]}),o.jsx("p",{className:"cookie-option-description",children:"認証、セキュリティ、基本機能に必要なクッキーです。これらは無効にできません。"})]}),o.jsxs("div",{className:"cookie-option",children:[o.jsxs("div",{className:"cookie-option-header",children:[o.jsx("input",{type:"checkbox",id:"analytics-cookies",checked:l,onChange:g=>s(g.target.checked)}),o.jsxs("label",{htmlFor:"analytics-cookies",children:[o.jsx("strong",{children:"分析クッキー"}),o.jsx("span",{className:"optional-badge",children:"任意"})]})]}),o.jsx("p",{className:"cookie-option-description",children:"サービスの利用状況を分析し、改善に役立てるためのクッキーです（Google Analytics等）。"})]}),o.jsxs("div",{className:"cookie-option",children:[o.jsxs("div",{className:"cookie-option-header",children:[o.jsx("input",{type:"checkbox",id:"marketing-cookies",checked:i,onChange:g=>a(g.target.checked)}),o.jsxs("label",{htmlFor:"marketing-cookies",children:[o.jsx("strong",{children:"マーケティングクッキー"}),o.jsx("span",{className:"optional-badge",children:"任意"})]})]}),o.jsx("p",{className:"cookie-option-description",children:"パーソナライズされた広告や関連性の高いコンテンツを提供するためのクッキーです。"})]})]})]}),o.jsx("div",{className:"cookie-banner-actions",children:n?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"cookie-button cookie-button-primary",onClick:d,children:"選択を保存"}),o.jsx("button",{className:"cookie-button cookie-button-secondary",onClick:()=>r(!1),children:"戻る"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"cookie-button cookie-button-primary",onClick:c,children:"すべて許可"}),o.jsx("button",{className:"cookie-button cookie-button-secondary",onClick:()=>r(!0),children:"カスタマイズ"}),o.jsx("button",{className:"cookie-button cookie-button-tertiary",onClick:p,children:"必須のみ許可"})]})}),o.jsxs("p",{className:"cookie-banner-footer",children:["詳細は",o.jsx("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:"プライバシーポリシー"}),"をご確認ください"]})]})}):null},_x=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[l,s]=m.useState(!0),[i,a]=m.useState(!1),[c,d]=m.useState(!1);m.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const C=await(await fetch("http://localhost:4000/api/consent/status",{credentials:"include"})).json();t(C.status),r(C.needs),C.needs.needsTermsAndPrivacy?a(!0):C.needs.needsCookieConsent&&d(!0)}catch(w){console.error("Failed to check consent status:",w)}finally{s(!1)}},g=async()=>{try{(await fetch("http://localhost:4000/api/consent",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({consents:[{type:"terms",granted:!0},{type:"privacy",granted:!0}]})})).ok?(console.log("[Consent Manager] Terms and privacy accepted"),a(!1),await p()):console.error("[Consent Manager] Failed to record terms consent")}catch(w){console.error("[Consent Manager] Error recording terms consent:",w)}},v=async w=>{try{(await fetch("http://localhost:4000/api/consent",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({consents:[{type:"essential_cookies",granted:w.essential_cookies},{type:"analytics_cookies",granted:w.analytics_cookies},{type:"marketing_cookies",granted:w.marketing_cookies}]})})).ok?(console.log("[Consent Manager] Cookie consent recorded:",w),d(!1),await p(),w.analytics_cookies&&x(),w.marketing_cookies&&j()):console.error("[Consent Manager] Failed to record cookie consent")}catch(C){console.error("[Consent Manager] Error recording cookie consent:",C)}},x=()=>{console.log("[Consent Manager] Analytics initialized")},j=()=>{console.log("[Consent Manager] Marketing tags initialized")};return l?null:o.jsxs(o.Fragment,{children:[o.jsx(vx,{isOpen:i,onAccept:g}),o.jsx(wx,{isOpen:c,onAccept:v})]})},xx=()=>{const{message:e,enabledAt:t,scheduledEndAt:n,duration:r}=na();return o.jsx("div",{className:"maintenance-page",children:o.jsxs("div",{className:"maintenance-container",children:[o.jsx("div",{className:"maintenance-icon",children:"🔧"}),o.jsx("h1",{className:"maintenance-title",children:"メンテナンス中"}),o.jsx("div",{className:"maintenance-message",children:e||"サービスは現在メンテナンス中です。しばらくお待ちください。"}),o.jsxs("div",{className:"maintenance-info",children:[t&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"開始時刻:"}),o.jsx("span",{className:"info-value",children:new Date(t).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),r!==void 0&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"予定時間:"}),o.jsx("span",{className:"info-value",children:r===0?"無期限":`${r}分`})]}),n&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"終了予定:"}),o.jsx("span",{className:"info-value",children:new Date(n).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]}),o.jsxs("div",{className:"maintenance-footer",children:[o.jsx("p",{children:"ご不便をおかけして申し訳ございません。"}),o.jsx("p",{children:"メンテナンス完了後、自動的にサービスが再開されます。"})]})]})})},Sx="ws://localhost:4000/chat";class jx{constructor(){Nt(this,"ws",null);Nt(this,"messageHandlers",new Set);Nt(this,"openHandlers",new Set);Nt(this,"closeHandlers",new Set);Nt(this,"errorHandlers",new Set);Nt(this,"reconnectTimer",null);Nt(this,"reconnectAttempts",0);Nt(this,"maxReconnectAttempts",5);Nt(this,"isIntentionallyClosed",!1)}connect(){if(this.ws&&(this.ws.readyState===WebSocket.OPEN||this.ws.readyState===WebSocket.CONNECTING)){console.log("[WebSocketService] Already connected or connecting");return}console.log("[WebSocketService] Establishing connection..."),this.isIntentionallyClosed=!1;try{this.ws=new WebSocket(Sx),this.ws.onopen=()=>{console.log("[WebSocketService] Connected successfully"),this.reconnectAttempts=0,this.openHandlers.forEach(t=>{try{t()}catch(n){console.error("[WebSocketService] Error in open handler:",n)}})},this.ws.onmessage=t=>{console.log("[WebSocketService] Message received:",t.data);try{const n=JSON.parse(t.data);this.messageHandlers.forEach(r=>{try{r(n)}catch(l){console.error("[WebSocketService] Error in message handler:",l)}})}catch(n){console.error("[WebSocketService] Error parsing message:",n)}},this.ws.onerror=t=>{console.error("[WebSocketService] Error:",t),this.errorHandlers.forEach(n=>{try{n(t)}catch(r){console.error("[WebSocketService] Error in error handler:",r)}})},this.ws.onclose=()=>{if(console.log("[WebSocketService] Connection closed"),this.ws=null,this.closeHandlers.forEach(t=>{try{t()}catch(n){console.error("[WebSocketService] Error in close handler:",n)}}),!this.isIntentionallyClosed&&this.reconnectAttempts<this.maxReconnectAttempts){const t=Math.min(1e3*Math.pow(2,this.reconnectAttempts),1e4);console.log(`[WebSocketService] Reconnecting in ${t}ms (attempt ${this.reconnectAttempts+1}/${this.maxReconnectAttempts})`),this.reconnectTimer=setTimeout(()=>{this.reconnectAttempts++,this.connect()},t)}}}catch(t){console.error("[WebSocketService] Error creating WebSocket:",t)}}disconnect(){console.log("[WebSocketService] Disconnecting..."),this.isIntentionallyClosed=!0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&((this.ws.readyState===WebSocket.OPEN||this.ws.readyState===WebSocket.CONNECTING)&&this.ws.close(),this.ws=null)}send(t){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return console.warn("[WebSocketService] Cannot send message: not connected"),!1;try{const n=typeof t=="string"?t:JSON.stringify(t);return this.ws.send(n),console.log("[WebSocketService] Message sent:",n),!0}catch(n){return console.error("[WebSocketService] Error sending message:",n),!1}}isConnected(){return this.ws!==null&&this.ws.readyState===WebSocket.OPEN}getReadyState(){var t;return((t=this.ws)==null?void 0:t.readyState)??null}onMessage(t){return this.messageHandlers.add(t),()=>{this.messageHandlers.delete(t)}}onOpen(t){if(this.openHandlers.add(t),this.isConnected())try{t()}catch(n){console.error("[WebSocketService] Error in open handler:",n)}return()=>{this.openHandlers.delete(t)}}onClose(t){return this.closeHandlers.add(t),()=>{this.closeHandlers.delete(t)}}onError(t){return this.errorHandlers.add(t),()=>{this.errorHandlers.delete(t)}}clearAllHandlers(){this.messageHandlers.clear(),this.openHandlers.clear(),this.closeHandlers.clear(),this.errorHandlers.clear()}}const wn=new jx,kx=e=>({id:e.id,platform:"youtube",title:e.title,displayName:e.channelTitle,channelId:e.channelId,channelTitle:e.channelTitle,description:e.description,thumbnailUrl:e.thumbnailUrl,liveSince:e.publishedAt,embedUrl:`https://www.youtube.com/embed/${e.id}?enablejsapi=1`}),Cx=e=>({id:e.id,platform:"twitch",title:e.title,displayName:e.displayName,channelId:e.userId,channelLogin:e.login,channelTitle:e.displayName,thumbnailUrl:e.thumbnailUrl,liveSince:e.startedAt,viewerCount:e.viewerCount,embedUrl:`https://player.twitch.tv/?channel=${e.login}&parent=${window.location.hostname}&autoplay=false&muted=false`}),Nx=(e=[],t=[])=>{const n=m.useRef(!1),r=m.useRef(!0),l=m.useRef(void 0),s=m.useRef({youtube:"",twitch:""}),i=F(x=>x.setAvailableStreamsForPlatform),a=F(x=>x.setStreamsLoading),c=F(x=>x.setStreamsError),d=It(x=>x.addNotification),p=rt(x=>x.setSyncing),g=rt(x=>x.setLastSyncTime),v=oe(x=>x.sessionId);m.useEffect(()=>{console.log("[useStreamUpdates] Ensuring WebSocket connection..."),wn.connect();const x=wn.onMessage(w=>{if(w.type==="stream_list_updated"){console.log("[useStreamUpdates] Stream update received:",{platform:w.platform,count:w.streams.length,added:w.changes.added.length,removed:w.changes.removed.length});let C=[];w.platform==="youtube"?C=w.streams.map(kx):w.platform==="twitch"&&(C=w.streams.map(Cx)),i(w.platform,C),c(void 0),p(!1),a(!1),g(Date.now()),!r.current&&w.changes.added.length>0?C.filter(u=>w.changes.added.includes(u.id)).forEach(u=>{console.log("[useStreamUpdates] New stream detected:",u.displayName,u.title),d({type:"stream_started",platform:w.platform,channelId:u.channelId||"",channelName:u.displayName,streamId:u.id,streamTitle:u.title,thumbnailUrl:u.thumbnailUrl})}):r.current&&(console.log("[useStreamUpdates] Initial load, skipping notifications"),r.current=!1)}}),j=wn.onError(()=>{p(!1),a(!1)});return()=>{x(),j()}},[i,c,a,p,g,d]),m.useEffect(()=>{const x={youtube:e.join(","),twitch:t.join(",")};if(e.length===0&&t.length===0)return;if(!v){console.log("[useStreamUpdates] Waiting for sessionId...",{youtubeChannels:e.length,twitchChannels:t.length});return}const j=x.youtube!==s.current.youtube||x.twitch!==s.current.twitch,w=v!==l.current;if(!j&&!w&&n.current){console.log("[useStreamUpdates] No changes detected, skipping subscribe");return}const C=()=>{if(!wn.isConnected()){console.log("[useStreamUpdates] Waiting for WebSocket connection...");return}console.log("[useStreamUpdates] Sending subscribe_streams message:",{youtube:e.length,twitch:t.length,sessionId:v,reason:j?"channels changed":w?"sessionId changed":"initial"}),wn.send({type:"subscribe_streams",youtubeChannels:e,twitchChannels:t,sessionId:v})&&(n.current=!0,l.current=v,s.current=x,p(!0),a(!0))};if(wn.isConnected())C();else{const h=wn.onOpen(()=>{C(),h()})}},[e.join(","),t.join(","),v,p,a])},Ex="ws://localhost:4000/chat",Mx=e=>{const t=m.useRef(null),n=m.useRef(""),r=ra(s=>s.addMessage),l=JSON.stringify(e.map(s=>s.login).sort());m.useEffect(()=>{if(!t.current||t.current.readyState===WebSocket.CLOSED){const s=new WebSocket(Ex);s.onopen=()=>{t.current=s,e.length>0&&(s.send(JSON.stringify({type:"subscribe",channels:e.map(i=>i.login),channelMapping:Object.fromEntries(e.map(i=>[i.login,i.displayName])),channelIdMapping:Object.fromEntries(e.filter(i=>i.channelId).map(i=>[i.login,i.channelId]))})),n.current=l)},s.onmessage=i=>{try{const a=JSON.parse(i.data);if(console.log("[useTwitchChat] Received raw message:",a),a.type&&a.type!=="chat"){console.log("[useTwitchChat] Ignoring non-chat message:",a.type);return}if(!a.platform&&!a.channelLogin){console.log("[useTwitchChat] Ignoring message without platform/channelLogin");return}console.log("[useTwitchChat] Processing chat message fields:",{id:a.id,author:a.author,message:a.message,timestamp:a.timestamp,channelName:a.channelName});const c={id:a.id,platform:"twitch",author:a.author,message:a.message,timestamp:a.timestamp,avatarColor:a.avatarColor,channelName:a.channelName,emotes:a.emotes,badges:a.badges,bits:a.bits,isSubscriber:a.isSubscriber,isModerator:a.isModerator,isVip:a.isVip};console.log("[useTwitchChat] Converted ChatMessage:",c),r(c)}catch(a){console.error("[useTwitchChat] Error parsing message:",a)}},s.onerror=i=>{console.error("[useTwitchChat] WebSocket error:",i)},s.onclose=()=>{t.current=null},t.current=s}else t.current.readyState===WebSocket.OPEN&&n.current!==l&&(t.current.send(JSON.stringify({type:"subscribe",channels:e.map(s=>s.login),channelMapping:Object.fromEntries(e.map(s=>[s.login,s.displayName])),channelIdMapping:Object.fromEntries(e.filter(s=>s.channelId).map(s=>[s.login,s.channelId]))})),n.current=l);return()=>{}},[l,e,r]),m.useEffect(()=>()=>{t.current&&t.current.readyState===WebSocket.OPEN&&(t.current.close(),t.current=null)},[])},Tx=()=>{const e=oe(r=>r.setStatus),t=oe(r=>r.setLoading),n=oe(r=>r.setError);m.useEffect(()=>{let r=!1;return(async()=>{t(!0),n(void 0);try{const s=await En("/auth/status");if(!s.ok)throw new Error(`ステータス取得に失敗しました (${s.status})`);const i=await s.json();if(r)return;e({authenticated:!!i.authenticated,user:i.user,error:void 0})}catch(s){if(r)return;const i=s instanceof Error?s.message:"不明なエラー";n(i),e({authenticated:!1,user:void 0,error:i})}finally{r||t(!1)}})(),()=>{r=!0}},[n,t,e])},Ix=()=>{const e=oe(r=>r.setTwitchStatus),t=oe(r=>r.setTwitchLoading),n=oe(r=>r.setTwitchError);m.useEffect(()=>{let r=!1;return(async()=>{t(!0),n(void 0);try{const s=await En("/auth/twitch/status");if(!s.ok)throw new Error(`Twitchステータス取得に失敗しました (${s.status})`);const i=await s.json();if(r)return;e({authenticated:!!i.authenticated,user:i.user,error:void 0})}catch(s){if(r)return;const i=s instanceof Error?s.message:"不明なエラー";n(i),e({authenticated:!1,user:void 0,error:i})}finally{r||t(!1)}})(),()=>{r=!0}},[n,t,e])};function Lx(){const e=F(u=>u.ensureSelection),t=F(u=>u.slots),n=bt(u=>u.followedChannels),r=bt(u=>u.addFollowedChannels),l=bt(u=>u.setCurrentYoutubeUser),s=bt(u=>u.setCurrentTwitchUser),i=oe(u=>u.authenticated),a=oe(u=>u.user),c=oe(u=>u.twitchAuthenticated),d=oe(u=>u.twitchUser),p=oe(u=>u.setSessionId),g=rt(u=>u.triggerManualSync),v=na(u=>u.enabled),x=m.useMemo(()=>n.filter(u=>u.platform==="youtube").map(u=>u.channelId),[n]),j=m.useMemo(()=>n.filter(u=>u.platform==="twitch").map(u=>u.channelId),[n]),w=m.useMemo(()=>{var f;const u=[];for(const _ of t)if(((f=_.assignedStream)==null?void 0:f.platform)==="twitch"&&_.assignedStream.embedUrl){const N=_.assignedStream.embedUrl.match(/[?&]channel=([^&]+)/);N&&N[1]&&u.push({login:N[1],displayName:_.assignedStream.displayName,channelId:_.assignedStream.channelId})}return u},[t]);Tx(),Ix(),m.useEffect(()=>{const u=_=>{var N;console.error("[Global Error]",{message:_.message,filename:_.filename,lineno:_.lineno,colno:_.colno,error:_.error,stack:(N=_.error)==null?void 0:N.stack})},f=_=>{console.error("[Unhandled Promise Rejection]",{reason:_.reason,promise:_.promise})};return window.addEventListener("error",u),window.addEventListener("unhandledrejection",f),()=>{window.removeEventListener("error",u),window.removeEventListener("unhandledrejection",f)}},[]),Nx([],j),Mx(w),m.useEffect(()=>{e()},[e]),m.useEffect(()=>{i&&(a!=null&&a.id)?l(a.id):l(null)},[i,a,l]),m.useEffect(()=>{c&&(d!=null&&d.id)?s(d.id):s(null)},[c,d,s]);const C=m.useRef(!1),h=m.useRef(!1);return m.useEffect(()=>{h.current=!1,C.current=!1,console.log("[App] Reset sync flags on mount (reload)")},[]),m.useEffect(()=>{n.length>0&&console.log("[App] Followed channels loaded:",{total:n.length,youtube:x.length,twitch:j.length})},[n.length,x.length,j.length]),m.useEffect(()=>{},[i,r,g,l,p]),m.useEffect(()=>{i||(C.current=!1)},[i]),m.useEffect(()=>{(async()=>{if(!c||h.current){console.log("[App] Skipping Twitch subscriptions sync:",{authenticated:c,alreadySynced:h.current});return}console.log("[App] Fetching Twitch subscriptions...");try{const f=await En("/api/twitch/subscriptions");if(!f.ok)throw new Error(`Twitchフォローチャンネルの取得に失敗しました (${f.status})`);const _=await f.json();if(_.sessionId?(console.log("[App] Setting Twitch sessionId:",_.sessionId),p(_.sessionId)):console.warn("[App] No sessionId in Twitch subscriptions response"),Array.isArray(_.items)){const N=oe.getState().twitchUser;N!=null&&N.id&&s(N.id);const k=_.items.map(E=>({platform:"twitch",channelId:E.id,label:E.displayName}));console.log("[App] Adding Twitch followed channels:",k.length),r(k),h.current=!0,console.log("[App] Triggering manual sync after Twitch subscriptions"),g()}}catch(f){console.error(f)}})()},[c,r,g,s,p]),m.useEffect(()=>{c||(h.current=!1)},[c]),v?o.jsx(xx,{}):o.jsxs(o.Fragment,{children:[o.jsx(_x,{}),o.jsx(yx,{})]})}co.createRoot(document.getElementById("root")).render(o.jsx(ui.StrictMode,{children:o.jsx(Lx,{})}));
